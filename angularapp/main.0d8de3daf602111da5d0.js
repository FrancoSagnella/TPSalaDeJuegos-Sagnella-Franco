(self.webpackChunktp_sala_juegos=self.webpackChunktp_sala_juegos||[]).push([[179],{8255:Rt=>{function ze(G){return Promise.resolve().then(()=>{var C=new Error("Cannot find module '"+G+"'");throw C.code="MODULE_NOT_FOUND",C})}ze.keys=()=>[],ze.resolve=ze,ze.id=8255,Rt.exports=ze},8583:(Rt,ze,G)=>{"use strict";G.d(ze,{mr:()=>Je,Ov:()=>Qi,ez:()=>ko,K0:()=>ke,Do:()=>ut,V_:()=>te,Ye:()=>Ke,S$:()=>Fe,mk:()=>xs,sg:()=>Hr,O5:()=>Zr,b0:()=>et,lw:()=>_e,EM:()=>vr,JF:()=>Gi,PM:()=>ws,w_:()=>pe,bD:()=>Di,q:()=>se,Mx:()=>cn,HT:()=>Re});var C=G(3018);let I=null;function se(){return I}function Re(L){I||(I=L)}class pe{}const ke=new C.OlP("DocumentToken");let _e=(()=>{class L{historyGo(V){throw new Error("Not implemented")}}return L.\u0275fac=function(V){return new(V||L)},L.\u0275prov=(0,C.Yz7)({factory:ue,token:L,providedIn:"platform"}),L})();function ue(){return(0,C.LFG)(ae)}const te=new C.OlP("Location Initialized");let ae=(()=>{class L extends _e{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(V){const Q=se().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",V,!1),()=>Q.removeEventListener("popstate",V)}onHashChange(V){const Q=se().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",V,!1),()=>Q.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,Q,be){ge()?this._history.pushState(V,Q,be):this.location.hash=be}replaceState(V,Q,be){ge()?this._history.replaceState(V,Q,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return L.\u0275fac=function(V){return new(V||L)(C.LFG(ke))},L.\u0275prov=(0,C.Yz7)({factory:he,token:L,providedIn:"platform"}),L})();function ge(){return!!window.history.pushState}function he(){return new ae((0,C.LFG)(ke))}function Ie(L,Z){if(0==L.length)return Z;if(0==Z.length)return L;let V=0;return L.endsWith("/")&&V++,Z.startsWith("/")&&V++,2==V?L+Z.substring(1):1==V?L+Z:L+"/"+Z}function Ge(L){const Z=L.match(/#|\?|$/),V=Z&&Z.index||L.length;return L.slice(0,V-("/"===L[V-1]?1:0))+L.slice(V)}function Le(L){return L&&"?"!==L[0]?"?"+L:L}let Fe=(()=>{class L{historyGo(V){throw new Error("Not implemented")}}return L.\u0275fac=function(V){return new(V||L)},L.\u0275prov=(0,C.Yz7)({factory:ve,token:L,providedIn:"root"}),L})();function ve(L){const Z=(0,C.LFG)(ke).location;return new et((0,C.LFG)(_e),Z&&Z.origin||"")}const Je=new C.OlP("appBaseHref");let et=(()=>{class L extends Fe{constructor(V,Q){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Ie(this._baseHref,V)}path(V=!1){const Q=this._platformLocation.pathname+Le(this._platformLocation.search),be=this._platformLocation.hash;return be&&V?`${Q}${be}`:Q}pushState(V,Q,be,He){const lt=this.prepareExternalUrl(be+Le(He));this._platformLocation.pushState(V,Q,lt)}replaceState(V,Q,be,He){const lt=this.prepareExternalUrl(be+Le(He));this._platformLocation.replaceState(V,Q,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var Q,be;null===(be=(Q=this._platformLocation).historyGo)||void 0===be||be.call(Q,V)}}return L.\u0275fac=function(V){return new(V||L)(C.LFG(_e),C.LFG(Je,8))},L.\u0275prov=C.Yz7({token:L,factory:L.\u0275fac}),L})(),ut=(()=>{class L extends Fe{constructor(V,Q){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(V){const Q=Ie(this._baseHref,V);return Q.length>0?"#"+Q:Q}pushState(V,Q,be,He){let lt=this.prepareExternalUrl(be+Le(He));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.pushState(V,Q,lt)}replaceState(V,Q,be,He){let lt=this.prepareExternalUrl(be+Le(He));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.replaceState(V,Q,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var Q,be;null===(be=(Q=this._platformLocation).historyGo)||void 0===be||be.call(Q,V)}}return L.\u0275fac=function(V){return new(V||L)(C.LFG(_e),C.LFG(Je,8))},L.\u0275prov=C.Yz7({token:L,factory:L.\u0275fac}),L})(),Ke=(()=>{class L{constructor(V,Q){this._subject=new C.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const be=this._platformStrategy.getBaseHref();this._platformLocation=Q,this._baseHref=Ge(on(be)),this._platformStrategy.onPopState(He=>{this._subject.emit({url:this.path(!0),pop:!0,state:He.state,type:He.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,Q=""){return this.path()==this.normalize(V+Le(Q))}normalize(V){return L.stripTrailingSlash(function(L,Z){return L&&Z.startsWith(L)?Z.substring(L.length):Z}(this._baseHref,on(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,Q="",be=null){this._platformStrategy.pushState(be,"",V,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Le(Q)),be)}replaceState(V,Q="",be=null){this._platformStrategy.replaceState(be,"",V,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Le(Q)),be)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var Q,be;null===(be=(Q=this._platformStrategy).historyGo)||void 0===be||be.call(Q,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)}))}_notifyUrlChangeListeners(V="",Q){this._urlChangeListeners.forEach(be=>be(V,Q))}subscribe(V,Q,be){return this._subject.subscribe({next:V,error:Q,complete:be})}}return L.\u0275fac=function(V){return new(V||L)(C.LFG(Fe),C.LFG(_e))},L.normalizeQueryParams=Le,L.joinWithSlash=Ie,L.stripTrailingSlash=Ge,L.\u0275prov=(0,C.Yz7)({factory:fe,token:L,providedIn:"root"}),L})();function fe(){return new Ke((0,C.LFG)(Fe),(0,C.LFG)(_e))}function on(L){return L.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Zero=0]="Zero",Ue[Ue.One=1]="One",Ue[Ue.Two=2]="Two",Ue[Ue.Few=3]="Few",Ue[Ue.Many=4]="Many",Ue[Ue.Other=5]="Other",Ue))();const un=C.kL8;class Cr{}let mi=(()=>{class L extends Cr{constructor(V){super(),this.locale=V}getPluralCategory(V,Q){switch(un(Q||this.locale)(V)){case Ue.Zero:return"zero";case Ue.One:return"one";case Ue.Two:return"two";case Ue.Few:return"few";case Ue.Many:return"many";default:return"other"}}}return L.\u0275fac=function(V){return new(V||L)(C.LFG(C.soG))},L.\u0275prov=C.Yz7({token:L,factory:L.\u0275fac}),L})();function cn(L,Z){Z=encodeURIComponent(Z);for(const V of L.split(";")){const Q=V.indexOf("="),[be,He]=-1==Q?[V,""]:[V.slice(0,Q),V.slice(Q+1)];if(be.trim()===Z)return decodeURIComponent(He)}return null}let xs=(()=>{class L{constructor(V,Q,be,He){this._iterableDiffers=V,this._keyValueDiffers=Q,this._ngEl=be,this._renderer=He,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,C.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),V.forEachChangedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),V.forEachRemovedItem(Q=>{Q.previousValue&&this._toggleClass(Q.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(Q=>{if("string"!=typeof Q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.AaK)(Q.item)}`);this._toggleClass(Q.item,!0)}),V.forEachRemovedItem(Q=>this._toggleClass(Q.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(Q=>this._toggleClass(Q,!0)):Object.keys(V).forEach(Q=>this._toggleClass(Q,!!V[Q])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(Q=>this._toggleClass(Q,!1)):Object.keys(V).forEach(Q=>this._toggleClass(Q,!1)))}_toggleClass(V,Q){(V=V.trim())&&V.split(/\s+/g).forEach(be=>{Q?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return L.\u0275fac=function(V){return new(V||L)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))},L.\u0275dir=C.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),L})();class ti{constructor(Z,V,Q,be){this.$implicit=Z,this.ngForOf=V,this.index=Q,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hr=(()=>{class L{constructor(V,Q,be){this._viewContainer=V,this._template=Q,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;if(!this._differ&&V)try{this._differ=this._differs.find(V).create(this.ngForTrackBy)}catch(Q){throw new Error(`Cannot find a differ supporting object '${V}' of type '${function(L){return L.name||typeof L}(V)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const Q=[];V.forEachOperation((be,He,lt)=>{if(null==be.previousIndex){const k=this._viewContainer.createEmbeddedView(this._template,new ti(null,this._ngForOf,-1,-1),null===lt?void 0:lt),M=new $r(be,k);Q.push(M)}else if(null==lt)this._viewContainer.remove(null===He?void 0:He);else if(null!==He){const k=this._viewContainer.get(He);this._viewContainer.move(k,lt);const M=new $r(be,k);Q.push(M)}});for(let be=0;be<Q.length;be++)this._perViewChange(Q[be].view,Q[be].record);for(let be=0,He=this._viewContainer.length;be<He;be++){const lt=this._viewContainer.get(be);lt.context.index=be,lt.context.count=He,lt.context.ngForOf=this._ngForOf}V.forEachIdentityChange(be=>{this._viewContainer.get(be.currentIndex).context.$implicit=be.item})}_perViewChange(V,Q){V.context.$implicit=Q.item}static ngTemplateContextGuard(V,Q){return!0}}return L.\u0275fac=function(V){return new(V||L)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},L.\u0275dir=C.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L})();class $r{constructor(Z,V){this.record=Z,this.view=V}}let Zr=(()=>{class L{constructor(V,Q){this._viewContainer=V,this._context=new gr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){On("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){On("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,Q){return!0}}return L.\u0275fac=function(V){return new(V||L)(C.Y36(C.s_b),C.Y36(C.Rgc))},L.\u0275dir=C.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),L})();class gr{constructor(){this.$implicit=null,this.ngIf=null}}function On(L,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,C.AaK)(Z)}'.`)}class tr{createSubscription(Z,V){return Z.subscribe({next:V,error:Q=>{throw Q}})}dispose(Z){Z.unsubscribe()}onDestroy(Z){Z.unsubscribe()}}class Fi{createSubscription(Z,V){return Z.then(V,Q=>{throw Q})}dispose(Z){}onDestroy(Z){}}const Li=new Fi,zn=new tr;let Qi=(()=>{class L{constructor(V){this._ref=V,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,Q=>this._updateLatestValue(V,Q))}_selectStrategy(V){if((0,C.QGY)(V))return Li;if((0,C.F4k)(V))return zn;throw function(L,Z){return Error(`InvalidPipeArgument: '${Z}' for pipe '${(0,C.AaK)(L)}'`)}(L,V)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,Q){V===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}}return L.\u0275fac=function(V){return new(V||L)(C.Y36(C.sBO,16))},L.\u0275pipe=C.Yjl({name:"async",type:L,pure:!1}),L})(),ko=(()=>{class L{}return L.\u0275fac=function(V){return new(V||L)},L.\u0275mod=C.oAB({type:L}),L.\u0275inj=C.cJS({providers:[{provide:Cr,useClass:mi}]}),L})();const Di="browser";function ws(L){return"server"===L}let vr=(()=>{class L{}return L.\u0275prov=(0,C.Yz7)({token:L,providedIn:"root",factory:()=>new ai((0,C.LFG)(ke),window)}),L})();class ai{constructor(Z,V){this.document=Z,this.window=V,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const V=function(L,Z){const V=L.getElementById(Z)||L.getElementsByName(Z)[0];if(V)return V;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const Q=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let be=Q.currentNode;for(;be;){const He=be.shadowRoot;if(He){const lt=He.getElementById(Z)||He.querySelector(`[name="${Z}"]`);if(lt)return lt}be=Q.nextNode()}}return null}(this.document,Z);V&&(this.scrollToElement(V),this.attemptFocus(V))}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=Z)}}scrollToElement(Z){const V=Z.getBoundingClientRect(),Q=V.left+this.window.pageXOffset,be=V.top+this.window.pageYOffset,He=this.offset();this.window.scrollTo(Q-He[0],be-He[1])}attemptFocus(Z){return Z.focus(),this.document.activeElement===Z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=wr(this.window.history)||wr(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch(Z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Z){return!1}}}function wr(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class Gi{}},1841:(Rt,ze,G)=>{"use strict";G.d(ze,{eN:()=>le,JF:()=>en});var C=G(8583),I=G(3018),se=G(5917),Ce=G(7574),Re=G(4612),pe=G(5435),ke=G(8002);class _e{}class ue{}class te{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(me=>{const it=me.indexOf(":");if(it>0){const tt=me.slice(0,it),At=tt.toLowerCase(),mt=me.slice(it+1).trim();this.maybeSetNormalizedName(tt,At),this.headers.has(At)?this.headers.get(At).push(mt):this.headers.set(At,[mt])}})}:()=>{this.headers=new Map,Object.keys(re).forEach(me=>{let it=re[me];const tt=me.toLowerCase();"string"==typeof it&&(it=[it]),it.length>0&&(this.headers.set(tt,it),this.maybeSetNormalizedName(me,tt))})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const me=this.headers.get(re.toLowerCase());return me&&me.length>0?me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,me){return this.clone({name:re,value:me,op:"a"})}set(re,me){return this.clone({name:re,value:me,op:"s"})}delete(re,me){return this.clone({name:re,value:me,op:"d"})}maybeSetNormalizedName(re,me){this.normalizedNames.has(me)||this.normalizedNames.set(me,re)}init(){this.lazyInit&&(this.lazyInit instanceof te?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(me=>{this.headers.set(me,re.headers.get(me)),this.normalizedNames.set(me,re.normalizedNames.get(me))})}clone(re){const me=new te;return me.lazyInit=this.lazyInit&&this.lazyInit instanceof te?this.lazyInit:this,me.lazyUpdate=(this.lazyUpdate||[]).concat([re]),me}applyUpdate(re){const me=re.name.toLowerCase();switch(re.op){case"a":case"s":let it=re.value;if("string"==typeof it&&(it=[it]),0===it.length)return;this.maybeSetNormalizedName(re.name,me);const tt=("a"===re.op?this.headers.get(me):void 0)||[];tt.push(...it),this.headers.set(me,tt);break;case"d":const At=re.value;if(At){let mt=this.headers.get(me);if(!mt)return;mt=mt.filter(Et=>-1===At.indexOf(Et)),0===mt.length?(this.headers.delete(me),this.normalizedNames.delete(me)):this.headers.set(me,mt)}else this.headers.delete(me),this.normalizedNames.delete(me)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(me=>re(this.normalizedNames.get(me),this.headers.get(me)))}}class ae{encodeKey(re){return Ge(re)}encodeValue(re){return Ge(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const he=/%(\d[a-f0-9])/gi,Ie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ge(Ve){return encodeURIComponent(Ve).replace(he,(re,me)=>{var it;return null!==(it=Ie[me])&&void 0!==it?it:re})}function Le(Ve){return`${Ve}`}class Fe{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new ae,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Ve,re){const me=new Map;return Ve.length>0&&Ve.replace(/^\?/,"").split("&").forEach(tt=>{const At=tt.indexOf("="),[mt,Et]=-1==At?[re.decodeKey(tt),""]:[re.decodeKey(tt.slice(0,At)),re.decodeValue(tt.slice(At+1))],Qt=me.get(mt)||[];Qt.push(Et),me.set(mt,Qt)}),me}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(me=>{const it=re.fromObject[me];this.map.set(me,Array.isArray(it)?it:[it])})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const me=this.map.get(re);return me?me[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,me){return this.clone({param:re,value:me,op:"a"})}appendAll(re){const me=[];return Object.keys(re).forEach(it=>{const tt=re[it];Array.isArray(tt)?tt.forEach(At=>{me.push({param:it,value:At,op:"a"})}):me.push({param:it,value:tt,op:"a"})}),this.clone(me)}set(re,me){return this.clone({param:re,value:me,op:"s"})}delete(re,me){return this.clone({param:re,value:me,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const me=this.encoder.encodeKey(re);return this.map.get(re).map(it=>me+"="+this.encoder.encodeValue(it)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const me=new Fe({encoder:this.encoder});return me.cloneFrom=this.cloneFrom||this,me.updates=(this.updates||[]).concat(re),me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const me=("a"===re.op?this.map.get(re.param):void 0)||[];me.push(Le(re.value)),this.map.set(re.param,me);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let it=this.map.get(re.param)||[];const tt=it.indexOf(Le(re.value));-1!==tt&&it.splice(tt,1),it.length>0?this.map.set(re.param,it):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class Je{constructor(){this.map=new Map}set(re,me){return this.map.set(re,me),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}keys(){return this.map.keys()}}function ut(Ve){return"undefined"!=typeof ArrayBuffer&&Ve instanceof ArrayBuffer}function Ke(Ve){return"undefined"!=typeof Blob&&Ve instanceof Blob}function fe(Ve){return"undefined"!=typeof FormData&&Ve instanceof FormData}class on{constructor(re,me,it,tt){let At;if(this.url=me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function(Ve){switch(Ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||tt?(this.body=void 0!==it?it:null,At=tt):At=it,At&&(this.reportProgress=!!At.reportProgress,this.withCredentials=!!At.withCredentials,At.responseType&&(this.responseType=At.responseType),At.headers&&(this.headers=At.headers),At.context&&(this.context=At.context),At.params&&(this.params=At.params)),this.headers||(this.headers=new te),this.context||(this.context=new Je),this.params){const mt=this.params.toString();if(0===mt.length)this.urlWithParams=me;else{const Et=me.indexOf("?");this.urlWithParams=me+(-1===Et?"?":Et<me.length-1?"&":"")+mt}}else this.params=new Fe,this.urlWithParams=me}serializeBody(){return null===this.body?null:ut(this.body)||Ke(this.body)||fe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fe(this.body)?null:Ke(this.body)?this.body.type||null:ut(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){var me;const it=re.method||this.method,tt=re.url||this.url,At=re.responseType||this.responseType,mt=void 0!==re.body?re.body:this.body,Et=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,Qt=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let lr=re.headers||this.headers,er=re.params||this.params;const En=null!==(me=re.context)&&void 0!==me?me:this.context;return void 0!==re.setHeaders&&(lr=Object.keys(re.setHeaders).reduce((qn,St)=>qn.set(St,re.setHeaders[St]),lr)),re.setParams&&(er=Object.keys(re.setParams).reduce((qn,St)=>qn.set(St,re.setParams[St]),er)),new on(it,tt,mt,{params:er,headers:lr,context:En,reportProgress:Qt,responseType:At,withCredentials:Et})}}var It=(()=>((It=It||{})[It.Sent=0]="Sent",It[It.UploadProgress=1]="UploadProgress",It[It.ResponseHeader=2]="ResponseHeader",It[It.DownloadProgress=3]="DownloadProgress",It[It.Response=4]="Response",It[It.User=5]="User",It))();class Ne{constructor(re,me=200,it="OK"){this.headers=re.headers||new te,this.status=void 0!==re.status?re.status:me,this.statusText=re.statusText||it,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class Ue extends Ne{constructor(re={}){super(re),this.type=It.ResponseHeader}clone(re={}){return new Ue({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class We extends Ne{constructor(re={}){super(re),this.type=It.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new We({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class $e extends Ne{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function je(Ve,re){return{body:re,headers:Ve.headers,context:Ve.context,observe:Ve.observe,params:Ve.params,reportProgress:Ve.reportProgress,responseType:Ve.responseType,withCredentials:Ve.withCredentials}}let le=(()=>{class Ve{constructor(me){this.handler=me}request(me,it,tt={}){let At;if(me instanceof on)At=me;else{let Qt,lr;Qt=tt.headers instanceof te?tt.headers:new te(tt.headers),tt.params&&(lr=tt.params instanceof Fe?tt.params:new Fe({fromObject:tt.params})),At=new on(me,it,void 0!==tt.body?tt.body:null,{headers:Qt,context:tt.context,params:lr,reportProgress:tt.reportProgress,responseType:tt.responseType||"json",withCredentials:tt.withCredentials})}const mt=(0,se.of)(At).pipe((0,Re.b)(Qt=>this.handler.handle(Qt)));if(me instanceof on||"events"===tt.observe)return mt;const Et=mt.pipe((0,pe.h)(Qt=>Qt instanceof We));switch(tt.observe||"body"){case"body":switch(At.responseType){case"arraybuffer":return Et.pipe((0,ke.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Qt.body}));case"blob":return Et.pipe((0,ke.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof Blob))throw new Error("Response is not a Blob.");return Qt.body}));case"text":return Et.pipe((0,ke.U)(Qt=>{if(null!==Qt.body&&"string"!=typeof Qt.body)throw new Error("Response is not a string.");return Qt.body}));case"json":default:return Et.pipe((0,ke.U)(Qt=>Qt.body))}case"response":return Et;default:throw new Error(`Unreachable: unhandled observe type ${tt.observe}}`)}}delete(me,it={}){return this.request("DELETE",me,it)}get(me,it={}){return this.request("GET",me,it)}head(me,it={}){return this.request("HEAD",me,it)}jsonp(me,it){return this.request("JSONP",me,{params:(new Fe).append(it,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,it={}){return this.request("OPTIONS",me,it)}patch(me,it,tt={}){return this.request("PATCH",me,je(tt,it))}post(me,it,tt={}){return this.request("POST",me,je(tt,it))}put(me,it,tt={}){return this.request("PUT",me,je(tt,it))}}return Ve.\u0275fac=function(me){return new(me||Ve)(I.LFG(_e))},Ve.\u0275prov=I.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class ot{constructor(re,me){this.next=re,this.interceptor=me}handle(re){return this.interceptor.intercept(re,this.next)}}const rt=new I.OlP("HTTP_INTERCEPTORS");let Zt=(()=>{class Ve{intercept(me,it){return it.handle(me)}}return Ve.\u0275fac=function(me){return new(me||Ve)},Ve.\u0275prov=I.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const pt=/^\)\]\}',?\n/;let Yt=(()=>{class Ve{constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(it=>{const tt=this.xhrFactory.build();if(tt.open(me.method,me.urlWithParams),me.withCredentials&&(tt.withCredentials=!0),me.headers.forEach((St,Kt)=>tt.setRequestHeader(St,Kt.join(","))),me.headers.has("Accept")||tt.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const St=me.detectContentTypeHeader();null!==St&&tt.setRequestHeader("Content-Type",St)}if(me.responseType){const St=me.responseType.toLowerCase();tt.responseType="json"!==St?St:"text"}const At=me.serializeBody();let mt=null;const Et=()=>{if(null!==mt)return mt;const St=1223===tt.status?204:tt.status,Kt=tt.statusText||"OK",we=new te(tt.getAllResponseHeaders()),oe=function(Ve){return"responseURL"in Ve&&Ve.responseURL?Ve.responseURL:/^X-Request-URL:/m.test(Ve.getAllResponseHeaders())?Ve.getResponseHeader("X-Request-URL"):null}(tt)||me.url;return mt=new Ue({headers:we,status:St,statusText:Kt,url:oe}),mt},Qt=()=>{let{headers:St,status:Kt,statusText:we,url:oe}=Et(),xe=null;204!==Kt&&(xe=void 0===tt.response?tt.responseText:tt.response),0===Kt&&(Kt=xe?200:0);let qe=Kt>=200&&Kt<300;if("json"===me.responseType&&"string"==typeof xe){const Me=xe;xe=xe.replace(pt,"");try{xe=""!==xe?JSON.parse(xe):null}catch(nt){xe=Me,qe&&(qe=!1,xe={error:nt,text:xe})}}qe?(it.next(new We({body:xe,headers:St,status:Kt,statusText:we,url:oe||void 0})),it.complete()):it.error(new $e({error:xe,headers:St,status:Kt,statusText:we,url:oe||void 0}))},lr=St=>{const{url:Kt}=Et(),we=new $e({error:St,status:tt.status||0,statusText:tt.statusText||"Unknown Error",url:Kt||void 0});it.error(we)};let er=!1;const En=St=>{er||(it.next(Et()),er=!0);let Kt={type:It.DownloadProgress,loaded:St.loaded};St.lengthComputable&&(Kt.total=St.total),"text"===me.responseType&&!!tt.responseText&&(Kt.partialText=tt.responseText),it.next(Kt)},qn=St=>{let Kt={type:It.UploadProgress,loaded:St.loaded};St.lengthComputable&&(Kt.total=St.total),it.next(Kt)};return tt.addEventListener("load",Qt),tt.addEventListener("error",lr),tt.addEventListener("timeout",lr),tt.addEventListener("abort",lr),me.reportProgress&&(tt.addEventListener("progress",En),null!==At&&tt.upload&&tt.upload.addEventListener("progress",qn)),tt.send(At),it.next({type:It.Sent}),()=>{tt.removeEventListener("error",lr),tt.removeEventListener("abort",lr),tt.removeEventListener("load",Qt),tt.removeEventListener("timeout",lr),me.reportProgress&&(tt.removeEventListener("progress",En),null!==At&&tt.upload&&tt.upload.removeEventListener("progress",qn)),tt.readyState!==tt.DONE&&tt.abort()}})}}return Ve.\u0275fac=function(me){return new(me||Ve)(I.LFG(C.JF))},Ve.\u0275prov=I.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const _n=new I.OlP("XSRF_COOKIE_NAME"),mn=new I.OlP("XSRF_HEADER_NAME");class kn{}let Yn=(()=>{class Ve{constructor(me,it,tt){this.doc=me,this.platform=it,this.cookieName=tt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,C.Mx)(me,this.cookieName),this.lastCookieString=me),this.lastToken}}return Ve.\u0275fac=function(me){return new(me||Ve)(I.LFG(C.K0),I.LFG(I.Lbi),I.LFG(_n))},Ve.\u0275prov=I.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),un=(()=>{class Ve{constructor(me,it){this.tokenService=me,this.headerName=it}intercept(me,it){const tt=me.url.toLowerCase();if("GET"===me.method||"HEAD"===me.method||tt.startsWith("http://")||tt.startsWith("https://"))return it.handle(me);const At=this.tokenService.getToken();return null!==At&&!me.headers.has(this.headerName)&&(me=me.clone({headers:me.headers.set(this.headerName,At)})),it.handle(me)}}return Ve.\u0275fac=function(me){return new(me||Ve)(I.LFG(kn),I.LFG(mn))},Ve.\u0275prov=I.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),Fn=(()=>{class Ve{constructor(me,it){this.backend=me,this.injector=it,this.chain=null}handle(me){if(null===this.chain){const it=this.injector.get(rt,[]);this.chain=it.reduceRight((tt,At)=>new ot(tt,At),this.backend)}return this.chain.handle(me)}}return Ve.\u0275fac=function(me){return new(me||Ve)(I.LFG(ue),I.LFG(I.zs3))},Ve.\u0275prov=I.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),Dn=(()=>{class Ve{static disable(){return{ngModule:Ve,providers:[{provide:un,useClass:Zt}]}}static withOptions(me={}){return{ngModule:Ve,providers:[me.cookieName?{provide:_n,useValue:me.cookieName}:[],me.headerName?{provide:mn,useValue:me.headerName}:[]]}}}return Ve.\u0275fac=function(me){return new(me||Ve)},Ve.\u0275mod=I.oAB({type:Ve}),Ve.\u0275inj=I.cJS({providers:[un,{provide:rt,useExisting:un,multi:!0},{provide:kn,useClass:Yn},{provide:_n,useValue:"XSRF-TOKEN"},{provide:mn,useValue:"X-XSRF-TOKEN"}]}),Ve})(),en=(()=>{class Ve{}return Ve.\u0275fac=function(me){return new(me||Ve)},Ve.\u0275mod=I.oAB({type:Ve}),Ve.\u0275inj=I.cJS({providers:[le,{provide:_e,useClass:Fn},Yt,{provide:ue,useExisting:Yt}],imports:[[Dn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ve})()},3018:(Rt,ze,G)=>{"use strict";G.d(ze,{deG:()=>ba,tb:()=>cb,AFp:()=>ab,ip1:()=>hw,CZH:()=>kf,hGG:()=>$A,z2F:()=>cm,sBO:()=>MI,Sil:()=>lm,_Vd:()=>Wd,EJc:()=>hb,SBq:()=>ll,qLn:()=>vt,vpe:()=>cl,gxx:()=>nl,tBr:()=>$o,XFs:()=>re,OlP:()=>jn,zs3:()=>Er,ZZ4:()=>Jy,aQg:()=>Xy,soG:()=>c_,YKP:()=>J0,v3s:()=>bA,h0i:()=>qd,PXZ:()=>mA,R0b:()=>ga,FiY:()=>Go,Lbi:()=>lb,g9A:()=>ub,Qsj:()=>yI,FYo:()=>Qy,JOm:()=>Zo,Tiy:()=>Uv,q3G:()=>ar,tp0:()=>go,EAV:()=>TA,Rgc:()=>Qg,dDg:()=>mb,DyG:()=>Do,q4F:()=>Bv,GfV:()=>z0,s_b:()=>n_,ifc:()=>En,eFA:()=>Eb,G48:()=>lA,Gpc:()=>Le,X6Q:()=>vw,_c5:()=>FA,VLi:()=>uA,c2e:()=>db,zSh:()=>jl,wAp:()=>wn,vHH:()=>et,EiD:()=>Hu,mCW:()=>bl,qzn:()=>Bu,JVY:()=>Gn,pB0:()=>fc,eBb:()=>lh,L6k:()=>uh,LAX:()=>hi,cg1:()=>Rv,Tjo:()=>PA,kL8:()=>f0,yhl:()=>di,dqk:()=>oe,sIi:()=>cf,CqO:()=>Ng,QGY:()=>Rg,F4k:()=>Fy,RDi:()=>V,AaK:()=>he,z3N:()=>to,qOj:()=>ys,TTD:()=>Tr,_Bn:()=>B0,xp6:()=>fp,uIk:()=>_y,Tol:()=>Hg,ekj:()=>jg,Suo:()=>VE,Xpm:()=>hn,lG2:()=>Mr,Yz7:()=>mn,cJS:()=>Yn,oAB:()=>Nr,Yjl:()=>jr,Y36:()=>Ld,_UZ:()=>Py,BQk:()=>xg,ynx:()=>Sg,qZA:()=>wf,TgZ:()=>Tg,EpF:()=>ky,n5z:()=>Ut,Ikx:()=>Sv,LFG:()=>Pr,$8M:()=>fr,NdJ:()=>Ly,CRH:()=>UE,oxw:()=>Mg,ALo:()=>ME,lcZ:()=>OE,Q6J:()=>_f,s9C:()=>Pg,MGl:()=>Bd,DdM:()=>TE,iGM:()=>FE,MAs:()=>by,CHM:()=>bo,oJD:()=>zu,LSH:()=>Ao,kYT:()=>pr,Jzz:()=>r0,Udp:()=>If,d8E:()=>xv,YNc:()=>Ey,W1O:()=>$E,_uU:()=>ie,Oqu:()=>ce,hij:()=>Te,AsE:()=>Xe,Gf:()=>LE});var C=G(9765),I=G(5319),se=G(7574),Ce=G(6682),Re=G(2441);var _e=G(1307);function ue(){return new C.xQ}function ae(i){for(let s in i)if(i[s]===ae)return s;throw Error("Could not find renamed property on target object.")}function ge(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ie(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ge=ae({__forward_ref__:ae});function Le(i){return i.__forward_ref__=Le,i.toString=function(){return he(this())},i}function Fe(i){return ve(i)?i():i}function ve(i){return"function"==typeof i&&i.hasOwnProperty(Ge)&&i.__forward_ref__===Le}class et extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function fe(i){return"string"==typeof i?i:null==i?"":String(i)}function Ze(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():fe(i)}function Ue(i,s){const o=s?` in ${s}`:"";throw new et("201",`No provider for ${Ze(i)} found${o}`)}function Tt(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function mn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Yn(i){return{providers:i.providers||[],imports:i.imports||[]}}function un(i){return Fn(i,en)||Fn(i,gn)}function Fn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Dn(i){return i&&(i.hasOwnProperty(Bt)||i.hasOwnProperty(Ve))?i[Bt]:null}const en=ae({\u0275prov:ae}),Bt=ae({\u0275inj:ae}),gn=ae({ngInjectableDef:ae}),Ve=ae({ngInjectorDef:ae});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let me;function tt(i){const s=me;return me=i,s}function At(i,s,o){const l=un(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&re.Optional?null:void 0!==s?s:void Ue(he(i),"Injector")}function Et(i){return{toString:i}.toString()}var Qt=(()=>((Qt=Qt||{})[Qt.OnPush=0]="OnPush",Qt[Qt.Default=1]="Default",Qt))(),En=(()=>((En=En||{})[En.Emulated=0]="Emulated",En[En.None=2]="None",En[En.ShadowDom=3]="ShadowDom",En))();const qn="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we="undefined"!=typeof global&&global,oe=qn||we||St||Kt,Me={},nt=[],Ot=ae({\u0275cmp:ae}),bn=ae({\u0275dir:ae}),Cn=ae({\u0275pipe:ae}),dn=ae({\u0275mod:ae}),cr=ae({\u0275loc:ae}),Gt=ae({\u0275fac:ae}),Mn=ae({__NG_ELEMENT_ID__:ae});let gi=0;function hn(i){return Et(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||nt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||En.Emulated,id:"c",styles:i.styles||nt,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,y=i.pipes;return l.id+=gi++,l.inputs=Dr(i.inputs,o),l.outputs=Dr(i.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Ei):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(bi):null,l})}function Ei(i){return Mt(i)||function(i){return i[bn]||null}(i)}function bi(i){return function(i){return i[Cn]||null}(i)}const _s={};function Nr(i){return Et(()=>{const s={type:i.type,bootstrap:i.bootstrap||nt,declarations:i.declarations||nt,imports:i.imports||nt,exports:i.exports||nt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(_s[i.id]=i.type),s})}function pr(i,s){return Et(()=>{const o=vn(i,!0);o.declarations=s.declarations||nt,o.imports=s.imports||nt,o.exports=s.exports||nt})}function Dr(i,s){if(null==i)return Me;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),o[d]=l,s&&(s[d]=f)}return o}const Mr=hn;function jr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Mt(i){return i[Ot]||null}function vn(i,s){const o=i[dn]||null;if(!o&&!0===s)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return o}function yr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Zn(i){return Array.isArray(i)&&!0===i[1]}function tr(i){return 0!=(8&i.flags)}function Fi(i){return 2==(2&i.flags)}function Li(i){return 1==(1&i.flags)}function zn(i){return null!==i.template}function Qi(i){return 0!=(512&i[2])}function si(i,s){return i.hasOwnProperty(Gt)?i[Gt]:null}class oi{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Tr(){return ws}function ws(i){return i.type.prototype.ngOnChanges&&(i.setInput=$i),oo}function oo(){const i=vr(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Me)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function $i(i,s,o,l){const d=vr(i)||function(i,s){return i[Ti]=s}(i,{previous:Me,current:null}),f=d.current||(d.current={}),y=d.previous,v=this.declaredInputs[o],A=y[v];f[v]=new oi(A&&A.currentValue,s,y===Me),i[l]=s}Tr.ngInherit=!0;const Ti="__ngSimpleChanges__";function vr(i){return i[Ti]||null}let Z;function V(i){Z=i}function Q(){return void 0!==Z?Z:"undefined"!=typeof document?document:void 0}function He(i){return!!i.listen}const k={createRenderer:(i,s)=>Q()};function x(i){for(;Array.isArray(i);)i=i[0];return i}function bt(i,s){return x(s[i])}function Ht(i,s){return x(s[i.index])}function Ir(i,s){return i.data[s]}function sr(i,s){return i[s]}function $n(i,s){const o=s[i];return yr(o)?o:o[0]}function Yr(i){return 4==(4&i[2])}function Es(i){return 128==(128&i[2])}function Ai(i,s){return null==s?null:i[s]}function zs(i){i[18]=0}function q(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const $={lFrame:qs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return $.bindingsEnabled}function ct(){return $.lFrame.lView}function In(){return $.lFrame.tView}function bo(i){return $.lFrame.contextLView=i,i[8]}function nr(){let i=Ws();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ws(){return $.lFrame.currentTNode}function ui(i,s){const o=$.lFrame;o.currentTNode=i,o.isParent=s}function na(){return $.lFrame.isParent}function Os(){$.lFrame.isParent=!1}function ao(){return $.isInCheckNoChangesMode}function ds(i){$.isInCheckNoChangesMode=i}function Qr(){const i=$.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function _i(){return $.lFrame.bindingIndex}function hs(){return $.lFrame.bindingIndex++}function is(i){const s=$.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function ya(i,s){const o=$.lFrame;o.bindingIndex=o.bindingRootIndex=i,uo(s)}function uo(i){$.lFrame.currentDirectiveIndex=i}function _a(i){const s=$.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Fo(){return $.lFrame.currentQueryIndex}function $a(i){$.lFrame.currentQueryIndex=i}function Ga(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function va(i,s,o){if(o&re.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||o&re.Host||(d=Ga(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=$.lFrame=za();return l.currentTNode=s,l.lView=i,!0}function lo(i){const s=za(),o=i[1];$.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function za(){const i=$.lFrame,s=null===i?null:i.child;return null===s?qs(i):s}function qs(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Eu(){const i=$.lFrame;return $.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const hl=Eu;function ia(){const i=Eu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wr(){return $.lFrame.selectedIndex}function li(i){$.lFrame.selectedIndex=i}function hr(){const i=$.lFrame;return Ir(i.tView,i.selectedIndex)}function N(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=i.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:A,ngAfterViewChecked:P,ngOnDestroy:H}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-o,y),v&&((i.contentHooks||(i.contentHooks=[])).push(o,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,v)),A&&(i.viewHooks||(i.viewHooks=[])).push(-o,A),P&&((i.viewHooks||(i.viewHooks=[])).push(o,P),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,P)),null!=H&&(i.destroyHooks||(i.destroyHooks=[])).push(o,H)}}function z(i,s,o){tn(i,s,3,o)}function Ee(i,s,o,l){(3&i[2])===o&&tn(i,s,o,l)}function ht(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function tn(i,s,o,l){const f=null!=l?l:-1,y=s.length-1;let v=0;for(let A=void 0!==l?65535&i[18]:0;A<y;A++)if("number"==typeof s[A+1]){if(v=s[A],null!=l&&v>=l)break}else s[A]<0&&(i[18]+=65536),(v<f||-1==f)&&(Un(i,o,s,A),i[18]=(4294901760&i[18])+A+2),A++}function Un(i,s,o,l){const d=o[l]<0,f=o[l+1],v=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Wn{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ks(i,s,o){const l=He(i);let d=0;for(;d<o.length;){const f=o[d];if("number"==typeof f){if(0!==f)break;d++;const y=o[d++],v=o[d++],A=o[d++];l?i.setAttribute(s,v,A,y):s.setAttributeNS(y,v,A)}else{const y=f,v=o[++d];sa(y)?l&&i.setProperty(s,y,v):l?i.setAttribute(s,y,v):s.setAttribute(y,v),d++}}return d}function Cu(i){return 3===i||4===i||6===i}function sa(i){return 64===i.charCodeAt(0)}function Co(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||ec(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function ec(i,s,o,l,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){y=-1;break}if(v>s){y=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,o),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function ho(i){return-1!==i}function Io(i){return 32767&i}function Ys(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Bo=!0;function Ea(i){const s=Bo;return Bo=i,s}let Qs=0;function oa(i,s){const o=Sr(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Ct(l.data,i),Ct(s,null),Ct(l.blueprint,null));const d=Ho(i,s),f=i.injectorIndex;if(ho(d)){const y=Io(d),v=Ys(d,s),A=v[1].data;for(let P=0;P<8;P++)s[f+P]=v[y+P]|A[y+P]}return s[f+8]=d,f}function Ct(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Sr(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ho(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){const f=d[1],y=f.type;if(l=2===y?f.declTNode:1===y?d[6]:null,null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Ka(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Mn)&&(l=o[Mn]),null==l&&(l=o[Mn]=Qs++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function fn(i,s,o){if(o&re.Optional)return i;Ue(s,"NodeInjector")}function Wc(i,s,o,l){if(o&re.Optional&&void 0===l&&(l=null),0==(o&(re.Self|re.Host))){const d=i[9],f=tt(void 0);try{return d?d.get(s,l,o&re.Optional):At(s,l,o&re.Optional)}finally{tt(f)}}return fn(l,s,o)}function S(i,s,o,l=re.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Mn)?i[Mn]:void 0;return"number"==typeof s?s>=0?255&s:w:s}(o);if("function"==typeof f){if(!va(s,i,l))return l&re.Host?fn(d,o,l):Wc(s,o,l,d);try{const y=f(l);if(null!=y||l&re.Optional)return y;Ue(o)}finally{hl()}}else if("number"==typeof f){let y=null,v=Sr(i,s),A=-1,P=l&re.Host?s[16][6]:null;for((-1===v||l&re.SkipSelf)&&(A=-1===v?Ho(i,s):s[v+8],-1!==A&&st(l,!1)?(y=s[1],v=Io(A),s=Ys(A,s)):v=-1);-1!==v;){const H=s[1];if(De(f,v,H.data)){const X=O(v,s,o,y,l,P);if(X!==E)return X}A=s[v+8],-1!==A&&st(l,s[1].data[v+8]===P)&&De(f,v,s)?(y=H,v=Io(A),s=Ys(A,s)):v=-1}}}return Wc(s,o,l,d)}const E={};function w(){return new Pt(nr(),ct())}function O(i,s,o,l,d,f){const y=s[1],v=y.data[i+8],H=B(v,y,o,null==l?Fi(v)&&Bo:l!=y&&0!=(3&v.type),d&re.Host&&f===v);return null!==H?Y(s,y,H,v):E}function B(i,s,o,l,d){const f=i.providerIndexes,y=s.data,v=1048575&f,A=i.directiveStart,H=f>>20,ne=d?v+H:i.directiveEnd;for(let ye=l?v:v+H;ye<ne;ye++){const Se=y[ye];if(ye<A&&o===Se||ye>=A&&Se.type===o)return ye}if(d){const ye=y[A];if(ye&&zn(ye)&&ye.type===o)return A}return null}function Y(i,s,o,l){let d=i[o];const f=s.data;if(function(i){return i instanceof Wn}(d)){const y=d;y.resolving&&function(i,s){throw new et("200",`Circular dependency in DI detected for ${i}`)}(Ze(f[o]));const v=Ea(y.canSeeViewProviders);y.resolving=!0;const A=y.injectImpl?tt(y.injectImpl):null;va(i,l,re.Default);try{d=i[o]=y.factory(void 0,f,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const y=ws(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,y)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,f))}(o,f[o],s)}finally{null!==A&&tt(A),Ea(v),y.resolving=!1,hl()}}return d}function De(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function st(i,s){return!(i&re.Self||i&re.Host&&s)}class Pt{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return S(this._tNode,this._lView,s,void 0,o)}}function Ut(i){return Et(()=>{const s=i.prototype.constructor,o=s[Gt]||xn(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[Gt]||xn(d);if(f&&f!==o)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function xn(i){return ve(i)?()=>{const s=xn(Fe(i));return s&&s()}:si(i)}function fr(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const f=o[d];if(Cu(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(f===s)return o[d+1];d+=2}}}return null}(nr(),i)}const vi="__parameters__";function bs(i,s,o){return Et(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const y=new d(...f);return v.annotation=y,v;function v(A,P,H){const X=A.hasOwnProperty(vi)?A[vi]:Object.defineProperty(A,vi,{value:[]})[vi];for(;X.length<=H;)X.push(null);return(X[H]=X[H]||[]).push(y),A}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class jn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=mn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ba=new jn("AnalyzeForEntryComponents"),Do=Function;function Xs(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),Xs(l,s)):s!==i&&s.push(l)}return s}function Ps(i,s){i.forEach(o=>Array.isArray(o)?Ps(o,s):s(o))}function Au(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function fo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ps(i,s,o){let l=Da(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function xr(i,s){const o=Da(i,s);if(o>=0)return i[1|o]}function Da(i,s){return function(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const f=l+(d-l>>1),y=i[f<<o];if(s===y)return f<<o;y>s?d=f:l=f+1}return~(d<<o)}(i,s,1)}const Xa={},Mu="__NG_DI_FLAG__",Ta="ngTempTokenPath",eu=/\n/gm,ua="__source",ml=ae({provide:String,useValue:ae});let Ou;function Ds(i){const s=Ou;return Ou=i,s}function oc(i,s=re.Default){if(void 0===Ou)throw new Error("inject() must be called from an injection context");return null===Ou?At(i,void 0,s):Ou.get(i,s&re.Optional?null:void 0,s)}function Pr(i,s=re.Default){return(me||oc)(Fe(i),s)}function To(i){const s=[];for(let o=0;o<i.length;o++){const l=Fe(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=re.Default;for(let y=0;y<l.length;y++){const v=l[y],A=Xc(v);"number"==typeof A?-1===A?d=v.token:f|=A:d=v}s.push(Pr(d,f))}else s.push(Pr(l))}return s}function tu(i,s){return i[Mu]=s,i.prototype[Mu]=s,i}function Xc(i){return i[Mu]}function Aa(i,s,o,l){const d=i[Ta];throw s[ua]&&d.unshift(s[ua]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=he(s);if(Array.isArray(s))d=s.map(he).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let v=s[y];f.push(y+":"+("string"==typeof v?JSON.stringify(v):he(v)))}d=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(eu,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[Ta]=null,i}const $o=tu(bs("Inject",i=>({token:i})),-1),Go=tu(bs("Optional"),8),go=tu(bs("SkipSelf"),4);let zo,dc;function iu(i){var s;return(null===(s=function(){if(void 0===zo&&(zo=null,oe.trustedTypes))try{zo=oe.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return zo}())||void 0===s?void 0:s.createHTML(i))||i}function sh(i){var s;return(null===(s=function(){if(void 0===dc&&(dc=null,oe.trustedTypes))try{dc=oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return dc}())||void 0===s?void 0:s.createHTML(i))||i}class Wo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ks extends Wo{getTypeName(){return"HTML"}}class oh extends Wo{getTypeName(){return"Style"}}class ah extends Wo{getTypeName(){return"Script"}}class hc extends Wo{getTypeName(){return"URL"}}class El extends Wo{getTypeName(){return"ResourceURL"}}function to(i){return i instanceof Wo?i.changingThisBreaksApplicationSecurity:i}function Bu(i,s){const o=di(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function di(i){return i instanceof Wo&&i.getTypeName()||null}function Gn(i){return new ks(i)}function uh(i){return new oh(i)}function lh(i){return new ah(i)}function hi(i){return new hc(i)}function fc(i){return new El(i)}class Xr{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(iu(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class ch{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=iu(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=iu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const y=o.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const no=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function bl(i){return(i=String(i)).match(no)||i.match(sd)?i:"unsafe:"+i}function mo(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Jn(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const hh=mo("area,br,col,hr,img,wbr"),Sa=mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ju=mo("rp,rt"),gc=Jn(hh,Jn(Sa,mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(ju,mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn(ju,Sa)),mc=mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ad=mo("srcset"),ph=Jn(mc,ad,mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gh=mo("script,style,template");class Yf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!gc.hasOwnProperty(o))return this.sanitizedSomething=!0,!gh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),y=f.name,v=y.toLowerCase();if(!ph.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let A=f.value;mc[v]&&(A=bl(A)),ad[v]&&(i=A,A=(i=String(i)).split(",").map(s=>bl(s.trim())).join(", ")),this.buf.push(" ",y,'="',yh(A),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();gc.hasOwnProperty(o)&&!hh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(yh(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Il=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mh=/([^\#-~ |!])/g;function yh(i){return i.replace(/&/g,"&amp;").replace(Il,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(mh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ei;function Hu(i,s){let o=null;try{ei=ei||function(i){const s=new ch(i);return function(){try{return!!(new window.DOMParser).parseFromString(iu(""),"text/html")}catch(i){return!1}}()?new Xr(s):s}(i);let l=s?String(s):"";o=ei.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=o.innerHTML,o=ei.getInertBodyElement(l)}while(l!==f);return iu((new Yf).sanitizeChildren($u(o)||o))}finally{if(o){const l=$u(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function $u(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var ar=(()=>((ar=ar||{})[ar.NONE=0]="NONE",ar[ar.HTML=1]="HTML",ar[ar.STYLE=2]="STYLE",ar[ar.SCRIPT=3]="SCRIPT",ar[ar.URL=4]="URL",ar[ar.RESOURCE_URL=5]="RESOURCE_URL",ar))();function zu(i){const s=ou();return s?sh(s.sanitize(ar.HTML,i)||""):Bu(i,"HTML")?sh(to(i)):Hu(Q(),fe(i))}function Ao(i){const s=ou();return s?s.sanitize(ar.URL,i)||"":Bu(i,"URL")?to(i):bl(fe(i))}function ou(){const i=ct();return i&&i[12]}const Ec="__ngContext__";function ur(i,s){i[Ec]=s}function Tl(i){const s=function(i){return i[Ec]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ee(i){return i.ngOriginalError}function Ye(i,...s){i.error(...s)}class vt{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||Ye;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(ee(s)):null}_findOriginalError(s){let o=s&&ee(s);for(;o&&ee(o);)o=ee(o);return o||null}}const ro=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(oe))();function ms(i){return i instanceof Function?i():i}var Zo=(()=>((Zo=Zo||{})[Zo.Important=1]="Important",Zo[Zo.DashCase=2]="DashCase",Zo))();function Na(i,s){return undefined(i,s)}function Ic(i){const s=i[3];return Zn(s)?s[3]:s}function Zu(i){return xl(i[13])}function Ku(i){return xl(i[4])}function xl(i){for(;null!==i&&!Zn(i);)i=i[4];return i}function Rl(i,s,o,l,d){if(null!=l){let f,y=!1;Zn(l)?f=l:yr(l)&&(y=!0,l=l[0]);const v=x(l);0===i&&null!==o?null==d?Ml(s,o,v):Nl(s,o,v,d||null,!0):1===i&&null!==o?Nl(s,o,v,d||null,!0):2===i?function(i,s,o){const l=Ma(i,s);l&&function(i,s,o,l){He(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,v,y):3===i&&s.destroyNode(v),null!=f&&function(i,s,o,l,d){const f=o[7];f!==x(o)&&Rl(s,i,l,f,d);for(let v=10;v<o.length;v++){const A=o[v];Ko(A[1],A,i,s,l,f)}}(s,i,f,o,d)}}function Dh(i,s,o){return He(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function rp(i,s){const o=i[9],l=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,q(d,-1)),o.splice(l,1)}function Dc(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&rp(d,l),s>0&&(i[o-1][4]=l[4]);const f=fo(i,10+s);!function(i,s){Ko(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Th(i,s){if(!(256&s[2])){const o=s[11];He(o)&&o.destroyNode&&Ko(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Ah(i[1],i);for(;s;){let o=null;if(yr(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)yr(s)&&Ah(s[1],s),s=s[3];null===s&&(s=i),yr(s)&&Ah(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ah(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof Wn)){const f=o[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const v=d[f[y]],A=f[y+1];try{A.call(v)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const y=o[f+1],v="function"==typeof y?y(s):x(s[y]),A=l[d=o[f+2]],P=o[f+3];"boolean"==typeof P?v.removeEventListener(o[f],A,P):P>=0?l[d=P]():l[d=-P].unsubscribe(),f+=2}else{const y=l[d=o[f+1]];o[f].call(y)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&He(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Zn(s[3])){o!==s[3]&&rp(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function ip(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===En.None||d===En.Emulated)return null}return Ht(l,o)}(i,s.parent,o)}function Nl(i,s,o,l,d){He(i)?i.insertBefore(s,o,l,d):s.insertBefore(o,l,d)}function Ml(i,s,o){He(i)?i.appendChild(s,o):s.appendChild(o)}function sp(i,s,o,l,d){null!==l?Nl(i,s,o,l,d):Ml(i,s,o)}function Ma(i,s){return He(i)?i.parentNode(s):s.parentNode}let Cm=function(i,s,o){return 40&i.type?Ht(i,o):null};function Ol(i,s,o,l){const d=ip(i,l,s),f=s[11],v=function(i,s,o){return Cm(i,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let A=0;A<o.length;A++)sp(f,d,o[A],v,!1);else sp(f,d,o,v,!1)}function uu(i,s){if(null!==s){const o=s.type;if(3&o)return Ht(s,i);if(4&o)return cp(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return uu(i,l);{const d=i[s.index];return Zn(d)?cp(-1,d):x(d)}}if(32&o)return Na(s,i)()||x(i[s.index]);{const l=lp(i,s);return null!==l?Array.isArray(l)?l[0]:uu(Ic(i[16]),l):uu(i,s.next)}}return null}function lp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function cp(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return uu(l,d)}return s[7]}function Sh(i,s,o,l,d,f,y){for(;null!=o;){const v=l[o.index],A=o.type;if(y&&0===s&&(v&&ur(x(v),l),o.flags|=4),64!=(64&o.flags))if(8&A)Sh(i,s,o.child,l,d,f,!1),Rl(s,i,d,v,f);else if(32&A){const P=Na(o,l);let H;for(;H=P();)Rl(s,i,d,H,f);Rl(s,i,d,v,f)}else 16&A?Tm(i,s,l,o,d,f):Rl(s,i,d,v,f);o=y?o.projectionNext:o.next}}function Ko(i,s,o,l,d,f){Sh(o,l,i.firstChild,s,d,f,!1)}function Tm(i,s,o,l,d,f){const y=o[16],A=y[6].projection[l.projection];if(Array.isArray(A))for(let P=0;P<A.length;P++)Rl(s,i,d,A[P],f);else Sh(i,s,A,y[3],d,f,!0)}function Rh(i,s,o){He(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function Pl(i,s,o){He(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function md(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}o=d+1}}const xm="ng-template";function Rm(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==md(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Nh(i){return 4===i.type&&i.value!==xm}function Nm(i,s,o){return s===(4!==i.type||o?i.value:xm)}function I_(i,s,o){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Cu(i[s]))return s;return i.length}(d);let y=!1;for(let v=0;v<s.length;v++){const A=s[v];if("number"!=typeof A){if(!y)if(4&l){if(l=2|1&l,""!==A&&!Nm(i,A,o)||""===A&&1===s.length){if(Yo(l))return!1;y=!0}}else{const P=8&l?A:s[++v];if(8&l&&null!==i.attrs){if(!Rm(i.attrs,P,o)){if(Yo(l))return!1;y=!0}continue}const X=Mm(8&l?"class":A,d,Nh(i),o);if(-1===X){if(Yo(l))return!1;y=!0;continue}if(""!==P){let ne;ne=X>f?"":d[X+1].toLowerCase();const ye=8&l?ne:null;if(ye&&-1!==md(ye,P,0)||2&l&&P!==ne){if(Yo(l))return!1;y=!0}}}}else{if(!y&&!Yo(l)&&!Yo(A))return!1;if(y&&Yo(A))continue;y=!1,l=A|1&l}}return Yo(l)||y}function Yo(i){return 0==(1&i)}function Mm(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Mh(i,s,o=!1){for(let l=0;l<s.length;l++)if(I_(i,s[l],o))return!0;return!1}function km(i,s){return i?":not("+s.trim()+")":s}function Ac(i){let s=i[0],o=1,l=2,d="",f=!1;for(;o<i.length;){let y=i[o];if("string"==typeof y)if(2&l){const v=i[++o];d+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!Yo(y)&&(s+=km(f,d),d=""),l=y,f=f||!Yo(l);o++}return""!==d&&(s+=km(f,d)),s}const Tn={};function fp(i){pp(In(),ct(),Wr()+i,ao())}function pp(i,s,o,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&z(s,f,o)}else{const f=i.preOrderHooks;null!==f&&Ee(s,f,0,o)}li(o)}function Oh(i,s){return i<<17|s<<2}function Ro(i){return i>>17&32767}function mp(i){return 2|i}function la(i){return(131068&i)>>2}function yp(i,s){return-131069&i|s<<2}function Zi(i){return 1|i}function cu(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],f=o[l+1];if(-1!==f){const y=i.data[f];$a(d),y.contentQueries(2,s[f],f)}}}function Fl(i,s,o,l,d,f,y,v,A,P){const H=s.blueprint.slice();return H[0]=d,H[2]=140|l,zs(H),H[3]=H[15]=i,H[8]=o,H[10]=y||i&&i[10],H[11]=v||i&&i[11],H[12]=A||i&&i[12]||null,H[9]=P||i&&i[9]||null,H[6]=f,H[16]=2==s.type?i[16]:H,H}function Rc(i,s,o,l,d){let f=i.data[s];if(null===f)f=function(i,s,o,l,d){const f=Ws(),y=na(),A=i.data[s]=function(i,s,o,l,d,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=A),null!==f&&(y?null==f.child&&null!==A.parent&&(f.child=A):null===f.next&&(f.next=A)),A}(i,s,o,l,d),$.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=d;const y=function(){const i=$.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return ui(f,!0),f}function Nc(i,s,o,l){if(0===o)return-1;const d=s.length;for(let f=0;f<o;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function Ll(i,s,o){lo(s);try{const l=i.viewQuery;null!==l&&Ad(1,l,o);const d=i.template;null!==d&&Ap(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&cu(i,s),i.staticViewQueries&&Ad(2,i.viewQuery,o);const f=i.components;null!==f&&function(i,s){for(let o=0;o<s.length;o++)kp(i,s[o])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ia()}}function du(i,s,o,l){const d=s[2];if(256==(256&d))return;lo(s);const f=ao();try{zs(s),function(i){$.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Ap(i,s,o,2,l);const y=3==(3&d);if(!f)if(y){const P=i.preOrderCheckHooks;null!==P&&z(s,P,null)}else{const P=i.preOrderHooks;null!==P&&Ee(s,P,0,null),ht(s,0)}if(function(i){for(let s=Zu(i);null!==s;s=Ku(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],f=d[3];0==(1024&d[2])&&q(f,1),d[2]|=1024}}}(s),function(i){for(let s=Zu(i);null!==s;s=Ku(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];Es(l)&&du(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&cu(i,s),!f)if(y){const P=i.contentCheckHooks;null!==P&&z(s,P)}else{const P=i.contentHooks;null!==P&&Ee(s,P,1),ht(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)li(~d);else{const f=d,y=o[++l],v=o[++l];ya(y,f),v(2,s[f])}}}finally{li(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let o=0;o<s.length;o++)j_(i,s[o])}(s,v);const A=i.viewQuery;if(null!==A&&Ad(2,A,l),!f)if(y){const P=i.viewCheckHooks;null!==P&&z(s,P)}else{const P=i.viewHooks;null!==P&&Ee(s,P,2),ht(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,q(s[3],-1))}finally{ia()}}function Tp(i,s,o,l){const d=s[10],f=!ao(),y=Yr(s);try{f&&!y&&d.begin&&d.begin(),y&&Ll(i,s,l),du(i,s,o,l)}finally{f&&!y&&d.end&&d.end()}}function Ap(i,s,o,l,d){const f=Wr(),y=2&l;try{li(-1),y&&s.length>20&&pp(i,s,20,ao()),o(l,d)}finally{li(f)}}function Vl(i,s,o){if(tr(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,o[f],f)}}}function Ed(i,s,o){!Wt()||(function(i,s,o,l){const d=o.directiveStart,f=o.directiveEnd;i.firstCreatePass||oa(o,s),ur(l,s);const y=o.initialInputs;for(let v=d;v<f;v++){const A=i.data[v],P=zn(A);P&&Jm(s,o,A);const H=Y(s,i,v,o);ur(H,s),null!==y&&Xm(0,v-d,H,A,0,y),P&&($n(o.index,s)[8]=H)}}(i,s,o,Ht(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,d=o.directiveEnd,y=o.index,v=$.lFrame.currentDirectiveIndex;try{li(y);for(let A=l;A<d;A++){const P=i.data[A],H=s[A];uo(A),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&zh(P,H)}}finally{li(-1),uo(v)}}(i,s,o))}function Sp(i,s,o=Ht){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],v=-1===y?o(s,i):i[y];i[d++]=v}}}function Hm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=bd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function bd(i,s,o,l,d,f,y,v,A,P){const H=20+l,X=H+d,ne=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Tn);return o}(H,X),ye="function"==typeof P?P():P;return ne[1]={type:i,blueprint:ne,template:o,queries:null,viewQuery:v,declTNode:s,data:ne.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:A,consts:ye,incompleteFirstPass:!1}}function $h(i,s,o,l){const d=ry(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&Qh(i).push(l,d.length-1))}function Gh(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function io(i,s,o,l,d,f,y,v){const A=Ht(s,o);let H,P=s.inputs;!v&&null!=P&&(H=P[l])?(Xh(i,o,H,l,d),Fi(s)&&function(i,s){const o=$n(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=y?y(d,s.value||"",l):d,He(f)?f.setProperty(A,l,d):sa(l)||(A.setProperty?A.setProperty(l,d):A[l]=d))}function tl(i,s,o,l){let d=!1;if(Wt()){const f=function(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];Mh(o,y.selectors,!1)&&(d||(d=[]),Ka(oa(o,s),i,y.type),zn(y)?(Ym(i,o),d.unshift(y)):d.push(y))}return d}(i,s,o),y=null===l?null:{"":-1};if(null!==f){d=!0,Wh(o,i.data.length,f.length);for(let H=0;H<f.length;H++){const X=f[H];X.providersResolver&&X.providersResolver(X)}let v=!1,A=!1,P=Nc(i,s,f.length,null);for(let H=0;H<f.length;H++){const X=f[H];o.mergedAttrs=Co(o.mergedAttrs,X.hostAttrs),Qm(i,o,s,P,X),Pp(P,X,y),null!==X.contentQueries&&(o.flags|=8),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(o.flags|=128);const ne=X.type.prototype;!v&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),v=!0),!A&&(ne.ngOnChanges||ne.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),A=!0),P++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,y=[];let v=null,A=null;for(let P=s.directiveStart;P<l;P++){const H=d[P],X=H.inputs,ne=null===f||Nh(s)?null:ey(X,f);y.push(ne),v=Gh(X,P,v),A=Gh(H.outputs,P,A)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=v,s.outputs=A}(i,o)}y&&function(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=o[s[d+1]];if(null==f)throw new et("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(o,l,y)}return o.mergedAttrs=Co(o.mergedAttrs,o.attrs),d}function Km(i,s,o,l,d,f){const y=f.hostBindings;if(y){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const A=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=A&&v.push(A),v.push(l,d,y)}}function zh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ym(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Pp(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;zn(s)&&(o[""]=i)}}function Wh(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Qm(i,s,o,l,d){i.data[l]=d;const f=d.factory||(d.factory=si(d.type)),y=new Wn(f,zn(d),null);i.blueprint[l]=y,o[l]=y,Km(i,s,0,l,Nc(i,o,d.hostVars,Tn),d)}function Jm(i,s,o){const l=Ht(s,i),d=Hm(o),f=i[10],y=Zh(i,Fl(i,d,null,o.onPush?64:16,l,s,f,f.createRenderer(l,o),null,null));i[s.index]=y}function Oa(i,s,o,l,d,f){const y=Ht(i,s);!function(i,s,o,l,d,f,y){if(null==f)He(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const v=null==y?fe(f):y(f,l||"",d);He(i)?i.setAttribute(s,d,v,o):o?s.setAttributeNS(o,d,v):s.setAttribute(d,v)}}(s[11],y,f,i.value,o,l,d)}function Xm(i,s,o,l,d,f){const y=f[s];if(null!==y){const v=l.setInput;for(let A=0;A<y.length;){const P=y[A++],H=y[A++],X=y[A++];null!==v?l.setInput(o,X,P,H):o[H]=X}}}function ey(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function ty(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function j_(i,s){const o=$n(s,i);if(Es(o)){const l=o[1];80&o[2]?du(l,o,l.template,o[8]):o[5]>0&&Id(o)}}function Id(i){for(let l=Zu(i);null!==l;l=Ku(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const y=f[1];du(y,f,y.template,f[8])}else f[5]>0&&Id(f)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=$n(o[l],i);Es(d)&&d[5]>0&&Id(d)}}function kp(i,s){const o=$n(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),Ll(l,o,o[8])}function Zh(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Dd(i){for(;i;){i[2]|=64;const s=Ic(i);if(Qi(i)&&!s)return i;i=s}return null}function Kh(i,s,o){const l=s[10];l.begin&&l.begin();try{du(i,s,i.template,o)}catch(d){throw Jh(s,d),d}finally{l.end&&l.end()}}function Yh(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=Tl(o),d=l[1];Tp(d,l,d.template,o)}}(i[8])}function Ad(i,s,o){$a(0),s(i,o)}const Lp=(()=>Promise.resolve(null))();function ry(i){return i[7]||(i[7]=[])}function Qh(i){return i.cleanup||(i.cleanup=[])}function Jh(i,s){const o=i[9],l=o?o.get(vt,null):null;l&&l.handleError(s)}function Xh(i,s,o,l,d){for(let f=0;f<o.length;){const y=o[f++],v=o[f++],A=s[y],P=i.data[y];null!==P.setInput?P.setInput(A,d,l,v):A[v]=d}}function da(i,s,o){const l=bt(s,i);!function(i,s,o){He(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function hu(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const v=s[y];"number"==typeof v?f=v:1==f?d=Ie(d,v):2==f&&(l=Ie(l,v+": "+s[++y]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}const nl=new jn("INJECTOR",-1);class Pa{get(s,o=Xa){if(o===Xa){const l=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw l.name="NullInjectorError",l}return o}}const jl=new jn("Set Injector scope."),Sd={},Up={};let Bp;function oy(){return void 0===Bp&&(Bp=new Pa),Bp}function ay(i,s=null,o=null,l){return new Hp(i,o,s||oy(),l)}class Hp{constructor(s,o,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&Ps(o,v=>this.processProvider(v,s,o)),Ps([s],v=>this.processInjectorType(v,[],f)),this.records.set(nl,Hl(void 0,this));const y=this.records.get(jl);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:he(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Xa,l=re.Default){this.assertNotDestroyed();const d=Ds(this),f=tt(void 0);try{if(!(l&re.SkipSelf)){let v=this.records.get(s);if(void 0===v){const A=("function"==typeof(i=s)||"object"==typeof i&&i instanceof jn)&&un(s);v=A&&this.injectableDefInScope(A)?Hl($p(s),Sd):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&re.Self?oy():this.parent).get(s,o=l&re.Optional&&o===Xa?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Ta]=y[Ta]||[]).unshift(he(s)),d)throw y;return Aa(y,s,"R3InjectorError",this.source)}throw y}finally{tt(f),Ds(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(he(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=Fe(s)))return!1;let d=Dn(s);const f=null==d&&s.ngModule||void 0,y=void 0===f?s:f,v=-1!==l.indexOf(y);if(void 0!==f&&(d=Dn(f)),null==d)return!1;if(null!=d.imports&&!v){let H;l.push(y);try{Ps(d.imports,X=>{this.processInjectorType(X,o,l)&&(void 0===H&&(H=[]),H.push(X))})}finally{}if(void 0!==H)for(let X=0;X<H.length;X++){const{ngModule:ne,providers:ye}=H[X];Ps(ye,Se=>this.processProvider(Se,ne,ye||nt))}}this.injectorDefTypes.add(y);const A=si(y)||(()=>new y);this.records.set(y,Hl(A,Sd));const P=d.providers;if(null!=P&&!v){const H=s;Ps(P,X=>this.processProvider(X,H,P))}return void 0!==f&&void 0!==s.providers}processProvider(s,o,l){let d=Oc(s=Fe(s))?s:Fe(s&&s.provide);const f=tf(i=s)?Hl(void 0,i.useValue):Hl(ef(i),Sd);var i;if(Oc(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=Hl(void 0,Sd,!0),y.factory=()=>To(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,f)}hydrate(s,o){return o.value===Sd&&(o.value=Up,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Fe(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function $p(i){const s=un(i),o=null!==s?s.factory:si(i);if(null!==o)return o;if(i instanceof jn)throw new Error(`Token ${he(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=function(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${he(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[en]||i[gn]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function ef(i,s,o){let l;if(Oc(i)){const d=Fe(i);return si(d)||$p(d)}if(tf(i))l=()=>Fe(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...To(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>Pr(Fe(i.useExisting));else{const d=Fe(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return si(d)||$p(d);l=()=>new d(...To(i.deps))}return l}function Hl(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function tf(i){return null!==i&&"object"==typeof i&&ml in i}function Oc(i){return"function"==typeof i}const Zp=function(i,s,o){return function(i,s=null,o=null,l){const d=ay(i,s,o,l);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};class Er{static create(s,o){return Array.isArray(s)?Zp(s,o,""):Zp(s.providers,s.parent,s.name||"")}}function Rd(i,s){N(Tl(i)[1],nr())}function ys(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(zn(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){l.push(d);const y=i;y.inputs=af(i.inputs),y.declaredInputs=af(i.declaredInputs),y.outputs=af(i.outputs);const v=d.hostBindings;v&&gy(i,v);const A=d.viewQuery,P=d.contentQueries;if(A&&rv(i,A),P&&uf(i,P),ge(i.inputs,d.inputs),ge(i.declaredInputs,d.declaredInputs),ge(i.outputs,d.outputs),zn(d)&&d.data.animation){const H=i.data;H.animation=(H.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const v=f[y];v&&v.ngInherit&&v(i),v===ys&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Co(d.hostAttrs,o=Co(o,d.hostAttrs))}}(l)}function af(i){return i===Me?{}:i===nt?[]:i}function rv(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function uf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,f)=>{s(l,d,f),o(l,d,f)}:s}function gy(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}Er.THROW_IF_NOT_FOUND=Xa,Er.NULL=new Pa,Er.\u0275prov=mn({token:Er,providedIn:"any",factory:()=>Pr(nl)}),Er.__NG_ELEMENT_ID__=-1;let lf=null;function Fc(){if(!lf){const i=oe.Symbol;if(i&&i.iterator)lf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(lf=l)}}}return lf}class La{constructor(s){this.wrapped=s}static wrap(s){return new La(s)}static unwrap(s){return La.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof La}}function cf(i){return!!cg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Fc()in i)}function cg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Va(i,s,o){return i[s]=o}function Ls(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function _y(i,s,o,l){const d=ct();return Ls(d,hs(),s)&&(In(),Oa(hr(),d,i,s,o,l)),_y}function Uc(i,s,o,l){return Ls(i,hs(),o)?s+fe(o)+l:Tn}function zl(i,s,o,l,d,f){const v=function(i,s,o,l){const d=Ls(i,s,o);return Ls(i,s+1,l)||d}(i,_i(),o,d);return is(2),v?s+fe(o)+l+fe(d)+f:Tn}function Ey(i,s,o,l,d,f,y,v){const A=ct(),P=In(),H=i+20,X=P.firstCreatePass?function(i,s,o,l,d,f,y,v,A){const P=s.consts,H=Rc(s,i,4,y||null,Ai(P,v));tl(s,o,H,Ai(P,A)),N(s,H);const X=H.tViews=bd(2,H,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,P);return null!==s.queries&&(s.queries.template(s,H),X.queries=s.queries.embeddedTView(H)),H}(H,P,A,s,o,l,d,f,y):P.data[H];ui(X,!1);const ne=A[11].createComment("");Ol(P,A,ne,X),ur(ne,A),Zh(A,A[H]=ty(ne,A,ne,X)),Li(X)&&Ed(P,A,X),null!=y&&Sp(A,X,v)}function by(i){return sr($.lFrame.contextLView,20+i)}function Ld(i,s=re.Default){const o=ct();return null===o?Pr(i,s):S(nr(),o,Fe(i),s)}function _f(i,s,o){const l=ct();return Ls(l,hs(),s)&&io(In(),hr(),l,i,s,l[11],o,!1),_f}function vf(i,s,o,l,d){const y=d?"class":"style";Xh(i,o,s.inputs[y],y,l)}function Tg(i,s,o,l){const d=ct(),f=In(),y=20+i,v=d[11],A=d[y]=Dh(v,s,$.lFrame.currentNamespace),P=f.firstCreatePass?function(i,s,o,l,d,f,y){const v=s.consts,P=Rc(s,i,2,d,Ai(v,f));return tl(s,o,P,Ai(v,y)),null!==P.attrs&&hu(P,P.attrs,!1),null!==P.mergedAttrs&&hu(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(y,f,d,0,s,o,l):f.data[y];ui(P,!0);const H=P.mergedAttrs;null!==H&&Ks(v,A,H);const X=P.classes;null!==X&&Pl(v,A,X);const ne=P.styles;null!==ne&&Rh(v,A,ne),64!=(64&P.flags)&&Ol(f,d,A,P),0===$.lFrame.elementDepthCount&&ur(A,d),$.lFrame.elementDepthCount++,Li(P)&&(Ed(f,d,P),Vl(f,P,d)),null!==l&&Sp(d,P)}function wf(){let i=nr();na()?Os():(i=i.parent,ui(i,!1));const s=i;$.lFrame.elementDepthCount--;const o=In();o.firstCreatePass&&(N(o,i),tr(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&vf(o,s,ct(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&vf(o,s,ct(),s.stylesWithoutHost,!1)}function Py(i,s,o,l){Tg(i,s,o,l),wf()}function Sg(i,s,o){const l=ct(),d=In(),f=i+20,y=d.firstCreatePass?function(i,s,o,l,d){const f=s.consts,y=Ai(f,l),v=Rc(s,i,8,"ng-container",y);return null!==y&&hu(v,y,!0),tl(s,o,v,Ai(f,d)),null!==s.queries&&s.queries.elementStart(s,v),v}(f,d,l,s,o):d.data[f];ui(y,!0);const v=l[f]=l[11].createComment("");Ol(d,l,v,y),ur(v,l),Li(y)&&(Ed(d,l,y),Vl(d,y,l)),null!=o&&Sp(l,y)}function xg(){let i=nr();const s=In();na()?Os():(i=i.parent,ui(i,!1)),s.firstCreatePass&&(N(s,i),tr(i)&&s.queries.elementEnd(i))}function ky(){return ct()}function Rg(i){return!!i&&"function"==typeof i.then}function Fy(i){return!!i&&"function"==typeof i.subscribe}const Ng=Fy;function Ly(i,s,o,l){const d=ct(),f=In(),y=nr();return function(i,s,o,l,d,f,y,v){const A=Li(l),H=i.firstCreatePass&&Qh(i),X=s[8],ne=ry(s);let ye=!0;if(3&l.type||v){const Be=Ht(l,s),wt=v?v(Be):Be,at=ne.length,sn=v?An=>v(x(An[l.index])):l.index;if(He(o)){let An=null;if(!v&&A&&(An=function(i,s,o,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===o&&d[f+1]===l){const v=s[7],A=d[f+2];return v.length>A?v[A]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,l.index)),null!==An)(An.__ngLastListenerFn__||An).__ngNextListenerFn__=f,An.__ngLastListenerFn__=f,ye=!1;else{f=bf(l,s,X,f,!1);const Xn=o.listen(wt,d,f);ne.push(f,Xn),H&&H.push(d,sn,at,at+1)}}else f=bf(l,s,X,f,!0),wt.addEventListener(d,f,y),ne.push(f),H&&H.push(d,sn,at,y)}else f=bf(l,s,X,f,!1);const Se=l.outputs;let Qe;if(ye&&null!==Se&&(Qe=Se[d])){const Be=Qe.length;if(Be)for(let wt=0;wt<Be;wt+=2){const As=s[Qe[wt]][Qe[wt+1]].subscribe(f),Ha=ne.length;ne.push(f,As),H&&H.push(d,l.index,Ha,-(Ha+1))}}}(f,d,d[11],y,i,s,!!o,l),Ly}function Ef(i,s,o,l){try{return!1!==o(l)}catch(d){return Jh(i,d),!1}}function bf(i,s,o,l,d){return function f(y){if(y===Function)return l;const v=2&i.flags?$n(i.index,s):s;0==(32&s[2])&&Dd(v);let A=Ef(s,0,l,y),P=f.__ngNextListenerFn__;for(;P;)A=Ef(s,0,P,y)&&A,P=P.__ngNextListenerFn__;return d&&!1===A&&(y.preventDefault(),y.returnValue=!1),A}}function Mg(i=1){return function(i){return($.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,$.lFrame.contextLView))[8]}(i)}function Pg(i,s,o){return Bd(i,"",s,"",o),Pg}function Bd(i,s,o,l,d){const f=ct(),y=Uc(f,s,o,l);return y!==Tn&&io(In(),hr(),f,i,y,f[11],d,!1),Bd}function Us(i,s,o,l,d){const f=i[o+1],y=null===s;let v=l?Ro(f):la(f),A=!1;for(;0!==v&&(!1===A||y);){const H=i[v+1];wv(i[v],s)&&(A=!0,i[v+1]=l?Zi(H):mp(H)),v=l?Ro(H):la(H)}A&&(i[o+1]=l?mp(f):Zi(f))}function wv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Da(i,s)>=0}const Mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kl(i){return i.substring(Mi.key,Mi.keyEnd)}function Yl(i){return i.substring(Mi.value,Mi.valueEnd)}function ul(i,s){const o=Mi.textEnd;return o===s?-1:(s=Mi.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,Mi.key=s,o),Mo(i,s,o))}function jy(i,s){const o=Mi.textEnd;let l=Mi.key=Mo(i,s,o);return o===l?-1:(l=Mi.keyEnd=function(i,s,o){let l;for(;s<o&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,o),l=Ug(i,l,o),l=Mi.value=Mo(i,l,o),l=Mi.valueEnd=function(i,s,o){let l=-1,d=-1,f=-1,y=s,v=y;for(;y<o;){const A=i.charCodeAt(y++);if(59===A)return v;34===A||39===A?v=y=Cf(i,A,y,o):s===y-4&&85===f&&82===d&&76===l&&40===A?v=y=Cf(i,41,y,o):A>32&&(v=y),f=d,d=l,l=-33&A}return v}(i,l,o),Ug(i,l,o))}function Hy(i){Mi.key=0,Mi.keyEnd=0,Mi.value=0,Mi.valueEnd=0,Mi.textEnd=i.length}function Mo(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function Ug(i,s,o,l){return(s=Mo(i,s,o))<o&&s++,s}function Cf(i,s,o,l){let d=-1,f=o;for(;f<l;){const y=i.charCodeAt(f++);if(y==s&&92!==d)return f;d=92==y&&92===d?0:y}throw new Error}function If(i,s,o){return ta(i,s,o,!1),If}function jg(i,s){return ta(i,s,null,!0),jg}function Dv(i,s){for(let o=function(i){return Hy(i),jy(i,Mo(i,0,Mi.textEnd))}(s);o>=0;o=jy(s,o))a(i,Kl(s),Yl(s))}function Hg(i){fa(ps,ha,i,!0)}function ha(i,s){for(let o=function(i){return Hy(i),ul(i,Mo(i,0,Mi.textEnd))}(s);o>=0;o=ul(s,o))ps(i,Kl(s),!0)}function ta(i,s,o,l){const d=ct(),f=In(),y=is(2);f.firstUpdatePass&&Gg(f,i,y,l),s!==Tn&&Ls(d,y,s)&&h(f,f.data[Wr()],d,d[11],i,d[y+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=he(to(i)))),i}(s,o),l,y)}function fa(i,s,o,l){const d=In(),f=is(2);d.firstUpdatePass&&Gg(d,null,f,l);const y=ct();if(o!==Tn&&Ls(y,f,o)){const v=d.data[Wr()];if(W(v,l)&&!$g(d,f)){let A=l?v.classesWithoutHost:v.stylesWithoutHost;null!==A&&(o=Ie(A,o||"")),vf(d,v,y,o,l)}else!function(i,s,o,l,d,f,y,v){d===Tn&&(d=nt);let A=0,P=0,H=0<d.length?d[0]:null,X=0<f.length?f[0]:null;for(;null!==H||null!==X;){const ne=A<d.length?d[A+1]:void 0,ye=P<f.length?f[P+1]:void 0;let Qe,Se=null;H===X?(A+=2,P+=2,ne!==ye&&(Se=X,Qe=ye)):null===X||null!==H&&H<X?(A+=2,Se=H):(P+=2,Se=X,Qe=ye),null!==Se&&h(i,s,o,l,Se,Qe,y,v),H=A<d.length?d[A]:null,X=P<f.length?f[P]:null}}(d,v,y,y[11],y[f+1],y[f+1]=function(i,s,o){if(null==o||""===o)return nt;const l=[],d=to(o);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,o),l,f)}}function $g(i,s){return s>=i.expandoStartIndex}function Gg(i,s,o,l){const d=i.data;if(null===d[o+1]){const f=d[Wr()],y=$g(i,o);W(f,l)&&null===s&&!y&&(s=!1),s=function(i,s,o,l){const d=_a(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=u(o=zg(null,i,s,o,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(o=zg(d,i,s,o,l),null===f){let A=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==la(l))return i[Ro(l)]}(i,s,l);void 0!==A&&Array.isArray(A)&&(A=zg(null,i,s,A[1],l),A=u(A,s.attrs,l),function(i,s,o,l){i[Ro(o?s.classBindings:s.styleBindings)]=l}(i,s,l,A))}else f=function(i,s,o){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=u(l,i[f].hostAttrs,o);return u(l,s.attrs,o)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(d,f,s,l),function(i,s,o,l,d,f){let y=f?s.classBindings:s.styleBindings,v=Ro(y),A=la(y);i[l]=o;let H,P=!1;if(Array.isArray(o)){const X=o;H=X[1],(null===H||Da(X,H)>0)&&(P=!0)}else H=o;if(d)if(0!==A){const ne=Ro(i[v+1]);i[l+1]=Oh(ne,v),0!==ne&&(i[ne+1]=yp(i[ne+1],l)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=Oh(v,0),0!==v&&(i[v+1]=yp(i[v+1],l)),v=l;else i[l+1]=Oh(A,0),0===v?v=l:i[A+1]=yp(i[A+1],l),A=l;P&&(i[l+1]=mp(i[l+1])),Us(i,H,l,!0),Us(i,H,l,!1),function(i,s,o,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Da(f,s)>=0&&(o[l+1]=Zi(o[l+1]))}(s,H,i,l,f),y=Oh(v,A),f?s.classBindings=y:s.styleBindings=y}(d,f,s,o,y,l)}}function zg(i,s,o,l,d){let f=null;const y=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<y&&(f=s[v],l=u(l,f.hostAttrs,d),f!==i);)v++;return null!==i&&(o.directiveStylingLast=v),l}function u(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ps(i,y,!!o||s[++f]))}return void 0===i?null:i}function a(i,s,o){ps(i,s,to(o))}function h(i,s,o,l,d,f,y,v){if(!(3&s.type))return;const A=i.data,P=A[v+1];T(function(i){return 1==(1&i)}(P)?_(A,s,o,d,la(P),y):void 0)||(T(f)||function(i){return 2==(2&i)}(P)&&(f=_(A,null,o,d,v,y)),function(i,s,o,l,d){const f=He(i);if(s)d?f?i.addClass(o,l):o.classList.add(l):f?i.removeClass(o,l):o.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Zo.DashCase;if(null==d)f?i.removeStyle(o,l,y):o.style.removeProperty(l);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),y|=Zo.Important),f?i.setStyle(o,l,d,y):o.style.setProperty(l,d,v?"important":"")}}}(l,y,bt(Wr(),o),d,f))}function _(i,s,o,l,d,f){const y=null===s;let v;for(;d>0;){const A=i[d],P=Array.isArray(A),H=P?A[1]:A,X=null===H;let ne=o[d+1];ne===Tn&&(ne=X?nt:void 0);let ye=X?xr(ne,l):H===l?ne:void 0;if(P&&!T(ye)&&(ye=xr(A,l)),T(ye)&&(v=ye,y))return v;const Se=i[d+1];d=y?Ro(Se):la(Se)}if(null!==s){let A=f?s.residualClasses:s.residualStyles;null!=A&&(v=xr(A,l))}return v}function T(i){return void 0!==i}function W(i,s){return 0!=(i.flags&(s?16:32))}function ie(i,s=""){const o=ct(),l=In(),d=i+20,f=l.firstCreatePass?Rc(l,d,1,s,null):l.data[d],y=o[d]=function(i,s){return He(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Ol(l,o,y,f),ui(f,!1)}function ce(i){return Te("",i,""),ce}function Te(i,s,o){const l=ct(),d=Uc(l,i,s,o);return d!==Tn&&da(l,Wr(),d),Te}function Xe(i,s,o,l,d){const f=ct(),y=zl(f,i,s,o,l,d);return y!==Tn&&da(f,Wr(),y),Xe}function r0(i,s,o){!function(i){fa(a,Dv,i,!1)}(Uc(ct(),i,s,o))}function Sv(i,s,o){const l=ct();return Ls(l,hs(),s)&&io(In(),hr(),l,i,s,l[11],o,!0),Sv}function xv(i,s,o){const l=ct();if(Ls(l,hs(),s)){const f=In(),y=hr();io(f,y,l,i,s,function(i,s,o){return(null===i||zn(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}(_a(f.data),y,l),o,!0)}return xv}const zd=void 0;var fC=["en",[["a","p"],["AM","PM"],zd],[["AM","PM"],zd,zd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zd,"{1} 'at' {0}",zd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Tf={};function Rv(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=p0(s);if(o)return o;const l=s.split("-")[0];if(o=p0(l),o)return o;if("en"===l)return fC;throw new Error(`Missing locale data for the locale "${i}".`)}function f0(i){return Rv(i)[wn.PluralCase]}function p0(i){return i in Tf||(Tf[i]=oe.ng&&oe.ng.common&&oe.ng.common.locales&&oe.ng.common.locales[i]),Tf[i]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const zy="en-US";let g0=zy;function Nv(i){Tt(i,"Expected localeId to be defined"),"string"==typeof i&&(g0=i.toLowerCase().replace(/_/g,"-"))}function Pv(i,s,o,l,d){if(i=Fe(i),Array.isArray(i))for(let f=0;f<i.length;f++)Pv(i[f],s,o,l,d);else{const f=In(),y=ct();let v=Oc(i)?i:Fe(i.provide),A=ef(i);const P=nr(),H=1048575&P.providerIndexes,X=P.directiveStart,ne=P.providerIndexes>>20;if(Oc(i)||!i.multi){const ye=new Wn(A,d,Ld),Se=Fv(v,s,d?H:H+ne,X);-1===Se?(Ka(oa(P,y),f,v),kv(f,i,s.length),s.push(v),P.directiveStart++,P.directiveEnd++,d&&(P.providerIndexes+=1048576),o.push(ye),y.push(ye)):(o[Se]=ye,y[Se]=ye)}else{const ye=Fv(v,s,H+ne,X),Se=Fv(v,s,H,H+ne),Qe=ye>=0&&o[ye],Be=Se>=0&&o[Se];if(d&&!Be||!d&&!Qe){Ka(oa(P,y),f,v);const wt=function(i,s,o,l,d){const f=new Wn(i,o,Ld);return f.multi=[],f.index=s,f.componentProviders=0,U0(f,d,l&&!o),f}(d?cI:lI,o.length,d,l,A);!d&&Be&&(o[Se].providerFactory=wt),kv(f,i,s.length,0),s.push(v),P.directiveStart++,P.directiveEnd++,d&&(P.providerIndexes+=1048576),o.push(wt),y.push(wt)}else kv(f,i,ye>-1?ye:Se,U0(o[d?Se:ye],A,!d&&l));!d&&l&&Be&&o[Se].componentProviders++}}}function kv(i,s,o,l){const d=Oc(s);if(d||function(i){return!!i.useClass}(s)){const y=(s.useClass||s).prototype.ngOnDestroy;if(y){const v=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const A=v.indexOf(o);-1===A?v.push(o,[l,y]):v[A+1].push(l,y)}else v.push(o,y)}}}function U0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Fv(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function lI(i,s,o,l){return Lv(this.multi,[])}function cI(i,s,o,l){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=Y(o,o[1],this.providerFactory.index,l);f=v.slice(0,y),Lv(d,f);for(let A=y;A<v.length;A++)f.push(v[A])}else f=[],Lv(d,f);return f}function Lv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function B0(i,s=[]){return o=>{o.providersResolver=(l,d)=>function(i,s,o){const l=In();if(l.firstCreatePass){const d=zn(i);Pv(o,l.data,l.blueprint,d,!0),Pv(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class j0{}const $0="ngComponent";class fI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return s[$0]=i,s}(s)}}class Wd{}function Yy(...i){}function Sf(i,s){return new ll(Ht(i,s))}Wd.NULL=new fI;const mI=function(){return Sf(nr(),ct())};let ll=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=mI,i})();function G0(i){return i instanceof ll?i.nativeElement:i}class Qy{}let yI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>vI(),i})();const vI=function(){const i=ct(),o=$n(nr().index,i);return function(i){return i[11]}(yr(o)?o:i)};let Uv=(()=>{class i{}return i.\u0275prov=mn({token:i,providedIn:"root",factory:()=>null}),i})();class z0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Bv=new z0("12.2.4");class W0{constructor(){}supports(s){return cf(s)}create(s){return new CI(s)}}const bI=(i,s)=>s;class CI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||bI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,f=null;for(;o||l;){const y=!l||o&&o.currentIndex<Z0(l,d,f)?o:l,v=Z0(y,d,f),A=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(o=o._next,null==y.previousIndex)d++;else{f||(f=[]);const P=v-d,H=A-d;if(P!=H){for(let ne=0;ne<P;ne++){const ye=ne<f.length?f[ne]:f[ne]=0,Se=ye+ne;H<=Se&&Se<P&&(f[ne]=ye+1)}f[y.previousIndex]=H-P}}v!==A&&s(y,v,A)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!cf(s))throw new Error(`Error trying to diff '${he(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],y=this._trackByFn(v,f),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,f,y,v)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,y,v),l=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Fc()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,v=>{y=this._trackByFn(d,v),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,v,y,d)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,y,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,d)):s=this._addAfter(new II(o,l),f,d),s}_verifyReinsertion(s,o,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class II{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class q0{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new DI,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Z0(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class K0{constructor(){}supports(s){return s instanceof Map||cg(s)}create(){return new TI}}class TI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||cg(s)))throw new Error(`Error trying to diff '${he(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const l=new AI(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class AI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Y0(){return new Jy([new W0])}let Jy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Y0()),deps:[[i,new go,new Go]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=mn({token:i,providedIn:"root",factory:Y0}),i})();function Q0(){return new Xy([new K0])}let Xy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Q0()),deps:[[i,new go,new Go]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=mn({token:i,providedIn:"root",factory:Q0}),i})();function e_(i,s,o,l,d=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(x(f)),Zn(f))for(let v=10;v<f.length;v++){const A=f[v],P=A[1].firstChild;null!==P&&e_(A[1],A,P,l)}const y=o.type;if(8&y)e_(i,s,o.child,l);else if(32&y){const v=Na(o,s);let A;for(;A=v();)l.push(A)}else if(16&y){const v=lp(s,o);if(Array.isArray(v))l.push(...v);else{const A=Ic(s[16]);e_(A[1],A,v,l,!0)}}o=d?o.projectionNext:o.next}return l}class Yg{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return e_(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Zn(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Dc(s,l),fo(o,l))}this._attachedToViewContainer=!1}Th(this._lView[1],this._lView)}onDestroy(s){$h(this._lView[1],this._lView,null,s)}markForCheck(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){ds(!0);try{Kh(i,s,o)}finally{ds(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Ko(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class xI extends Yg{constructor(s){super(s),this._view=s}detectChanges(){Yh(this._view)}checkNoChanges(){!function(i){ds(!0);try{Yh(i)}finally{ds(!1)}}(this._view)}get context(){return null}}const NI=function(i){return function(i,s,o){if(Fi(i)&&!o){const l=$n(i.index,s);return new Yg(l,l)}return 47&i.type?new Yg(s[16],s):null}(nr(),ct(),16==(16&i))};let MI=(()=>{class i{}return i.__NG_ELEMENT_ID__=NI,i})();const kI=[new K0],LI=new Jy([new W0]),VI=new Xy(kI),BI=function(){return t_(nr(),ct())};let Qg=(()=>{class i{}return i.__NG_ELEMENT_ID__=BI,i})();const jI=Qg,HI=class extends jI{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=Fl(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(o)),Ll(o,l,s),new Yg(l)}};function t_(i,s){return 4&i.type?new HI(s,i,Sf(i,s)):null}class qd{}class J0{}const zI=function(){return tE(nr(),ct())};let n_=(()=>{class i{}return i.__NG_ELEMENT_ID__=zI,i})();const qI=n_,X0=class extends qI{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Sf(this._hostTNode,this._hostLView)}get injector(){return new Pt(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ho(this._hostTNode,this._hostLView);if(ho(s)){const o=Ys(s,this._hostLView),l=Io(s);return new Pt(o[1].data[l+8],o)}return new Pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=eE(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const d=s.createEmbeddedView(o||{});return this.insert(d,l),d}createComponent(s,o,l,d,f){const y=l||this.parentInjector;if(!f&&null==s.ngModule&&y){const A=y.get(qd,null);A&&(f=A)}const v=s.create(y,d,void 0,f);return this.insert(v.hostView,o),v}insert(s,o){const l=s._lView,d=l[1];if(Zn(l[3])){const H=this.indexOf(s);if(-1!==H)this.detach(H);else{const X=l[3],ne=new X0(X,X[6],X[3]);ne.detach(ne.indexOf(s))}}const f=this._adjustIndex(o),y=this._lContainer;!function(i,s,o,l){const d=10+l,f=o.length;l>0&&(o[d-1][4]=s),l<f-10?(s[4]=o[d],Au(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const y=s[17];null!==y&&o!==y&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(y,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(d,l,y,f);const v=cp(f,y),A=l[11],P=Ma(A,y[7]);return null!==P&&function(i,s,o,l,d,f){l[0]=d,l[6]=s,Ko(i,l,o,1,d,f)}(d,y[6],A,l,P,v),s.attachToViewContainerRef(),Au(jv(y),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=eE(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Dc(this._lContainer,o);l&&(fo(jv(this._lContainer),o),Th(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Dc(this._lContainer,o);return l&&null!=fo(jv(this._lContainer),o)?new Yg(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function eE(i){return i[8]}function jv(i){return i[8]||(i[8]=[])}function tE(i,s){let o;const l=s[i.index];if(Zn(l))o=l;else{let d;if(8&i.type)d=x(l);else{const f=s[11];d=f.createComment("");const y=Ht(i,s);Nl(f,Ma(f,y),d,function(i,s){return He(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=o=ty(l,s,d,i),Zh(s,o)}return new X0(o,i,s)}const Mf={};class EE extends Wd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Mt(s);return new CE(o,this.ngModule)}}function bE(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const $D=new jn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ro});class CE extends j0{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(Ac).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return bE(this.componentDef.inputs)}get outputs(){return bE(this.componentDef.outputs)}create(s,o,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(o,l,d)=>{const f=i.get(o,Mf,d);return f!==Mf||l===Mf?f:s.get(o,l,d)}}}(s,d.injector):s,y=f.get(Qy,k),v=f.get(Uv,null),A=y.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",H=l?function(i,s,o){if(He(i))return i.selectRootElement(s,o===En.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(A,l,this.componentDef.encapsulation):Dh(y.createRenderer(null,this.componentDef),P,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(P)),X=this.componentDef.onPush?576:528,ne=function(i,s){return{components:[],scheduler:i||ro,clean:Lp,playerHandler:s||null,flags:0}}(),ye=bd(0,null,null,1,0,null,null,null,null,null),Se=Fl(null,ye,ne,X,null,null,y,A,v,f);let Qe,Be;lo(Se);try{const wt=function(i,s,o,l,d,f){const y=o[1];o[20]=i;const A=Rc(y,20,2,"#host",null),P=A.mergedAttrs=s.hostAttrs;null!==P&&(hu(A,P,!0),null!==i&&(Ks(d,i,P),null!==A.classes&&Pl(d,i,A.classes),null!==A.styles&&Rh(d,i,A.styles)));const H=l.createRenderer(i,s),X=Fl(o,Hm(s),null,s.onPush?64:16,o[20],A,l,H,f||null,null);return y.firstCreatePass&&(Ka(oa(A,o),y,s.type),Ym(y,A),Wh(A,o.length,1)),Zh(o,X),o[20]=X}(H,this.componentDef,Se,y,A);if(H)if(l)Ks(A,H,["ng-version",Bv.full]);else{const{attrs:at,classes:sn}=function(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&o.push(f);else{if(!Yo(d))break;d=f}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);at&&Ks(A,H,at),sn&&sn.length>0&&Pl(A,H,sn.join(" "))}if(Be=Ir(ye,20),void 0!==o){const at=Be.projection=[];for(let sn=0;sn<this.ngContentSelectors.length;sn++){const An=o[sn];at.push(null!=An?Array.from(An):null)}}Qe=function(i,s,o,l,d){const f=o[1],y=function(i,s,o){const l=nr();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Qm(i,l,s,Nc(i,s,1,null),o));const d=Y(s,i,l.directiveStart,l);ur(d,s);const f=Ht(l,s);return f&&ur(f,s),d}(f,o,s);if(l.components.push(y),i[8]=y,d&&d.forEach(A=>A(y,s)),s.contentQueries){const A=nr();s.contentQueries(1,y,A.directiveStart)}const v=nr();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(li(v.index),Km(o[1],v,0,v.directiveStart,v.directiveEnd,s),zh(s,y)),y}(wt,this.componentDef,Se,ne,[Rd]),Ll(ye,Se,null)}finally{ia()}return new WD(this.componentType,Qe,Sf(Be,Se),Se,Be)}}class WD extends class{}{constructor(s,o,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new xI(d),this.componentType=s}get injector(){return new Pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Of=new Map;class KD extends qd{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new EE(this);const l=vn(s),d=s[cr]||null;d&&Nv(d),this._bootstrapComponents=ms(l.bootstrap),this._r3Injector=ay(s,o,[{provide:qd,useValue:this},{provide:Wd,useValue:this.componentFactoryResolver}],he(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Er.THROW_IF_NOT_FOUND,l=re.Default){return s===Er||s===qd||s===nl?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ew extends J0{constructor(s){super(),this.moduleType=s,null!==vn(s)&&function(i){const s=new Set;!function o(l){const d=vn(l,!0),f=d.id;null!==f&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${he(s)} vs ${he(s.name)}`)}(f,Of.get(f),l),Of.set(f,l));const y=ms(d.imports);for(const v of y)s.has(v)||(s.add(v),o(v))}(i)}(s)}create(s){return new KD(this.moduleType,s)}}function TE(i,s,o){const l=Qr()+i,d=ct();return d[l]===Tn?Va(d,l,o?s.call(o):s()):function(i,s){return i[s]}(d,l)}function AE(i,s,o,l,d,f){const y=s+o;return Ls(i,y,d)?Va(i,y+1,f?l.call(f,d):l(d)):function(i,s){const o=i[s];return o===Tn?void 0:o}(i,y+1)}function ME(i,s){const o=In();let l;const d=i+20;o.firstCreatePass?(l=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}throw new et("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[d]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,l.onDestroy)):l=o.data[d];const f=l.factory||(l.factory=si(l.type)),y=tt(Ld);try{const v=Ea(!1),A=f();return Ea(v),function(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,ct(),d,A),A}finally{tt(y)}}function OE(i,s,o){const l=i+20,d=ct(),f=sr(d,l);return function(i,s){La.isWrapped(s)&&(s=La.unwrap(s),i[_i()]=Tn);return s}(d,function(i,s){return i[1].data[s].pure}(d,l)?AE(d,Qr(),s,f.transform,o,f):f.transform(o))}function tw(i){return s=>{setTimeout(i,void 0,s)}}const cl=class extends C.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var d,f,y;let v=s,A=o||(()=>null),P=l;if(s&&"object"==typeof s){const X=s;v=null===(d=X.next)||void 0===d?void 0:d.bind(X),A=null===(f=X.error)||void 0===f?void 0:f.bind(X),P=null===(y=X.complete)||void 0===y?void 0:y.bind(X)}this.__isAsync&&(A=tw(A),v&&(v=tw(v)),P&&(P=tw(P)));const H=super.subscribe({next:v,error:A,complete:P});return s instanceof I.w&&s.add(H),H}};function dT(){return this._results[Fc()]()}class a_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Fc(),l=a_.prototype;l[o]||(l[o]=dT)}get changes(){return this._changes||(this._changes=new cl)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=Xs(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(o&&(d=o(d),f=o(f)),f!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nw{constructor(s){this.queryList=s,this.matches=null}clone(){return new nw(this.queryList)}setDirty(){this.queryList.setDirty()}}class rw{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let f=0;f<l;f++){const y=o.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new rw(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==HE(s,o).matches&&this.queries[o].setDirty()}}class PE{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class iw{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new iw(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class sw{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new sw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,o,pT(o,f)),this.matchTNodeWithReadOption(s,o,B(o,s,f,!1,!1))}else l===Qg?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,B(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ll||d===n_||d===Qg&&4&o.type)this.addMatch(o.index,-2);else{const f=B(o,s,d,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function pT(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function mT(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Sf(i,s):4&i.type?t_(i,s):null}(s,i):-2===o?function(i,s,o){return o===ll?Sf(s,i):o===Qg?t_(s,i):o===n_?tE(s,i):void 0}(i,s,l):Y(i,i[1],o,s)}function kE(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,y=o.matches,v=[];for(let A=0;A<y.length;A+=2){const P=y[A];v.push(P<0?null:mT(s,f[P],y[A+1],o.metadata.read))}d.matches=v}return d.matches}function ow(i,s,o,l){const d=i.queries.getByIndex(o),f=d.matches;if(null!==f){const y=kE(i,s,d,o);for(let v=0;v<f.length;v+=2){const A=f[v];if(A>0)l.push(y[v/2]);else{const P=f[v+1],H=s[-A];for(let X=10;X<H.length;X++){const ne=H[X];ne[17]===ne[3]&&ow(ne[1],ne,P,l)}if(null!==H[9]){const X=H[9];for(let ne=0;ne<X.length;ne++){const ye=X[ne];ow(ye[1],ye,P,l)}}}}}return l}function FE(i){const s=ct(),o=In(),l=Fo();$a(l+1);const d=HE(o,l);if(i.dirty&&Yr(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?ow(o,s,l,[]):kE(o,s,d,l);i.reset(f,G0),i.notifyOnChanges()}return!0}return!1}function LE(i,s,o){const l=In();l.firstCreatePass&&(jE(l,new PE(i,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),BE(l,ct(),s)}function VE(i,s,o,l){const d=In();if(d.firstCreatePass){const f=nr();jE(d,new PE(s,o,l),f.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}BE(d,ct(),o)}function UE(){return i=ct(),s=Fo(),i[19].queries[s].queryList;var i,s}function BE(i,s,o){const l=new a_(4==(4&o));$h(i,s,l,l.destroy),null===s[19]&&(s[19]=new rw),s[19].queries.push(new nw(l))}function jE(i,s,o){null===i.queries&&(i.queries=new iw),i.queries.track(new sw(s,o))}function HE(i,s){return i.queries.getByIndex(s)}function $E(i,s){return t_(i,s)}const hw=new jn("Application Initializer");let kf=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Yy,this.reject=Yy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Rg(f))o.push(f);else if(Ng(f)){const y=new Promise((v,A)=>{f.subscribe({complete:v,error:A})});o.push(y)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Pr(hw,8))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();const ab=new jn("AppId"),WT={provide:ab,useFactory:function(){return`${fw()}${fw()}${fw()}`},deps:[]};function fw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ub=new jn("Platform Initializer"),lb=new jn("Platform ID"),cb=new jn("appBootstrapListener");let db=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();const c_=new jn("LocaleId"),hb=new jn("DefaultCurrencyCode");class ZT{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const pw=function(i){return new ew(i)},KT=pw,YT=function(i){return Promise.resolve(pw(i))},fb=function(i){const s=pw(i),l=ms(vn(i).declarations).reduce((d,f)=>{const y=Mt(f);return y&&d.push(new CE(y)),d},[]);return new ZT(s,l)},QT=fb,JT=function(i){return Promise.resolve(fb(i))};let lm=(()=>{class i{constructor(){this.compileModuleSync=KT,this.compileModuleAsync=YT,this.compileModuleAndAllComponentsSync=QT,this.compileModuleAndAllComponentsAsync=JT}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();const tA=(()=>Promise.resolve(0))();function gw(i){"undefined"==typeof Zone?tA.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ga{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cl(!1),this.onMicrotaskEmpty=new cl(!1),this.onStable=new cl(!1),this.onError=new cl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=oe.requestAnimationFrame,s=oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(oe,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,yw(i),i.isCheckStableRunning=!0,mw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),yw(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,f,y,v)=>{try{return pb(i),o.invokeTask(d,f,y,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),gb(i)}},onInvoke:(o,l,d,f,y,v,A)=>{try{return pb(i),o.invoke(d,f,y,v,A)}finally{i.shouldCoalesceRunChangeDetection&&s(),gb(i)}},onHasTask:(o,l,d,f)=>{o.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,yw(i),mw(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,d,f)=>(o.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ga.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ga.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,rA,Yy,Yy);try{return f.runTask(y,o,l)}finally{f.cancelTask(y)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const rA={};function mw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function yw(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function pb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gb(i){i._nesting--,mw(i)}class oA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cl,this.onMicrotaskEmpty=new cl,this.onStable=new cl,this.onError=new cl}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}let mb=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ga.assertNotInAngularZone(),gw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gw(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(Pr(ga))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})(),yb=(()=>{class i{constructor(){this._applications=new Map,_w.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return _w.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();class aA{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function uA(i){_w=i}let _w=new aA,_b=!0,vb=!1;function vw(){return vb=!0,_b}function lA(){if(vb)throw new Error("Cannot enable prod mode after platform setup.");_b=!1}let yu;const wb=new jn("AllowMultipleToken");class mA{constructor(s,o){this.name=s,this.token=o}}function Eb(i,s,o=[]){const l=`Platform: ${s}`,d=new jn(l);return(f=[])=>{let y=bb();if(!y||y.injector.get(wb,!1))if(i)i(o.concat(f).concat({provide:d,useValue:!0}));else{const v=o.concat(f).concat({provide:d,useValue:!0},{provide:jl,useValue:"platform"});!function(i){if(yu&&!yu.destroyed&&!yu.injector.get(wb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yu=i.get(Cb);const s=i.get(ub,null);s&&s.forEach(o=>o())}(Er.create({providers:v,name:l}))}return function(i){const s=bb();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function bb(){return yu&&!yu.destroyed?yu:null}let Cb=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const v=function(i,s){let o;return o="noop"===i?new oA:("zone.js"===i?void 0:i)||new ga({enableLongStackTrace:vw(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),A=[{provide:ga,useValue:v}];return v.run(()=>{const P=Er.create({providers:A,parent:this.injector,name:o.moduleType.name}),H=o.create(P),X=H.injector.get(vt,null);if(!X)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const ne=v.onError.subscribe({next:ye=>{X.handleError(ye)}});H.onDestroy(()=>{ww(this._modules,H),ne.unsubscribe()})}),function(i,s,o){try{const l=o();return Rg(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(X,v,()=>{const ne=H.injector.get(kf);return ne.runInitializers(),ne.donePromise.then(()=>(Nv(H.injector.get(c_,zy)||zy),this._moduleDoBootstrap(H),H))})})}bootstrapModule(o,l=[]){const d=Ib({},l);return function(i,s,o){const l=new ew(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(o){const l=o.injector.get(cm);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${he(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Pr(Er))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();function Ib(i,s){return Array.isArray(s)?s.reduce(Ib,i):Object.assign(Object.assign({},i),s)}let cm=(()=>{class i{constructor(o,l,d,f,y){this._zone=o,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new se.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),A=new se.y(P=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{ga.assertNotInAngularZone(),gw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{ga.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{H.unsubscribe(),X.unsubscribe()}});this.isStable=(0,Ce.T)(v,A.pipe(i=>(0,_e.x)()(function(i,s){return function(l){let d;d="function"==typeof i?i:function(){return i};const f=Object.create(l,Re.N);return f.source=l,f.subjectFactory=d,f}}(ue)(i))))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof j0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(qd),v=d.create(Er.NULL,[],l||d.selector,f),A=v.location.nativeElement,P=v.injector.get(mb,null),H=P&&v.injector.get(yb);return P&&H&&H.registerApplication(A,P),v.onDestroy(()=>{this.detachView(v.hostView),ww(this.components,v),H&&H.unregisterApplication(A)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;ww(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(cb,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Pr(ga),Pr(Er),Pr(vt),Pr(Wd),Pr(kf))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();function ww(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class bA{}class IA{}const DA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let TA=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||DA}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,d]=o.split("#");return void 0===d&&(d="default"),G(8255)(l).then(f=>f[d]).then(f=>Sb(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(o){let[l,d]=o.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),G(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[d+f]).then(y=>Sb(y,l,d))}}return i.\u0275fac=function(o){return new(o||i)(Pr(lm),Pr(IA,8))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();function Sb(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const PA=function(i){return null},FA=Eb(null,"core",[{provide:lb,useValue:"unknown"},{provide:Cb,deps:[Er]},{provide:yb,deps:[]},{provide:db,deps:[]}]),jA=[{provide:cm,useClass:cm,deps:[ga,Er,vt,Wd,kf]},{provide:$D,deps:[ga],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:kf,useClass:kf,deps:[[new Go,hw]]},{provide:lm,useClass:lm,deps:[]},WT,{provide:Jy,useFactory:function(){return LI},deps:[]},{provide:Xy,useFactory:function(){return VI},deps:[]},{provide:c_,useFactory:function(i){return Nv(i=i||"undefined"!=typeof $localize&&$localize.locale||zy),i},deps:[[new $o(c_),new Go,new go]]},{provide:hb,useValue:"USD"}];let $A=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Pr(cm))},i.\u0275mod=Nr({type:i}),i.\u0275inj=Yn({providers:jA}),i})()},8006:(Rt,ze,G)=>{"use strict";G.d(ze,{zQ:()=>rt,ww:()=>Zt,rT:()=>$e,f7:()=>le,L6:()=>Ue,_Q:()=>We,lh:()=>je,Qv:()=>Ne,nw:()=>ot});var C=G(3018),I=G(9765),se=G(5917),Ce=G(7574),Re=G(4402),pe=G(6682),ke=G(7771),_e=G(5319),ue=G(309),te=G(7971),ae=G(8858);class ge extends I.xQ{constructor(_t=Number.POSITIVE_INFINITY,Lt=Number.POSITIVE_INFINITY,an){super(),this.scheduler=an,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=_t<1?1:_t,this._windowTime=Lt<1?1:Lt,Lt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(_t){if(!this.isStopped){const Lt=this._events;Lt.push(_t),Lt.length>this._bufferSize&&Lt.shift()}super.next(_t)}nextTimeWindow(_t){this.isStopped||(this._events.push(new he(this._getNow(),_t)),this._trimBufferThenGetEvents()),super.next(_t)}_subscribe(_t){const Lt=this._infiniteTimeWindow,an=Lt?this._events:this._trimBufferThenGetEvents(),yn=this.scheduler,zt=an.length;let Tt;if(this.closed)throw new te.N;if(this.isStopped||this.hasError?Tt=_e.w.EMPTY:(this.observers.push(_t),Tt=new ae.W(this,_t)),yn&&_t.add(_t=new ue.ht(_t,yn)),Lt)for(let pt=0;pt<zt&&!_t.closed;pt++)_t.next(an[pt]);else for(let pt=0;pt<zt&&!_t.closed;pt++)_t.next(an[pt].value);return this.hasError?_t.error(this.thrownError):this.isStopped&&_t.complete(),Tt}_getNow(){return(this.scheduler||ke.c).now()}_trimBufferThenGetEvents(){const _t=this._getNow(),Lt=this._bufferSize,an=this._windowTime,yn=this._events,zt=yn.length;let Tt=0;for(;Tt<zt&&!(_t-yn[Tt].time<an);)Tt++;return zt>Lt&&(Tt=Math.max(Tt,zt-Lt)),Tt>0&&yn.splice(0,Tt),yn}}class he{constructor(_t,Lt){this.time=_t,this.value=Lt}}function Ie(gt,_t,Lt){let an;return an=gt&&"object"==typeof gt?gt:{bufferSize:gt,windowTime:_t,refCount:!1,scheduler:Lt},yn=>yn.lift(function({bufferSize:gt=Number.POSITIVE_INFINITY,windowTime:_t=Number.POSITIVE_INFINITY,refCount:Lt,scheduler:an}){let yn,Tt,zt=0,pt=!1,Xt=!1;return function(_n){let mn;zt++,!yn||pt?(pt=!1,yn=new ge(gt,_t,an),mn=yn.subscribe(this),Tt=_n.subscribe({next(kn){yn.next(kn)},error(kn){pt=!0,yn.error(kn)},complete(){Xt=!0,Tt=void 0,yn.complete()}}),Xt&&(Tt=void 0)):mn=yn.subscribe(this),this.add(()=>{zt--,mn.unsubscribe(),mn=void 0,Tt&&!Xt&&Lt&&0===zt&&(Tt.unsubscribe(),Tt=void 0,yn=void 0)})}}(an))}var Le=G(3190);function Fe(gt,_t){return _t?(0,Le.w)(()=>gt,_t):(0,Le.w)(()=>gt)}var ve=G(8002),Je=G(8049),et=G(3101),ut=G(5435),Ke=G(9126),fe=G(8939),Ze=G(8583),on=G(7841);const Ne=new C.OlP("angularfire2.auth.use-emulator"),Ue=new C.OlP("angularfire2.auth.settings"),We=new C.OlP("angularfire2.auth.tenant-id"),$e=new C.OlP("angularfire2.auth.langugage-code"),je=new C.OlP("angularfire2.auth.use-device-language"),le=new C.OlP("angularfire.auth.persistence"),ot=(gt,_t,Lt,an,yn,zt,Tt,pt)=>(0,Ke.cc)(`${gt.name}.auth`,"AngularFireAuth",gt.name,()=>{const Xt=_t.runOutsideAngular(()=>gt.auth());if(Lt&&Xt.useEmulator(...Lt),an&&(Xt.tenantId=an),Xt.languageCode=yn,zt&&Xt.useDeviceLanguage(),Tt)for(const[Yt,_n]of Object.entries(Tt))Xt.settings[Yt]=_n;return pt&&Xt.setPersistence(pt),Xt},[Lt,an,yn,zt,Tt,pt]);let rt=(()=>{class gt{constructor(Lt,an,yn,zt,Tt,pt,Xt,Yt,_n,mn,kn){const Yn=new I.xQ,un=(0,se.of)(void 0).pipe((0,ue.QV)(Tt.outsideAngular),(0,Le.w)(()=>zt.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,9083)))),(0,ve.U)(()=>(0,fe.on)(Lt,zt,an)),(0,ve.U)(Fn=>ot(Fn,zt,pt,Yt,_n,mn,Xt,kn)),Ie({bufferSize:1,refCount:!1}));if((0,Ze.PM)(yn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,se.of)(null);else{un.pipe((0,Je.P)()).subscribe();const Vt=un.pipe((0,Le.w)(en=>en.getRedirectResult().then(Bt=>Bt,()=>null)),Ke.iC,Ie({bufferSize:1,refCount:!1})),Rn=un.pipe((0,Le.w)(en=>new Ce.y(Bt=>({unsubscribe:zt.runOutsideAngular(()=>en.onAuthStateChanged(gn=>Bt.next(gn),gn=>Bt.error(gn),()=>Bt.complete()))})))),Dn=un.pipe((0,Le.w)(en=>new Ce.y(Bt=>({unsubscribe:zt.runOutsideAngular(()=>en.onIdTokenChanged(gn=>Bt.next(gn),gn=>Bt.error(gn),()=>Bt.complete()))}))));this.authState=Vt.pipe(Fe(Rn),(0,et.R)(Tt.outsideAngular),(0,ue.QV)(Tt.insideAngular)),this.user=Vt.pipe(Fe(Dn),(0,et.R)(Tt.outsideAngular),(0,ue.QV)(Tt.insideAngular)),this.idToken=this.user.pipe((0,Le.w)(en=>en?(0,Re.D)(en.getIdToken()):(0,se.of)(null))),this.idTokenResult=this.user.pipe((0,Le.w)(en=>en?(0,Re.D)(en.getIdTokenResult()):(0,se.of)(null))),this.credential=(0,pe.T)(Vt,Yn,this.authState.pipe((0,ut.h)(en=>!en))).pipe((0,ve.U)(en=>(null==en?void 0:en.user)?en:null),(0,et.R)(Tt.outsideAngular),(0,ue.QV)(Tt.insideAngular))}return(0,fe.pX)(this,un,zt,{spy:{apply:(Fn,Vt,Rn)=>{(Fn.startsWith("signIn")||Fn.startsWith("createUser"))&&Rn.then(Dn=>Yn.next(Dn))}}})}}return gt.\u0275fac=function(Lt){return new(Lt||gt)(C.LFG(fe.Dh),C.LFG(fe.xv,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(Ke.HU),C.LFG(Ne,8),C.LFG(Ue,8),C.LFG(We,8),C.LFG($e,8),C.LFG(je,8),C.LFG(le,8))},gt.\u0275prov=C.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"any"}),gt})(),Zt=(()=>{class gt{constructor(){on.Z.registerVersion("angularfire",Ke.q4.full,"auth-compat")}}return gt.\u0275fac=function(Lt){return new(Lt||gt)},gt.\u0275mod=C.oAB({type:gt}),gt.\u0275inj=C.cJS({providers:[rt]}),gt})()},5391:(Rt,ze,G)=>{"use strict";G.d(ze,{ST:()=>Gy,yb:()=>zg});var C=G(3018),I=G(3637),se=G(7574),Ce=G(4402),Re=G(5917),pe=G(9126),ke=G(7393);function _e(){return u=>u.lift(new ue)}class ue{call(r,a){return a.subscribe(new te(r))}}class te extends ke.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let a;this.hasPrev?a=[this.prev,r]:this.hasPrev=!0,this.prev=r,a&&this.destination.next(a)}}class ge{constructor(r,a){this.compare=r,this.keySelector=a}call(r,a){return a.subscribe(new he(r,this.compare,this.keySelector))}}class he extends ke.L{constructor(r,a,c){super(r),this.keySelector=c,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(r,a){return r===a}_next(r){let a;try{const{keySelector:h}=this;a=h?h(r):r}catch(h){return this.destination.error(h)}let c=!1;if(this.hasKey)try{const{compare:h}=this;c=h(this.key,a)}catch(h){return this.destination.error(h)}else this.hasKey=!0;c||(this.key=a,this.destination.next(r))}}var Ie=G(9761),Ge=G(8002),Le=G(2145),Fe=G(5435),ve=G(309),Je=G(8939),et=G(8583),Ke=(G(9083),G(4486)),fe=G(8239),Ze=G(5452),on=G(6034),It=G(300),Ne=G(4685),Ue=function(u,r){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])})(u,r)};function $e(u){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&u[r],c=0;if(a)return a.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var le,je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ot=ot||{},rt=je||self;function Zt(){}function gt(u){var r=typeof u;return"array"==(r="object"!=r?r:u?Array.isArray(u)?"array":r:"null")||"object"==r&&"number"==typeof u.length}function _t(u){var r=typeof u;return"object"==r&&null!=u||"function"==r}var an="closure_uid_"+(1e9*Math.random()>>>0),yn=0;function zt(u,r,a){return u.call.apply(u.bind,arguments)}function Tt(u,r,a){if(!u)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),u.apply(r,h)}}return function(){return u.apply(r,arguments)}}function pt(u,r,a){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zt:Tt).apply(null,arguments)}function Xt(u,r){var a=Array.prototype.slice.call(arguments,1);return function(){var c=a.slice();return c.push.apply(c,arguments),u.apply(this,c)}}function Yt(u,r){function a(){}a.prototype=r.prototype,u.Z=r.prototype,u.prototype=new a,u.prototype.constructor=u,u.Vb=function(c,h,_){for(var T=Array(arguments.length-2),F=2;F<arguments.length;F++)T[F-2]=arguments[F];return r.prototype[h].apply(c,T)}}function _n(){this.s=this.s,this.o=this.o}var kn={};_n.prototype.s=!1,_n.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function(u){return Object.prototype.hasOwnProperty.call(u,an)&&u[an]||(u[an]=++yn)}(this);delete kn[u]}},_n.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Yn=Array.prototype.indexOf?function(u,r){return Array.prototype.indexOf.call(u,r,void 0)}:function(u,r){if("string"==typeof u)return"string"!=typeof r||1!=r.length?-1:u.indexOf(r,0);for(var a=0;a<u.length;a++)if(a in u&&u[a]===r)return a;return-1},un=Array.prototype.forEach?function(u,r,a){Array.prototype.forEach.call(u,r,a)}:function(u,r,a){for(var c=u.length,h="string"==typeof u?u.split(""):u,_=0;_<c;_++)_ in h&&r.call(a,h[_],_,u)};function Vt(u){return Array.prototype.concat.apply([],arguments)}function Rn(u){var r=u.length;if(0<r){for(var a=Array(r),c=0;c<r;c++)a[c]=u[c];return a}return[]}function Dn(u){return/^[\s\xa0]*$/.test(u)}var Ve,en=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function Bt(u,r){return-1!=u.indexOf(r)}function gn(u,r){return u<r?-1:u>r?1:0}e:{var re=rt.navigator;if(re){var me=re.userAgent;if(me){Ve=me;break e}}Ve=""}function it(u,r,a){for(var c in u)r.call(a,u[c],c,u)}function tt(u){var r={};for(var a in u)r[a]=u[a];return r}var At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(u,r){for(var a,c,h=1;h<arguments.length;h++){for(a in c=arguments[h])u[a]=c[a];for(var _=0;_<At.length;_++)a=At[_],Object.prototype.hasOwnProperty.call(c,a)&&(u[a]=c[a])}}function Et(u){return Et[" "](u),u}Et[" "]=Zt;var oe,u,lr=Bt(Ve,"Opera"),er=Bt(Ve,"Trident")||Bt(Ve,"MSIE"),En=Bt(Ve,"Edge"),qn=En||er,St=Bt(Ve,"Gecko")&&!(Bt(Ve.toLowerCase(),"webkit")&&!Bt(Ve,"Edge"))&&!(Bt(Ve,"Trident")||Bt(Ve,"MSIE"))&&!Bt(Ve,"Edge"),Kt=Bt(Ve.toLowerCase(),"webkit")&&!Bt(Ve,"Edge");function we(){var u=rt.document;return u?u.documentMode:void 0}e:{var xe="",qe=(u=Ve,St?/rv:([^\);]+)(\)|;)/.exec(u):En?/Edge\/([\d\.]+)/.exec(u):er?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Kt?/WebKit\/(\S+)/.exec(u):lr?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(qe&&(xe=qe?qe[1]:""),er){var Me=we();if(null!=Me&&Me>parseFloat(xe)){oe=String(Me);break e}}oe=xe}var nt={};function Ot(){return r=nt,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var u=0,r=en(String(oe)).split("."),a=en("9").split("."),c=Math.max(r.length,a.length),h=0;0==u&&h<c;h++){var _=r[h]||"",T=a[h]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],0==_[0].length&&0==T[0].length)break;u=gn(0==_[1].length?0:parseInt(_[1],10),0==T[1].length?0:parseInt(T[1],10))||gn(0==_[2].length,0==T[2].length)||gn(_[2],T[2]),_=_[3],T=T[3]}while(0==u)}return 0<=u}();var r}var dn=rt.document&&er&&(we()||parseInt(oe,10))||void 0,cr=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var u=!1,r=Object.defineProperty({},"passive",{get:function(){u=!0}});try{rt.addEventListener("test",Zt,r),rt.removeEventListener("test",Zt,r)}catch(a){}return u}();function Gt(u,r){this.type=u,this.g=this.target=r,this.defaultPrevented=!1}function Mn(u,r){if(Gt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var a=this.type=u.type,c=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=r,r=u.relatedTarget){if(St){e:{try{Et(r.nodeName);var h=!0;break e}catch(_){}h=!1}h||(r=null)}}else"mouseover"==a?r=u.fromElement:"mouseout"==a&&(r=u.toElement);this.relatedTarget=r,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:gi[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Mn.Z.h.call(this)}}Gt.prototype.h=function(){this.defaultPrevented=!0},Yt(Mn,Gt);var gi={2:"touch",3:"pen",4:"mouse"};Mn.prototype.h=function(){Mn.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var hn="closure_listenable_"+(1e6*Math.random()|0),$s=0;function Ei(u,r,a,c,h){this.listener=u,this.proxy=null,this.src=r,this.type=a,this.capture=!!c,this.ia=h,this.key=++$s,this.ca=this.fa=!1}function bi(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function _s(u){this.src=u,this.g={},this.h=0}function Nr(u,r){var a=r.type;if(a in u.g){var _,c=u.g[a],h=Yn(c,r);(_=0<=h)&&Array.prototype.splice.call(c,h,1),_&&(bi(r),0==u.g[a].length&&(delete u.g[a],u.h--))}}function pr(u,r,a,c){for(var h=0;h<u.length;++h){var _=u[h];if(!_.ca&&_.listener==r&&_.capture==!!a&&_.ia==c)return h}return-1}_s.prototype.add=function(u,r,a,c,h){var _=u.toString();(u=this.g[_])||(u=this.g[_]=[],this.h++);var T=pr(u,r,c,h);return-1<T?(r=u[T],a||(r.fa=!1)):((r=new Ei(r,this.src,_,!!c,h)).fa=a,u.push(r)),r};var Dr="closure_lm_"+(1e6*Math.random()|0),Mr={};function jr(u,r,a,c,h){if(c&&c.once)return Ci(u,r,a,c,h);if(Array.isArray(r)){for(var _=0;_<r.length;_++)jr(u,r[_],a,c,h);return null}return a=dr(a),u&&u[hn]?u.N(r,a,_t(c)?!!c.capture:!!c,h):Mt(u,r,a,!1,c,h)}function Mt(u,r,a,c,h,_){if(!r)throw Error("Invalid event type");var T=_t(h)?!!h.capture:!!h,F=rn(u);if(F||(u[Dr]=F=new _s(u)),(a=F.add(r,a,c,T,_)).proxy)return a;if(c=function(){var r=Dt;return function u(a){return r.call(u.src,u.listener,a)}}(),a.proxy=c,c.src=u,c.listener=a,u.addEventListener)cr||(h=T),void 0===h&&(h=!1),u.addEventListener(r.toString(),c,h);else if(u.attachEvent)u.attachEvent(br(r.toString()),c);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(c)}return a}function Ci(u,r,a,c,h){if(Array.isArray(r)){for(var _=0;_<r.length;_++)Ci(u,r[_],a,c,h);return null}return a=dr(a),u&&u[hn]?u.O(r,a,_t(c)?!!c.capture:!!c,h):Mt(u,r,a,!0,c,h)}function vn(u,r,a,c,h){if(Array.isArray(r))for(var _=0;_<r.length;_++)vn(u,r[_],a,c,h);else c=_t(c)?!!c.capture:!!c,a=dr(a),u&&u[hn]?(u=u.i,(r=String(r).toString())in u.g&&-1<(a=pr(_=u.g[r],a,c,h))&&(bi(_[a]),Array.prototype.splice.call(_,a,1),0==_.length&&(delete u.g[r],u.h--))):u&&(u=rn(u))&&(r=u.g[r.toString()],u=-1,r&&(u=pr(r,a,c,h)),(a=-1<u?r[u]:null)&&ls(a))}function ls(u){if("number"!=typeof u&&u&&!u.ca){var r=u.src;if(r&&r[hn])Nr(r.i,u);else{var a=u.type,c=u.proxy;r.removeEventListener?r.removeEventListener(a,c,u.capture):r.detachEvent?r.detachEvent(br(a),c):r.addListener&&r.removeListener&&r.removeListener(c),(a=rn(r))?(Nr(a,u),0==a.h&&(a.src=null,r[Dr]=null)):bi(u)}}}function br(u){return u in Mr?Mr[u]:Mr[u]="on"+u}function Dt(u,r){if(u.ca)u=!0;else{r=new Mn(r,this);var a=u.listener,c=u.ia||u.src;u.fa&&ls(u),u=a.call(c,r)}return u}function rn(u){return(u=u[Dr])instanceof _s?u:null}var Ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function dr(u){return"function"==typeof u?u:(u[Ln]||(u[Ln]=function(r){return u.handleEvent(r)}),u[Ln])}function Vn(){_n.call(this),this.i=new _s(this),this.P=this,this.I=null}function ln(u,r){var a,c=u.I;if(c)for(a=[];c;c=c.I)a.push(c);if(u=u.P,c=r.type||r,"string"==typeof r)r=new Gt(r,u);else if(r instanceof Gt)r.target=r.target||u;else{var h=r;mt(r=new Gt(c,u),h)}if(h=!0,a)for(var _=a.length-1;0<=_;_--){var T=r.g=a[_];h=Cr(T,c,!0,r)&&h}if(h=Cr(T=r.g=u,c,!0,r)&&h,h=Cr(T,c,!1,r)&&h,a)for(_=0;_<a.length;_++)h=Cr(T=r.g=a[_],c,!1,r)&&h}function Cr(u,r,a,c){if(!(r=u.i.g[String(r)]))return!0;r=r.concat();for(var h=!0,_=0;_<r.length;++_){var T=r[_];if(T&&!T.ca&&T.capture==a){var F=T.listener,W=T.ia||T.src;T.fa&&Nr(u.i,T),h=!1!==F.call(W,c)&&h}}return h&&!c.defaultPrevented}Yt(Vn,_n),Vn.prototype[hn]=!0,Vn.prototype.removeEventListener=function(u,r,a,c){vn(this,u,r,a,c)},Vn.prototype.M=function(){if(Vn.Z.M.call(this),this.i){var r,u=this.i;for(r in u.g){for(var a=u.g[r],c=0;c<a.length;c++)bi(a[c]);delete u.g[r],u.h--}}this.I=null},Vn.prototype.N=function(u,r,a,c){return this.i.add(String(u),r,!1,a,c)},Vn.prototype.O=function(u,r,a,c){return this.i.add(String(u),r,!0,a,c)};var Bn=rt.JSON.stringify;function mi(){var u=Zr,r=null;return u.g&&(r=u.g,u.g=u.g.next,u.g||(u.h=null),r.next=null),r}var Hr,Ss=function(){function u(){this.h=this.g=null}return u.prototype.add=function(r,a){var c=cn.get();c.set(r,a),this.h?this.h.next=c:this.g=c,this.h=c},u}(),cn=new(function(){function u(r,a){this.i=r,this.j=a,this.h=0,this.g=null}return u.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},u}())(function(){return new xs},function(u){return u.reset()}),xs=function(){function u(){this.next=this.g=this.h=null}return u.prototype.set=function(r,a){this.h=r,this.g=a,this.next=null},u.prototype.reset=function(){this.next=this.g=this.h=null},u}();function Pi(u){rt.setTimeout(function(){throw u},0)}function ti(u,r){Hr||function(){var u=rt.Promise.resolve(void 0);Hr=function(){u.then(gr)}}(),qr||(Hr(),qr=!0),Zr.add(u,r)}var qr=!1,Zr=new Ss;function gr(){for(var u;u=mi();){try{u.h.call(u.g)}catch(a){Pi(a)}var r=cn;r.j(u),100>r.h&&(r.h++,u.next=r.g,r.g=u)}qr=!1}function On(u,r){Vn.call(this),this.h=u||1,this.g=r||rt,this.j=pt(this.kb,this),this.l=Date.now()}function ki(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function Jt(u,r,a){if("function"==typeof u)a&&(u=pt(u,a));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=pt(u.handleEvent,u)}return 2147483647<Number(r)?-1:rt.setTimeout(u,r||0)}function Yi(u){u.g=Jt(function(){u.g=null,u.i&&(u.i=!1,Yi(u))},u.j);var r=u.h;u.h=null,u.m.apply(null,r)}Yt(On,Vn),(le=On.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ln(this,"tick"),this.da&&(ki(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){On.Z.M.call(this),ki(this),delete this.g};var ni=function(u){function r(a,c){var h=u.call(this)||this;return h.m=a,h.j=c,h.h=null,h.i=!1,h.g=null,h}return function(u,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=u}Ue(u,r),u.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}(r,u),r.prototype.l=function(a){this.h=arguments,this.g?this.i=!0:Yi(this)},r.prototype.M=function(){u.prototype.M.call(this),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(_n);function Gr(u){_n.call(this),this.h=u,this.g={}}Yt(Gr,_n);var yi=[];function ri(u,r,a,c){Array.isArray(a)||(a&&(yi[0]=a.toString()),a=yi);for(var h=0;h<a.length;h++){var _=jr(r,a[h],c||u.handleEvent,!1,u.h||u);if(!_)break;u.g[_.key]=_}}function ir(u){it(u.g,function(r,a){this.g.hasOwnProperty(a)&&ls(r)},u),u.g={}}function mr(){this.g=!0}function tr(u,r,a,c){u.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(u,r){if(!u.g)return r;if(!r)return null;try{var a=JSON.parse(r);if(a)for(u=0;u<a.length;u++)if(Array.isArray(a[u])){var c=a[u];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var _=h[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var T=1;T<h.length;T++)h[T]=""}}}return Bn(a)}catch(F){return r}}(u,a)+(c?" "+c:"")})}Gr.prototype.M=function(){Gr.Z.M.call(this),ir(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mr.prototype.Aa=function(){this.g=!1},mr.prototype.info=function(){};var zn={},Qi=null;function Ji(){return Qi=Qi||new Vn}function vs(u){Gt.call(this,zn.Ma,u)}function Ii(u){var r=Ji();ln(r,new vs(r,u))}function Rs(u,r){Gt.call(this,zn.STAT_EVENT,u),this.stat=r}function _r(u){var r=Ji();ln(r,new Rs(r,u))}function Vi(u,r){Gt.call(this,zn.Na,u),this.size=r}function Ns(u,r){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){u()},r)}zn.Ma="serverreachability",Yt(vs,Gt),zn.STAT_EVENT="statevent",Yt(Rs,Gt),zn.Na="timingevent",Yt(Vi,Gt);var Xi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ui={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cs(){}function Lr(){}cs.prototype.h=null;var es,ji={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ii(){Gt.call(this,"d")}function Gs(){Gt.call(this,"c")}function ts(){}function Hi(u,r,a,c){this.l=u,this.j=r,this.m=a,this.X=c||1,this.V=new Gr(this),this.P=ko,this.W=new On(u=qn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Kr}function Kr(){this.i=null,this.g="",this.h=!1}Yt(ii,Gt),Yt(Gs,Gt),Yt(ts,cs),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},es=new ts;var ko=45e3,Di={},Ms={};function si(u,r,a){u.K=1,u.v=bt(lt(r)),u.s=a,u.U=!0,oi(u,null)}function oi(u,r){u.F=Date.now(),$i(u),u.A=lt(u.v);var a=u.A,c=u.X;Array.isArray(c)||(c=[String(c)]),Oe(a.h,"t",c),u.C=0,a=u.l.H,u.h=new Kr,u.g=Zs(u.l,a?r:null,!u.s),0<u.O&&(u.L=new ni(pt(u.Ia,u,u.g),u.O)),ri(u.V,u.g,"readystatechange",u.gb),r=u.H?tt(u.H):{},u.s?(u.u||(u.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,r)):(u.u="GET",u.g.ea(u.A,u.u,null,r)),Ii(1),function(u,r,a,c,h,_){u.info(function(){if(u.g)if(_)for(var T="",F=_.split("&"),W=0;W<F.length;W++){var ie=F[W].split("=");if(1<ie.length){var ce=ie[0];ie=ie[1];var Te=ce.split("_");T=2<=Te.length&&"type"==Te[1]?T+(ce+"=")+ie+"&":T+(ce+"=redacted&")}}else T=null;else T=_;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+r+"\n"+a+"\n"+T})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Tr(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function ws(u,r,a){for(var h,c=!0;!u.I&&u.C<a.length;){if((h=oo(u,a))==Ms){4==r&&(u.o=4,_r(14),c=!1),tr(u.j,u.m,null,"[Incomplete Response]");break}if(h==Di){u.o=4,_r(15),tr(u.j,u.m,a,"[Invalid Chunk]"),c=!1;break}tr(u.j,u.m,h,null),ns(u,h)}Tr(u)&&h!=Ms&&h!=Di&&(u.h.g="",u.C=0),4!=r||0!=a.length||u.h.h||(u.o=1,_r(16),c=!1),u.i=u.i&&c,c?0<a.length&&!u.aa&&(u.aa=!0,(r=u.l).g==u&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),Ee(r),r.L=!0,_r(11))):(tr(u.j,u.m,a,"[Invalid Chunked Response]"),wr(u),ai(u))}function oo(u,r){var a=u.C,c=r.indexOf("\n",a);return-1==c?Ms:(a=Number(r.substring(a,c)),isNaN(a)?Di:(c+=1)+a>r.length?Ms:(r=r.substr(c,a),u.C=c+a,r))}function $i(u){u.Y=Date.now()+u.P,Ti(u,u.P)}function Ti(u,r){if(null!=u.B)throw Error("WatchDog timer not null");u.B=Ns(pt(u.eb,u),r)}function vr(u){u.B&&(rt.clearTimeout(u.B),u.B=null)}function ai(u){0==u.l.G||u.I||Un(u.l,u)}function wr(u){vr(u);var r=u.L;r&&"function"==typeof r.na&&r.na(),u.L=null,ki(u.W),ir(u.V),u.g&&(r=u.g,u.g=null,r.abort(),r.na())}function ns(u,r){try{var a=u.l;if(0!=a.G&&(a.g==u||nr(a.i,u)))if(a.I=u.N,!u.J&&nr(a.i,u)&&3==a.G){try{var c=a.Ca.g.parse(r)}catch(Sn){c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0])e:if(a.u)a.ta=h[1],0<a.ta-a.U&&37500>h[2]&&a.N&&0==a.A&&!a.v&&(a.v=Ns(pt(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<u.F))break e;tn(a),li(a)}z(a),_r(18)}if(1>=bo(a.i)&&a.ka){try{a.ka()}catch(Sn){}a.ka=void 0}}else Wn(a,11)}else if((u.J||a.g==u)&&tn(a),!Dn(r))for(h=a.Ca.g.parse(r),r=0;r<h.length;r++){var _=h[r];if(a.U=_[0],_=_[1],2==a.G)if("c"==_[0]){a.J=_[1],a.la=_[2];var T=_[3];null!=T&&(a.ma=T,a.h.info("VER="+a.ma));var F=_[4];null!=F&&(a.za=F,a.h.info("SVER="+a.za));var W=_[5];null!=W&&"number"==typeof W&&0<W&&(a.K=c=1.5*W,a.h.info("backChannelRequestTimeoutMs_="+c)),c=a;var ie=u.g;if(ie){var ce=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ce){var Te=c.i;!Te.g&&(Bt(ce,"spdy")||Bt(ce,"quic")||Bt(ce,"h2"))&&(Te.j=Te.l,Te.g=new Set,Te.h&&(Ws(Te,Te.h),Te.h=null))}if(c.D){var Xe=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Xe&&(c.sa=Xe,Ae(c.F,c.D,Xe))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-u.F,a.h.info("Handshake RTT: "+a.O+"ms"));var dt=u;if((c=a).oa=zi(c,c.H?c.la:null,c.W),dt.J){rs(c.i,dt);var xt=dt,nn=c.K;nn&&xt.setTimeout(nn),xt.B&&(vr(xt),$i(xt)),c.g=dt}else N(c);0<a.l.length&&Vo(a)}else"stop"!=_[0]&&"close"!=_[0]||Wn(a,7);else 3==a.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Wn(a,7):Wr(a):"noop"!=_[0]&&a.j&&a.j.wa(_),a.A=0)}Ii(4)}catch(Sn){}}function Gi(u,r){if(u.forEach&&"function"==typeof u.forEach)u.forEach(r,void 0);else if(gt(u)||"string"==typeof u)un(u,r,void 0);else{if(u.T&&"function"==typeof u.T)var a=u.T();else if(u.R&&"function"==typeof u.R)a=void 0;else if(gt(u)||"string"==typeof u){a=[];for(var c=u.length,h=0;h<c;h++)a.push(h)}else for(h in a=[],c=0,u)a[c++]=h;h=(c=function(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(gt(u)){for(var r=[],a=u.length,c=0;c<a;c++)r.push(u[c]);return r}for(c in r=[],a=0,u)r[a++]=u[c];return r}(u)).length;for(var _=0;_<h;_++)r.call(void 0,c[_],a&&a[_],u)}}function L(u,r){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else if(u)if(u instanceof L)for(a=u.T(),c=0;c<a.length;c++)this.set(a[c],u.get(a[c]));else for(c in u)this.set(c,u[c])}function Z(u){if(u.i!=u.g.length){for(var r=0,a=0;r<u.g.length;){var c=u.g[r];V(u.h,c)&&(u.g[a++]=c),r++}u.g.length=a}if(u.i!=u.g.length){var h={};for(a=r=0;r<u.g.length;)V(h,c=u.g[r])||(u.g[a++]=c,h[c]=1),r++;u.g.length=a}}function V(u,r){return Object.prototype.hasOwnProperty.call(u,r)}(le=Hi.prototype).setTimeout=function(u){this.P=u},le.gb=function(u){u=u.target;var r=this.L;r&&3==qs(u)?r.l():this.Ia(u)},le.Ia=function(u){try{if(u==this.g)e:{var r=qs(this.g),a=this.g.Da(),c=this.g.ba();if(!(3>r)&&(3!=r||qn||this.g&&(this.h.h||this.g.ga()||Eu(this.g)))){this.I||4!=r||7==a||Ii(8==a||0>=c?3:2),vr(this);var h=this.g.ba();this.N=h;t:if(Tr(this)){var _=Eu(this.g);u="";var T=_.length,F=4==qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wr(this),ai(this);var W="";break t}this.h.i=new rt.TextDecoder}for(a=0;a<T;a++)this.h.h=!0,u+=this.h.i.decode(_[a],{stream:F&&a==T-1});_.splice(0,T),this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.ga();if(this.i=200==h,function(u,r,a,c,h,_,T){u.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+r+"\n"+a+"\n"+_+" "+T})}(this.j,this.u,this.A,this.m,this.X,r,h),this.i){if(this.$&&!this.J){t:{if(this.g){var ie,ce=this.g;if((ie=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dn(ie)){var Te=ie;break t}}Te=null}if(!(h=Te)){this.i=!1,this.o=3,_r(12),wr(this),ai(this);break e}tr(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ns(this,h)}this.U?(ws(this,r,W),qn&&this.i&&3==r&&(ri(this.V,this.W,"tick",this.fb),this.W.start())):(tr(this.j,this.m,W,null),ns(this,W)),4==r&&wr(this),this.i&&!this.I&&(4==r?Un(this.l,this):(this.i=!1,$i(this)))}else 400==h&&0<W.indexOf("Unknown SID")?(this.o=3,_r(12)):(this.o=0,_r(13)),wr(this),ai(this)}}}catch(Xe){}},le.fb=function(){if(this.g){var u=qs(this.g),r=this.g.ga();this.C<r.length&&(vr(this),ws(this,u,r),this.i&&4!=u&&$i(this))}},le.cancel=function(){this.I=!0,wr(this)},le.eb=function(){this.B=null;var u=Date.now();0<=u-this.Y?(function(u,r){u.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Ii(3),_r(17)),wr(this),this.o=2,ai(this)):Ti(this,this.Y-u)},(le=L.prototype).R=function(){Z(this);for(var u=[],r=0;r<this.g.length;r++)u.push(this.h[this.g[r]]);return u},le.T=function(){return Z(this),this.g.concat()},le.get=function(u,r){return V(this.h,u)?this.h[u]:r},le.set=function(u,r){V(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=r},le.forEach=function(u,r){for(var a=this.T(),c=0;c<a.length;c++){var h=a[c],_=this.get(h);u.call(r,_,h,this)}};var Q=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function He(u,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof He){this.g=void 0!==r?r:u.g,k(this,u.j),this.s=u.s,M(this,u.i),x(this,u.m),this.l=u.l,r=u.h;var a=new q;a.i=r.i,r.g&&(a.g=new L(r.g),a.h=r.h),K(this,a),this.o=u.o}else u&&(a=String(u).match(Q))?(this.g=!!r,k(this,a[1]||"",!0),this.s=Ir(a[2]||""),M(this,a[3]||"",!0),x(this,a[4]),this.l=Ir(a[5]||"",!0),K(this,a[6]||"",!0),this.o=Ir(a[7]||"")):(this.g=!!r,this.h=new q(null,this.g))}function lt(u){return new He(u)}function k(u,r,a){u.j=a?Ir(r,!0):r,u.j&&(u.j=u.j.replace(/:$/,""))}function M(u,r,a){u.i=a?Ir(r,!0):r}function x(u,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);u.m=r}else u.m=null}function K(u,r,a){r instanceof q?(u.h=r,function(u,r){r&&!u.j&&($(u),u.i=null,u.g.forEach(function(a,c){var h=c.toLowerCase();c!=h&&(U(this,c),Oe(this,h,a))},u)),u.j=r}(u.h,u.g)):(a||(r=sr(r,Ai)),u.h=new q(r,u.g))}function Ae(u,r,a){u.h.set(r,a)}function bt(u){return Ae(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ir(u,r){return u?r?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sr(u,r,a){return"string"==typeof u?(u=encodeURI(u).replace(r,$n),a&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $n(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}He.prototype.toString=function(){var u=[],r=this.j;r&&u.push(sr(r,Yr,!0),":");var a=this.i;return(a||"file"==r)&&(u.push("//"),(r=this.s)&&u.push(sr(r,Yr,!0),"@"),u.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&u.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&u.push("/"),u.push(sr(a,"/"==a.charAt(0)?zr:Es,!0))),(a=this.h.toString())&&u.push("?",a),(a=this.o)&&u.push("#",sr(a,zs)),u.join("")};var Yr=/[#\/\?@]/g,Es=/[#\?:]/g,zr=/[#\?]/g,Ai=/[#\?@]/g,zs=/#/g;function q(u,r){this.h=this.g=null,this.i=u||null,this.j=!!r}function $(u){u.g||(u.g=new L,u.h=0,u.i&&function(u,r){if(u){u=u.split("&");for(var a=0;a<u.length;a++){var c=u[a].indexOf("="),h=null;if(0<=c){var _=u[a].substring(0,c);h=u[a].substring(c+1)}else _=u[a];r(_,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(u.i,function(r,a){u.add(decodeURIComponent(r.replace(/\+/g," ")),a)}))}function U(u,r){$(u),r=yt(u,r),V(u.g.h,r)&&(u.i=null,u.h-=u.g.get(r).length,V((u=u.g).h,r)&&(delete u.h[r],u.i--,u.g.length>2*u.i&&Z(u)))}function J(u,r){return $(u),r=yt(u,r),V(u.g.h,r)}function Oe(u,r,a){U(u,r),0<a.length&&(u.i=null,u.g.set(yt(u,r),Rn(a)),u.h+=a.length)}function yt(u,r){return r=String(r),u.j&&(r=r.toLowerCase()),r}(le=q.prototype).add=function(u,r){$(this),this.i=null,u=yt(this,u);var a=this.g.get(u);return a||this.g.set(u,a=[]),a.push(r),this.h+=1,this},le.forEach=function(u,r){$(this),this.g.forEach(function(a,c){un(a,function(h){u.call(r,h,c,this)},this)},this)},le.T=function(){$(this);for(var u=this.g.R(),r=this.g.T(),a=[],c=0;c<r.length;c++)for(var h=u[c],_=0;_<h.length;_++)a.push(r[c]);return a},le.R=function(u){$(this);var r=[];if("string"==typeof u)J(this,u)&&(r=Vt(r,this.g.get(yt(this,u))));else{u=this.g.R();for(var a=0;a<u.length;a++)r=Vt(r,u[a])}return r},le.set=function(u,r){return $(this),this.i=null,J(this,u=yt(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[r]),this.h+=1,this},le.get=function(u,r){return u&&0<(u=this.R(u)).length?String(u[0]):r},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],r=this.g.T(),a=0;a<r.length;a++){var c=r[a],h=encodeURIComponent(String(c));c=this.R(c);for(var _=0;_<c.length;_++){var T=h;""!==c[_]&&(T+="="+encodeURIComponent(String(c[_]))),u.push(T)}}return this.i=u.join("&")};var Hn=function(r,a){this.h=r,this.g=a};function Or(u){this.l=u||ct,u=rt.PerformanceNavigationTiming?0<(u=rt.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(rt.g&&rt.g.Ea&&rt.g.Ea()&&rt.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ct=10;function In(u){return!!u.h||!!u.g&&u.g.size>=u.j}function bo(u){return u.h?1:u.g?u.g.size:0}function nr(u,r){return u.h?u.h==r:!!u.g&&u.g.has(r)}function Ws(u,r){u.g?u.g.add(r):u.h=r}function rs(u,r){u.h&&u.h==r?u.h=null:u.g&&u.g.has(r)&&u.g.delete(r)}function ui(u){var r,a;if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){var c=u.i;try{for(var h=$e(u.g.values()),_=h.next();!_.done;_=h.next())c=c.concat(_.value.D)}catch(F){r={error:F}}finally{try{_&&!_.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return c}return Rn(u.i)}function na(){}function Os(){this.g=new na}function Jl(u,r,a){var c=a||"";try{Gi(u,function(h,_){var T=h;_t(h)&&(T=Bn(h)),r.push(c+_+"="+encodeURIComponent(T))})}catch(h){throw r.push(c+"type="+encodeURIComponent("_badmap")),h}}function ao(u,r,a,c,h){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,h(c)}catch(_){}}function ds(u){this.l=u.$b||null,this.j=u.ib||!1}function Qr(u,r){Vn.call(this),this.D=u,this.u=r,this.m=void 0,this.readyState=_i,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Or.prototype.cancel=function(){var u,r;if(this.i=ui(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var a=$e(this.g.values()),c=a.next();!c.done;c=a.next())c.value.cancel()}catch(_){u={error:_}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}this.g.clear()}},na.prototype.stringify=function(u){return rt.JSON.stringify(u,void 0)},na.prototype.parse=function(u){return rt.JSON.parse(u,void 0)},Yt(ds,cs),ds.prototype.g=function(){return new Qr(this.l,this.j)},ds.prototype.i=function(u){return function(){return u}}({}),Yt(Qr,Vn);var _i=0;function ma(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function hs(u){u.readyState=4,u.l=null,u.j=null,u.A=null,is(u)}function is(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(le=Qr.prototype).open=function(u,r){if(this.readyState!=_i)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=r,this.readyState=1,is(this)},le.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(r.body=u),(this.D||rt).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hs(this)),this.readyState=_i},le.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==rt.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ma(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var r=u.value?u.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!u.done}))&&(this.response=this.responseText+=r)}u.done?hs(this):is(this),3==this.readyState&&ma(this)}},le.Ua=function(u){this.g&&(this.response=this.responseText=u,hs(this))},le.Ta=function(u){this.g&&(this.response=u,hs(this))},le.ha=function(){this.g&&hs(this)},le.setRequestHeader=function(u,r){this.v.append(u,r)},le.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";for(var u=[],r=this.h.entries(),a=r.next();!a.done;)u.push((a=a.value)[0]+": "+a[1]),a=r.next();return u.join("\r\n")},Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var wu=rt.JSON.parse;function Ar(u){Vn.call(this),this.headers=new L,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ya,this.K=this.L=!1}Yt(Ar,Vn);var ya="",dl=/^https?$/i,uo=["POST","PUT"];function Fo(u){return"content-type"==u.toLowerCase()}function $a(u,r){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=r,u.m=5,Ga(u),lo(u)}function Ga(u){u.D||(u.D=!0,ln(u,"complete"),ln(u,"error"))}function va(u){if(u.h&&void 0!==ot&&(!u.C[1]||4!=qs(u)||2!=u.ba()))if(u.v&&4==qs(u))Jt(u.Fa,0,u);else if(ln(u,"readystatechange"),4==qs(u)){u.h=!1;try{var c,r=u.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(c=a)){var h;if(h=0===r){var _=String(u.H).match(Q)[1]||null;if(!_&&rt.self&&rt.self.location){var T=rt.self.location.protocol;_=T.substr(0,T.length-1)}h=!dl.test(_?_.toLowerCase():"")}c=h}if(c)ln(u,"complete"),ln(u,"success");else{u.m=6;try{var F=2<qs(u)?u.g.statusText:""}catch(W){F=""}u.j=F+" ["+u.ba()+"]",Ga(u)}}finally{lo(u)}}}function lo(u,r){if(u.g){za(u);var a=u.g,c=u.C[0]?Zt:null;u.g=null,u.C=null,r||ln(u,"ready");try{a.onreadystatechange=c}catch(h){}}}function za(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(rt.clearTimeout(u.A),u.A=null)}function qs(u){return u.g?u.g.readyState:0}function Eu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case ya:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(r){return null}}function ia(u,r,a){e:{for(c in a){var c=!1;break e}c=!0}c||(a=function(u){var r="";return it(u,function(a,c){r+=c,r+=":",r+=a,r+="\r\n"}),r}(a),"string"==typeof u?null!=a&&encodeURIComponent(String(a)):Ae(u,r,a))}function wa(u,r,a){return a&&a.internalChannelParams&&a.internalChannelParams[u]||r}function Wa(u){this.za=0,this.l=[],this.h=new mr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wa("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wa("baseRetryDelayMs",5e3,u),this.$a=wa("retryDelaySeedMs",1e4,u),this.Ya=wa("forwardChannelMaxRetries",2,u),this.ra=wa("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new Or(u&&u.concurrentRequestLimit),this.Ca=new Os,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function Wr(u){if(hr(u),3==u.G){var r=u.V++,a=lt(u.F);Ae(a,"SID",u.J),Ae(a,"RID",r),Ae(a,"TYPE","terminate"),ss(u,a),(r=new Hi(u,u.h,r,void 0)).K=2,r.v=bt(lt(a)),a=!1,rt.navigator&&rt.navigator.sendBeacon&&(a=rt.navigator.sendBeacon(r.v.toString(),"")),!a&&rt.Image&&((new Image).src=r.v,a=!0),a||(r.g=Zs(r.l,null),r.g.ea(r.v)),r.F=Date.now(),$i(r)}co(u)}function li(u){u.g&&(Ee(u),u.g.cancel(),u.g=null)}function hr(u){li(u),u.u&&(rt.clearTimeout(u.u),u.u=null),tn(u),u.i.cancel(),u.m&&("number"==typeof u.m&&rt.clearTimeout(u.m),u.m=null)}function Lo(u,r){u.l.push(new Hn(u.Za++,r)),3==u.G&&Vo(u)}function Vo(u){In(u.i)||u.m||(u.m=!0,ti(u.Ha,u),u.C=0)}function fs(u,r){var a;a=r?r.m:u.V++;var c=lt(u.F);Ae(c,"SID",u.J),Ae(c,"RID",a),Ae(c,"AID",u.U),ss(u,c),u.o&&u.s&&ia(c,u.o,u.s),a=new Hi(u,u.h,a,u.C+1),null===u.o&&(a.H=u.s),r&&(u.l=r.D.concat(u.l)),r=R(u,a,1e3),a.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),Ws(u.i,a),si(a,c,r)}function ss(u,r){u.j&&Gi({},function(a,c){Ae(r,c,a)})}function R(u,r,a){a=Math.min(u.l.length,a);var c=u.j?pt(u.j.Oa,u.j,u):null;e:for(var h=u.l,_=-1;;){var T=["count="+a];-1==_?0<a?T.push("ofs="+(_=h[0].h)):_=0:T.push("ofs="+_);for(var F=!0,W=0;W<a;W++){var ie=h[W].h,ce=h[W].g;if(0>(ie-=_))_=Math.max(0,h[W].h-100),F=!1;else try{Jl(ce,T,"req"+ie+"_")}catch(Te){c&&c(ce)}}if(F){c=T.join("&");break e}}return u=u.l.splice(0,a),r.D=u,c}function N(u){u.g||u.u||(u.Y=1,ti(u.Ga,u),u.A=0)}function z(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=Ns(pt(u.Ga,u),Ur(u,u.A)),u.A++,0))}function Ee(u){null!=u.B&&(rt.clearTimeout(u.B),u.B=null)}function ht(u){u.g=new Hi(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var r=lt(u.oa);Ae(r,"RID","rpc"),Ae(r,"SID",u.J),Ae(r,"CI",u.N?"0":"1"),Ae(r,"AID",u.U),ss(u,r),Ae(r,"TYPE","xmlhttp"),u.o&&u.s&&ia(r,u.o,u.s),u.K&&u.g.setTimeout(u.K);var a=u.g;u=u.la,a.K=1,a.v=bt(lt(r)),a.s=null,a.U=!0,oi(a,u)}function tn(u){null!=u.v&&(rt.clearTimeout(u.v),u.v=null)}function Un(u,r){var a=null;if(u.g==r){tn(u),Ee(u),u.g=null;var c=2}else{if(!nr(u.i,r))return;a=r.D,rs(u.i,r),c=1}if(u.I=r.N,0!=u.G)if(r.i)if(1==c){a=r.s?r.s.length:0,r=Date.now()-r.F;var h=u.C;ln(c=Ji(),new Vi(c,a,r,h)),Vo(u)}else N(u);else if(3==(h=r.o)||0==h&&0<u.I||!(1==c&&function(u,r){return!(bo(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=r.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=Ns(pt(u.Ha,u,r),Ur(u,u.C)),u.C++,0)))}(u,r)||2==c&&z(u)))switch(a&&0<a.length&&(r=u.i,r.i=r.i.concat(a)),h){case 1:Wn(u,5);break;case 4:Wn(u,10);break;case 3:Wn(u,6);break;default:Wn(u,2)}}function Ur(u,r){var a=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(a*=2),a*r}function Wn(u,r){if(u.h.info("Error code "+r),2==r){var a=null;u.j&&(a=null);var c=pt(u.jb,u);a||(a=new He("//www.google.com/images/cleardot.gif"),rt.location&&"http"==rt.location.protocol||k(a,"https"),bt(a)),function(u,r){var a=new mr;if(rt.Image){var c=new Image;c.onload=Xt(ao,a,c,"TestLoadImage: loaded",!0,r),c.onerror=Xt(ao,a,c,"TestLoadImage: error",!1,r),c.onabort=Xt(ao,a,c,"TestLoadImage: abort",!1,r),c.ontimeout=Xt(ao,a,c,"TestLoadImage: timeout",!1,r),rt.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=u}else r(!1)}(a.toString(),c)}else _r(2);u.G=0,u.j&&u.j.va(r),co(u),hr(u)}function co(u){u.G=0,u.I=-1,u.j&&((0!=ui(u.i).length||0!=u.l.length)&&(u.i.i.length=0,Rn(u.l),u.l.length=0),u.j.ua())}function zi(u,r,a){var c=function(u){return u instanceof He?lt(u):new He(u,void 0)}(a);if(""!=c.i)r&&M(c,r+"."+c.i),x(c,c.m);else{var h=rt.location;c=function(u,r,a,c){var h=new He(null,void 0);return u&&k(h,u),r&&M(h,r),a&&x(h,a),c&&(h.l=c),h}(h.protocol,r?r+"."+h.hostname:h.hostname,+h.port,a)}return u.aa&&it(u.aa,function(_,T){Ae(c,T,_)}),a=u.sa,(r=u.D)&&a&&Ae(c,r,a),Ae(c,"VER",u.ma),ss(u,c),c}function Zs(u,r,a){if(r&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Ar(a&&u.Ba&&!u.qa?new ds({ib:!0}):u.qa)).L=u.H,r}function bu(){}function Uo(){if(er&&!(10<=Number(dn)))throw Error("Environmental error: no available transport.")}function os(u,r){Vn.call(this),this.g=new Wa(r),this.l=u,this.h=r&&r.messageUrlParams||null,u=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(u?u["X-WebChannel-Content-Type"]=r.messageContentType:u={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(u?u["X-WebChannel-Client-Profile"]=r.ya:u={"X-WebChannel-Client-Profile":r.ya}),this.g.P=u,(u=r&&r.httpHeadersOverwriteParam)&&!Dn(u)&&(this.g.o=u),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Dn(r)&&(this.g.D=r,null!==(u=this.h)&&r in u&&r in(u=this.h)&&delete u[r]),this.j=new Ks(this)}function ci(u){ii.call(this);var r=u.__sm__;if(r){e:{for(var a in r){u=a;break e}u=void 0}(this.i=u)&&(u=this.i,r=null!==r&&u in r?r[u]:void 0),this.data=r}else this.data=u}function Xl(){Gs.call(this),this.status=1}function Ks(u){this.g=u}(le=Ar.prototype).ea=function(u,r,a,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);r=r?r.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():es.g(),this.C=function(u){return u.h||(u.h=u.i())}(this.u?this.u:es),this.g.onreadystatechange=pt(this.Fa,this);try{this.F=!0,this.g.open(r,String(u),!0),this.F=!1}catch(_){return void $a(this,_)}u=a||"";var h=new L(this.headers);c&&Gi(c,function(_,T){h.set(T,_)}),c=function(u){e:{for(var r=Fo,a=u.length,c="string"==typeof u?u.split(""):u,h=0;h<a;h++)if(h in c&&r.call(void 0,c[h],h,u)){r=h;break e}r=-1}return 0>r?null:"string"==typeof u?u.charAt(r):u[r]}(h.T()),a=rt.FormData&&u instanceof rt.FormData,!(0<=Yn(uo,r))||c||a||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(_,T){this.g.setRequestHeader(T,_)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{za(this),0<this.B&&((this.K=function(u){return er&&Ot()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.pa,this)):this.A=Jt(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(_){$a(this,_)}},le.pa=function(){void 0!==ot&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))},le.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,ln(this,"complete"),ln(this,"abort"),lo(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lo(this,!0)),Ar.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?va(this):this.cb())},le.cb=function(){va(this)},le.ba=function(){try{return 2<qs(this)?this.g.status:-1}catch(u){return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},le.Qa=function(u){if(this.g){var r=this.g.responseText;return u&&0==r.indexOf(u)&&(r=r.substring(u.length)),wu(r)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=Wa.prototype).ma=8,le.G=1,le.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(r){}},le.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;var r=new Hi(this,this.h,u,void 0),a=this.s;if(this.P&&(a?mt(a=tt(a),this.P):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var c=0,h=0;h<this.l.length;h++){var _=this.l[h];if(void 0===(_="__data__"in _.g&&"string"==typeof(_=_.g.__data__)?_.length:void 0))break;if(4096<(c+=_)){c=h;break e}if(4096===c||h===this.l.length-1){c=h+1;break e}}c=1e3}else c=1e3;c=R(this,r,c),Ae(h=lt(this.F),"RID",u),Ae(h,"CVER",22),this.D&&Ae(h,"X-HTTP-Session-Id",this.D),ss(this,h),this.o&&a&&ia(h,this.o,a),Ws(this.i,r),this.Ra&&Ae(h,"TYPE","init"),this.ja?(Ae(h,"$req",c),Ae(h,"SID","null"),r.$=!0,si(r,h,null)):si(r,h,c),this.G=2}}else 3==this.G&&(u?fs(this,u):0==this.l.length||In(this.i)||fs(this))},le.Ga=function(){if(this.u=null,ht(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=Ns(pt(this.bb,this),u)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_r(10),li(this),ht(this))},le.ab=function(){null!=this.v&&(this.v=null,li(this),z(this),_r(19))},le.jb=function(u){u?(this.h.info("Successfully pinged google.com"),_r(2)):(this.h.info("Failed to ping google.com"),_r(1))},(le=bu.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},Uo.prototype.g=function(u,r){return new os(u,r)},Yt(os,Vn),os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,r=this.l,a=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),ti(pt(u.hb,u,r))),_r(0),u.W=r,u.aa=a||{},u.N=u.X,u.F=zi(u,null,u.W),Vo(u)},os.prototype.close=function(){Wr(this.g)},os.prototype.u=function(u){if("string"==typeof u){var r={};r.__data__=u,Lo(this.g,r)}else this.v?((r={}).__data__=Bn(u),Lo(this.g,r)):Lo(this.g,u)},os.prototype.M=function(){this.g.j=null,delete this.j,Wr(this.g),delete this.g,os.Z.M.call(this)},Yt(ci,ii),Yt(Xl,Gs),Yt(Ks,bu),Ks.prototype.xa=function(){ln(this.g,"a")},Ks.prototype.wa=function(u){ln(this.g,new ci(u))},Ks.prototype.va=function(u){ln(this.g,new Xl(u))},Ks.prototype.ua=function(){ln(this.g,"b")},Uo.prototype.createWebChannel=Uo.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Ui.COMPLETE="complete",Lr.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",Vn.prototype.listen=Vn.prototype.N,Ar.prototype.listenOnce=Ar.prototype.O,Ar.prototype.getLastError=Ar.prototype.La,Ar.prototype.getLastErrorCode=Ar.prototype.Da,Ar.prototype.getStatus=Ar.prototype.ba,Ar.prototype.getResponseJson=Ar.prototype.Qa,Ar.prototype.getResponseText=Ar.prototype.ga,Ar.prototype.send=Ar.prototype.ea;var Co=Xi,ec=Ui,ho=zn,Io_PROXY=10,Io_NOPROXY=11,Za=ds,Ys=Lr,Bo=Ar;class Jr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let jo="9.0.1";const Qs=new It.Yd("@firebase/firestore");function fl(){return Qs.logLevel}function Ct(u,...r){if(Qs.logLevel<=It.in.DEBUG){const a=r.map(Ka);Qs.debug(`Firestore (${jo}): ${u}`,...a)}}function Sr(u,...r){if(Qs.logLevel<=It.in.ERROR){const a=r.map(Ka);Qs.error(`Firestore (${jo}): ${u}`,...a)}}function Ho(u,...r){if(Qs.logLevel<=It.in.WARN){const a=r.map(Ka);Qs.warn(`Firestore (${jo}): ${u}`,...a)}}function Ka(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(a){return u}}function jt(u="Unexpected state"){const r=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+u;throw Sr(r),new Error(r)}function fn(u,r){u||jt()}function S(u,r){return u}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class w extends Error{constructor(r,a){super(a),this.code=r,this.message=a,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class O{constructor(){this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}}class B{constructor(r,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class Y{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,a){r.enqueueRetryable(()=>a(Jr.UNAUTHENTICATED))}shutdown(){}}class de{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,a){this.changeListener=a,r.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class De{constructor(r){this.t=r,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,a){var c=this;let h=this.i;const _=W=>this.i!==h?(h=this.i,a(W)):Promise.resolve();let T=new O;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new O,r.enqueueRetryable(()=>_(this.currentUser))};const F=W=>{r.enqueueRetryable((0,fe.Z)(function*(){Ct("FirebaseCredentialsProvider","Auth detected"),c.auth=W,c.auth.addAuthTokenListener(c.o),yield T.promise,yield _(c.currentUser)}))};this.t.onInit(W=>F(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?F(W):(Ct("FirebaseCredentialsProvider","Auth not yet detected"),T.resolve(),T=new O)}},0),r.enqueueRetryable((0,fe.Z)(function*(){0===c.i&&(yield T.promise,yield _(c.currentUser))}))}getToken(){const r=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(c=>this.i!==r?(Ct("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(fn("string"==typeof c.accessToken),new B(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return fn(null===r||"string"==typeof r),new Jr(r)}}class st{constructor(r,a,c){this.h=r,this.l=a,this.m=c,this.type="FirstParty",this.user=Jr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},a=this.h.auth.getAuthHeaderValueForFirstParty([]);return a&&(r.Authorization=a),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class Pt{constructor(r,a,c){this.h=r,this.l=a,this.m=c}getToken(){return Promise.resolve(new st(this.h,this.l,this.m))}start(r,a){r.enqueueRetryable(()=>a(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ut{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=c=>this.g(c),this.p=c=>a.writeSequenceNumber(c))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function xn(u){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(u);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(a);else for(let c=0;c<u;c++)a[c]=Math.floor(256*Math.random());return a}Ut.T=-1;class fr{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/r.length)*r.length;let c="";for(;c.length<20;){const h=xn(40);for(let _=0;_<h.length;++_)c.length<20&&h[_]<a&&(c+=r.charAt(h[_]%r.length))}return c}}function kt(u,r){return u<r?-1:u>r?1:0}function vi(u,r,a){return u.length===r.length&&u.every((c,h)=>a(c,r[h]))}function as(u){return u+"\0"}class Qn{constructor(r,a){if(this.seconds=r,this.nanoseconds=a,a<0)throw new w(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new w(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(r<-62135596800)throw new w(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new w(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Qn.fromMillis(Date.now())}static fromDate(r){return Qn.fromMillis(r.getTime())}static fromMillis(r){const a=Math.floor(r/1e3),c=Math.floor(1e6*(r-1e3*a));return new Qn(a,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?kt(this.nanoseconds,r.nanoseconds):kt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pn{constructor(r){this.timestamp=r}static fromTimestamp(r){return new pn(r)}static min(){return new pn(new Qn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function bs(u){let r=0;for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r++;return r}function Cs(u,r){for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r(a,u[a])}function pl(u){for(const r in u)if(Object.prototype.hasOwnProperty.call(u,r))return!1;return!0}class Ya{constructor(r,a,c){void 0===a?a=0:a>r.length&&jt(),void 0===c?c=r.length-a:c>r.length-a&&jt(),this.segments=r,this.offset=a,this.len=c}get length(){return this.len}isEqual(r){return 0===Ya.comparator(this,r)}child(r){const a=this.segments.slice(this.offset,this.limit());return r instanceof Ya?r.forEach(c=>{a.push(c)}):a.push(r),this.construct(a)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}forEach(r){for(let a=this.offset,c=this.limit();a<c;a++)r(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,a){const c=Math.min(r.length,a.length);for(let h=0;h<c;h++){const _=r.get(h),T=a.get(h);if(_<T)return-1;if(_>T)return 1}return r.length<a.length?-1:r.length>a.length?1:0}}class or extends Ya{construct(r,a,c){return new or(r,a,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const a=[];for(const c of r){if(c.indexOf("//")>=0)throw new w(E.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);a.push(...c.split("/").filter(h=>h.length>0))}return new or(a)}static emptyPath(){return new or([])}}const qc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Ya{construct(r,a,c){return new jn(r,a,c)}static isValidIdentifier(r){return qc.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(r){const a=[];let c="",h=0;const _=()=>{if(0===c.length)throw new w(E.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(c),c=""};let T=!1;for(;h<r.length;){const F=r[h];if("\\"===F){if(h+1===r.length)throw new w(E.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const W=r[h+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new w(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);c+=W,h+=2}else"`"===F?(T=!T,h++):"."!==F||T?(c+=F,h++):(_(),h++)}if(_(),T)throw new w(E.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new jn(a)}static emptyPath(){return new jn([])}}class ba{constructor(r){this.fields=r,r.sort(jn.comparator)}covers(r){for(const a of this.fields)if(a.isPrefixOf(r))return!0;return!1}isEqual(r){return vi(this.fields,r.fields,(a,c)=>a.isEqual(c))}}class Si{constructor(r){this.binaryString=r}static fromBase64String(r){const a=atob(r);return new Si(a)}static fromUint8Array(r){const a=function(c){let h="";for(let _=0;_<c.length;++_)h+=String.fromCharCode(c[_]);return h}(r);return new Si(a)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return kt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const Zc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(u){if(fn(!!u),"string"==typeof u){let r=0;const a=Zc.exec(u);if(fn(!!a),a[1]){let h=a[1];h=(h+"000000000").substr(0,9),r=Number(h)}const c=new Date(u);return{seconds:Math.floor(c.getTime()/1e3),nanos:r}}return{seconds:xi(u.seconds),nanos:xi(u.nanos)}}function xi(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Qa(u){return"string"==typeof u?Si.fromBase64String(u):Si.fromUint8Array(u)}function Iu(u){var r,a;return"server_timestamp"===(null===(a=((null===(r=null==u?void 0:u.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function Ja(u){const r=u.mapValue.fields.__previous_value__;return Iu(r)?Ja(r):r}function Du(u){const r=aa(u.mapValue.fields.__local_write_time__.timestampValue);return new Qn(r.seconds,r.nanos)}function Tu(u){return null==u}function Ca(u){return 0===u&&1/u==-1/0}function Hf(u){return"number"==typeof u&&Number.isInteger(u)&&!Ca(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}class Nt{constructor(r){this.path=r}static fromPath(r){return new Nt(or.fromString(r))}static fromName(r){return new Nt(or.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===or.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,a){return or.comparator(r.path,a.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Nt(new or(r.slice()))}}function Do(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Iu(u)?4:10:jt()}function Js(u,r){const a=Do(u);if(a!==Do(r))return!1;switch(a){case 0:return!0;case 1:return u.booleanValue===r.booleanValue;case 4:return Du(u).isEqual(Du(r));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const _=aa(c.timestampValue),T=aa(h.timestampValue);return _.seconds===T.seconds&&_.nanos===T.nanos}(u,r);case 5:return u.stringValue===r.stringValue;case 6:return h=r,Qa(u.bytesValue).isEqual(Qa(h.bytesValue));case 7:return u.referenceValue===r.referenceValue;case 8:return function(c,h){return xi(c.geoPointValue.latitude)===xi(h.geoPointValue.latitude)&&xi(c.geoPointValue.longitude)===xi(h.geoPointValue.longitude)}(u,r);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return xi(c.integerValue)===xi(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const _=xi(c.doubleValue),T=xi(h.doubleValue);return _===T?Ca(_)===Ca(T):isNaN(_)&&isNaN(T)}return!1}(u,r);case 9:return vi(u.arrayValue.values||[],r.arrayValue.values||[],Js);case 10:return function(c,h){const _=c.mapValue.fields||{},T=h.mapValue.fields||{};if(bs(_)!==bs(T))return!1;for(const F in _)if(_.hasOwnProperty(F)&&(void 0===T[F]||!Js(_[F],T[F])))return!1;return!0}(u,r);default:return jt()}var h}function tc(u,r){return void 0!==(u.values||[]).find(a=>Js(a,r))}function Ia(u,r){const a=Do(u),c=Do(r);if(a!==c)return kt(a,c);switch(a){case 0:return 0;case 1:return kt(u.booleanValue,r.booleanValue);case 2:return function(h,_){const T=xi(h.integerValue||h.doubleValue),F=xi(_.integerValue||_.doubleValue);return T<F?-1:T>F?1:T===F?0:isNaN(T)?isNaN(F)?0:-1:1}(u,r);case 3:return Xs(u.timestampValue,r.timestampValue);case 4:return Xs(Du(u),Du(r));case 5:return kt(u.stringValue,r.stringValue);case 6:return function(h,_){const T=Qa(h),F=Qa(_);return T.compareTo(F)}(u.bytesValue,r.bytesValue);case 7:return function(h,_){const T=h.split("/"),F=_.split("/");for(let W=0;W<T.length&&W<F.length;W++){const ie=kt(T[W],F[W]);if(0!==ie)return ie}return kt(T.length,F.length)}(u.referenceValue,r.referenceValue);case 8:return function(h,_){const T=kt(xi(h.latitude),xi(_.latitude));return 0!==T?T:kt(xi(h.longitude),xi(_.longitude))}(u.geoPointValue,r.geoPointValue);case 9:return function(h,_){const T=h.values||[],F=_.values||[];for(let W=0;W<T.length&&W<F.length;++W){const ie=Ia(T[W],F[W]);if(ie)return ie}return kt(T.length,F.length)}(u.arrayValue,r.arrayValue);case 10:return function(h,_){const T=h.fields||{},F=Object.keys(T),W=_.fields||{},ie=Object.keys(W);F.sort(),ie.sort();for(let ce=0;ce<F.length&&ce<ie.length;++ce){const Te=kt(F[ce],ie[ce]);if(0!==Te)return Te;const Xe=Ia(T[F[ce]],W[ie[ce]]);if(0!==Xe)return Xe}return kt(F.length,ie.length)}(u.mapValue,r.mapValue);default:throw jt()}}function Xs(u,r){if("string"==typeof u&&"string"==typeof r&&u.length===r.length)return kt(u,r);const a=aa(u),c=aa(r),h=kt(a.seconds,c.seconds);return 0!==h?h:kt(a.nanos,c.nanos)}function Ps(u){return Au(u)}function Au(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(c){const h=aa(c);return`time(${h.seconds},${h.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Qa(u.bytesValue).toBase64():"referenceValue"in u?Nt.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(r=u.geoPointValue).latitude},${r.longitude})`:"arrayValue"in u?function(c){let h="[",_=!0;for(const T of c.values||[])_?_=!1:h+=",",h+=Au(T);return h+"]"}(u.arrayValue):"mapValue"in u?function(c){const h=Object.keys(c.fields||{}).sort();let _="{",T=!0;for(const F of h)T?T=!1:_+=",",_+=`${F}:${Au(c.fields[F])}`;return _+"}"}(u.mapValue):jt();var r}function fo(u,r){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${r.path.canonicalString()}`}}function po(u){return!!u&&"integerValue"in u}function nc(u){return!!u&&"arrayValue"in u}function rc(u){return!!u&&"nullValue"in u}function Xd(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Kc(u){return!!u&&"mapValue"in u}function Su(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const r={mapValue:{fields:{}}};return Cs(u.mapValue.fields,(a,c)=>r.mapValue.fields[a]=Su(c)),r}if(u.arrayValue){const r={arrayValue:{values:[]}};for(let a=0;a<(u.arrayValue.values||[]).length;++a)r.arrayValue.values[a]=Su(u.arrayValue.values[a]);return r}return Object.assign({},u)}class Ri{constructor(r){this.value=r}static empty(){return new Ri({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let a=this.value;for(let c=0;c<r.length-1;++c)if(a=(a.mapValue.fields||{})[r.get(c)],!Kc(a))return null;return a=(a.mapValue.fields||{})[r.lastSegment()],a||null}}set(r,a){this.getFieldsMap(r.popLast())[r.lastSegment()]=Su(a)}setAll(r){let a=jn.emptyPath(),c={},h=[];r.forEach((T,F)=>{if(!a.isImmediateParentOf(F)){const W=this.getFieldsMap(a);this.applyChanges(W,c,h),c={},h=[],a=F.popLast()}T?c[F.lastSegment()]=Su(T):h.push(F.lastSegment())});const _=this.getFieldsMap(a);this.applyChanges(_,c,h)}delete(r){const a=this.field(r.popLast());Kc(a)&&a.mapValue.fields&&delete a.mapValue.fields[r.lastSegment()]}isEqual(r){return Js(this.value,r.value)}getFieldsMap(r){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let c=0;c<r.length;++c){let h=a.mapValue.fields[r.get(c)];Kc(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},a.mapValue.fields[r.get(c)]=h),a=h}return a.mapValue.fields}applyChanges(r,a,c){Cs(a,(h,_)=>r[h]=_);for(const h of c)delete r[h]}clone(){return new Ri(Su(this.value))}}function ps(u){const r=[];return Cs(u.fields,(a,c)=>{const h=new jn([a]);if(Kc(c)){const _=ps(c.mapValue).fields;if(0===_.length)r.push(h);else for(const T of _)r.push(h.child(T))}else r.push(h)}),new ba(r)}class xr{constructor(r,a,c,h,_){this.key=r,this.documentType=a,this.version=c,this.data=h,this.documentState=_}static newInvalidDocument(r){return new xr(r,0,pn.min(),Ri.empty(),0)}static newFoundDocument(r,a,c){return new xr(r,1,a,c,0)}static newNoDocument(r,a){return new xr(r,2,a,Ri.empty(),0)}static newUnknownDocument(r,a){return new xr(r,3,a,Ri.empty(),2)}convertToFoundDocument(r,a){return this.version=r,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof xr&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new xr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Da{constructor(r,a=null,c=[],h=[],_=null,T=null,F=null){this.path=r,this.collectionGroup=a,this.orderBy=c,this.filters=h,this.limit=_,this.startAt=T,this.endAt=F,this.A=null}}function eh(u,r=null,a=[],c=[],h=null,_=null,T=null){return new Da(u,r,a,c,h,_,T)}function xu(u){const r=S(u);if(null===r.A){let a=r.path.canonicalString();null!==r.collectionGroup&&(a+="|cg:"+r.collectionGroup),a+="|f:",a+=r.filters.map(c=>function(u){return u.field.canonicalString()+u.op.toString()+Ps(u.value)}(c)).join(","),a+="|ob:",a+=r.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),Tu(r.limit)||(a+="|l:",a+=r.limit),r.startAt&&(a+="|lb:",a+=sc(r.startAt)),r.endAt&&(a+="|ub:",a+=sc(r.endAt)),r.A=a}return r.A}function Ru(u,r){if(u.limit!==r.limit||u.orderBy.length!==r.orderBy.length)return!1;for(let h=0;h<u.orderBy.length;h++)if(!zf(u.orderBy[h],r.orderBy[h]))return!1;if(u.filters.length!==r.filters.length)return!1;for(let h=0;h<u.filters.length;h++)if((a=u.filters[h]).op!==(c=r.filters[h]).op||!a.field.isEqual(c.field)||!Js(a.value,c.value))return!1;var a,c;return u.collectionGroup===r.collectionGroup&&!!u.path.isEqual(r.path)&&!!Ou(u.startAt,r.startAt)&&Ou(u.endAt,r.endAt)}function ic(u){return Nt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class Is extends class{}{constructor(r,a,c){super(),this.field=r,this.op=a,this.value=c}static create(r,a,c){return r.isKeyField()?"in"===a||"not-in"===a?this.R(r,a,c):new gl(r,a,c):"array-contains"===a?new Xa(r,c):"in"===a?new Mu(r,c):"not-in"===a?new Ta(r,c):"array-contains-any"===a?new th(r,c):new Is(r,a,c)}static R(r,a,c){return"in"===a?new Qc(r,c):new Nu(r,c)}matches(r){const a=r.data.field(this.field);return"!="===this.op?null!==a&&this.P(Ia(a,this.value)):null!==a&&Do(this.value)===Do(a)&&this.P(Ia(a,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return jt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gl extends Is{constructor(r,a,c){super(r,a,c),this.key=Nt.fromName(c.referenceValue)}matches(r){const a=Nt.comparator(r.key,this.key);return this.P(a)}}class Qc extends Is{constructor(r,a){super(r,"in",a),this.keys=Gf(0,a)}matches(r){return this.keys.some(a=>a.isEqual(r.key))}}class Nu extends Is{constructor(r,a){super(r,"not-in",a),this.keys=Gf(0,a)}matches(r){return!this.keys.some(a=>a.isEqual(r.key))}}function Gf(u,r){var a;return((null===(a=r.arrayValue)||void 0===a?void 0:a.values)||[]).map(c=>Nt.fromName(c.referenceValue))}class Xa extends Is{constructor(r,a){super(r,"array-contains",a)}matches(r){const a=r.data.field(this.field);return nc(a)&&tc(a.arrayValue,this.value)}}class Mu extends Is{constructor(r,a){super(r,"in",a)}matches(r){const a=r.data.field(this.field);return null!==a&&tc(this.value.arrayValue,a)}}class Ta extends Is{constructor(r,a){super(r,"not-in",a)}matches(r){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=r.data.field(this.field);return null!==a&&!tc(this.value.arrayValue,a)}}class th extends Is{constructor(r,a){super(r,"array-contains-any",a)}matches(r){const a=r.data.field(this.field);return!(!nc(a)||!a.arrayValue.values)&&a.arrayValue.values.some(c=>tc(this.value.arrayValue,c))}}class eu{constructor(r,a){this.position=r,this.before=a}}function sc(u){return`${u.before?"b":"a"}:${u.position.map(r=>Ps(r)).join(",")}`}class ua{constructor(r,a="asc"){this.field=r,this.dir=a}}function zf(u,r){return u.dir===r.dir&&u.field.isEqual(r.field)}function ml(u,r,a){let c=0;for(let h=0;h<u.position.length;h++){const _=r[h],T=u.position[h];if(c=_.field.isKeyField()?Nt.comparator(Nt.fromName(T.referenceValue),a.key):Ia(T,a.data.field(_.field)),"desc"===_.dir&&(c*=-1),0!==c)break}return u.before?c<=0:c<0}function Ou(u,r){if(null===u)return null===r;if(null===r||u.before!==r.before||u.position.length!==r.position.length)return!1;for(let a=0;a<u.position.length;a++)if(!Js(u.position[a],r.position[a]))return!1;return!0}class Ds{constructor(r,a=null,c=[],h=[],_=null,T="F",F=null,W=null){this.path=r,this.collectionGroup=a,this.explicitOrderBy=c,this.filters=h,this.limit=_,this.limitType=T,this.startAt=F,this.endAt=W,this.V=null,this.S=null}}function oc(u,r,a,c,h,_,T,F){return new Ds(u,r,a,c,h,_,T,F)}function Pr(u){return new Ds(u)}function yl(u){return!Tu(u.limit)&&"F"===u.limitType}function Jc(u){return!Tu(u.limit)&&"L"===u.limitType}function To(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function tu(u){for(const r of u.filters)if(r.v())return r.field;return null}function Xc(u){return null!==u.collectionGroup}function Aa(u){const r=S(u);if(null===r.V){r.V=[];const a=tu(r),c=To(r);if(null!==a&&null===c)a.isKeyField()||r.V.push(new ua(a)),r.V.push(new ua(jn.keyField(),"asc"));else{let h=!1;for(const _ of r.explicitOrderBy)r.V.push(_),_.field.isKeyField()&&(h=!0);if(!h){const _=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new ua(jn.keyField(),_))}}}return r.V}function eo(u){const r=S(u);if(!r.S)if("F"===r.limitType)r.S=eh(r.path,r.collectionGroup,Aa(r),r.filters,r.limit,r.startAt,r.endAt);else{const a=[];for(const _ of Aa(r))a.push(new ua(_.field,"desc"===_.dir?"asc":"desc"));const c=r.endAt?new eu(r.endAt.position,!r.endAt.before):null,h=r.startAt?new eu(r.startAt.position,!r.startAt.before):null;r.S=eh(r.path,r.collectionGroup,a,r.filters,r.limit,c,h)}return r.S}function ac(u,r,a){return new Ds(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),r,a,u.startAt,u.endAt)}function $o(u,r){return Ru(eo(u),eo(r))&&u.limitType===r.limitType}function Go(u){return`${xu(eo(u))}|lt:${u.limitType}`}function Pu(u){return`Query(target=${function(u){let r=u.path.canonicalString();return null!==u.collectionGroup&&(r+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(r+=`, filters: [${u.filters.map(a=>{return`${(c=a).field.canonicalString()} ${c.op} ${Ps(c.value)}`;var c}).join(", ")}]`),Tu(u.limit)||(r+=", limit: "+u.limit),u.orderBy.length>0&&(r+=`, orderBy: [${u.orderBy.map(a=>{return`${(c=a).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),u.startAt&&(r+=", startAt: "+sc(u.startAt)),u.endAt&&(r+=", endAt: "+sc(u.endAt)),`Target(${r})`}(eo(u))}; limitType=${u.limitType})`}function go(u,r){return r.isFoundDocument()&&function(a,c){const h=c.key.path;return null!==a.collectionGroup?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Nt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(u,r)&&function(a,c){for(const h of a.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(u,r)&&function(a,c){for(const h of a.filters)if(!h.matches(c))return!1;return!0}(u,r)&&(c=r,!((a=u).startAt&&!ml(a.startAt,Aa(a),c)||a.endAt&&ml(a.endAt,Aa(a),c)));var a,c}function nh(u){return(r,a)=>{let c=!1;for(const h of Aa(u)){const _=rh(h,r,a);if(0!==_)return _;c=c||h.field.isKeyField()}return 0}}function rh(u,r,a){const c=u.field.isKeyField()?Nt.comparator(r.key,a.key):function(h,_,T){const F=_.data.field(h),W=T.data.field(h);return null!==F&&null!==W?Ia(F,W):jt()}(u.field,r,a);switch(u.dir){case"asc":return c;case"desc":return-1*c;default:return jt()}}function uc(u,r){if(u.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ca(r)?"-0":r}}function _l(u){return{integerValue:""+u}}function vl(u,r){return Hf(r)?_l(r):uc(u,r)}class lc{constructor(){this._=void 0}}function Wf(u,r,a){return u instanceof Lu?function(c,h){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(_.fields.__previous_value__=h),{mapValue:_}}(a,r):u instanceof nu?ed(u,r):u instanceof ru?qf(u,r):function(c,h){const _=Fu(c,h),T=cc(_)+cc(c.C);return po(_)&&po(c.C)?_l(T):uc(c.N,T)}(u,r)}function ku(u,r,a){return u instanceof nu?ed(u,r):u instanceof ru?qf(u,r):a}function Fu(u,r){return u instanceof Vu?po(a=r)||(c=a)&&"doubleValue"in c?r:{integerValue:0}:null;var c,a}class Lu extends lc{}class nu extends lc{constructor(r){super(),this.elements=r}}function ed(u,r){const a=ih(r);for(const c of u.elements)a.some(h=>Js(h,c))||a.push(c);return{arrayValue:{values:a}}}class ru extends lc{constructor(r){super(),this.elements=r}}function qf(u,r){let a=ih(r);for(const c of u.elements)a=a.filter(h=>!Js(h,c));return{arrayValue:{values:a}}}class Vu extends lc{constructor(r,a){super(),this.N=r,this.C=a}}function cc(u){return xi(u.integerValue||u.doubleValue)}function ih(u){return nc(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class zo{constructor(r,a){this.field=r,this.transform=a}}class iu{constructor(r,a){this.version=r,this.transformResults=a}}class wi{constructor(r,a){this.updateTime=r,this.exists=a}static none(){return new wi}static exists(r){return new wi(void 0,r)}static updateTime(r){return new wi(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Uu(u,r){return void 0!==u.updateTime?r.isFoundDocument()&&r.version.isEqual(u.updateTime):void 0===u.exists||u.exists===r.isFoundDocument()}class nd{}function dc(u,r,a){u instanceof Wo?function(c,h,_){const T=c.value.clone(),F=ah(c.fieldTransforms,h,_.transformResults);T.setAll(F),h.convertToFoundDocument(_.version,T).setHasCommittedMutations()}(u,r,a):u instanceof ks?function(c,h,_){if(!Uu(c.precondition,h))return void h.convertToUnknownDocument(_.version);const T=ah(c.fieldTransforms,h,_.transformResults),F=h.data;F.setAll(oh(c)),F.setAll(T),h.convertToFoundDocument(_.version,F).setHasCommittedMutations()}(u,r,a):r.convertToNoDocument(a.version).setHasCommittedMutations()}function wl(u,r,a){var h;u instanceof Wo?function(c,h,_){if(!Uu(c.precondition,h))return;const T=c.value.clone(),F=hc(c.fieldTransforms,_,h);T.setAll(F),h.convertToFoundDocument(id(h),T).setHasLocalMutations()}(u,r,a):u instanceof ks?function(c,h,_){if(!Uu(c.precondition,h))return;const T=hc(c.fieldTransforms,_,h),F=h.data;F.setAll(oh(c)),F.setAll(T),h.convertToFoundDocument(id(h),F).setHasLocalMutations()}(u,r,a):Uu(u.precondition,h=r)&&h.convertToNoDocument(pn.min())}function sh(u,r){let a=null;for(const c of u.fieldTransforms){const h=r.data.field(c.field),_=Fu(c.transform,h||null);null!=_&&(null==a&&(a=Ri.empty()),a.set(c.field,_))}return a||null}function rd(u,r){return u.type===r.type&&!!u.key.isEqual(r.key)&&!!u.precondition.isEqual(r.precondition)&&(c=r.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===c||a&&c&&vi(a,c,(h,_)=>function(u,r){return u.field.isEqual(r.field)&&(c=r.transform,(a=u.transform)instanceof nu&&c instanceof nu||a instanceof ru&&c instanceof ru?vi(a.elements,c.elements,Js):a instanceof Vu&&c instanceof Vu?Js(a.C,c.C):a instanceof Lu&&c instanceof Lu);var a,c}(h,_))))&&(0===u.type?u.value.isEqual(r.value):1!==u.type||u.data.isEqual(r.data)&&u.fieldMask.isEqual(r.fieldMask));var a,c}function id(u){return u.isFoundDocument()?u.version:pn.min()}class Wo extends nd{constructor(r,a,c,h=[]){super(),this.key=r,this.value=a,this.precondition=c,this.fieldTransforms=h,this.type=0}}class ks extends nd{constructor(r,a,c,h,_=[]){super(),this.key=r,this.data=a,this.fieldMask=c,this.precondition=h,this.fieldTransforms=_,this.type=1}}function oh(u){const r=new Map;return u.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const c=u.data.field(a);r.set(a,c)}}),r}function ah(u,r,a){const c=new Map;fn(u.length===a.length);for(let h=0;h<a.length;h++){const _=u[h],T=_.transform,F=r.data.field(_.field);c.set(_.field,ku(T,F,a[h]))}return c}function hc(u,r,a){const c=new Map;for(const h of u){const _=h.transform,T=a.data.field(h.field);c.set(h.field,Wf(_,T,r))}return c}class El extends nd{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class to extends nd{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class Bu{constructor(r){this.count=r}}var di,Gn;function uh(u){switch(u){case E.OK:return jt();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return jt()}}function lh(u){if(void 0===u)return Sr("GRPC error has no .code"),E.UNKNOWN;switch(u){case di.OK:return E.OK;case di.CANCELLED:return E.CANCELLED;case di.UNKNOWN:return E.UNKNOWN;case di.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case di.INTERNAL:return E.INTERNAL;case di.UNAVAILABLE:return E.UNAVAILABLE;case di.UNAUTHENTICATED:return E.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case di.NOT_FOUND:return E.NOT_FOUND;case di.ALREADY_EXISTS:return E.ALREADY_EXISTS;case di.PERMISSION_DENIED:return E.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case di.ABORTED:return E.ABORTED;case di.OUT_OF_RANGE:return E.OUT_OF_RANGE;case di.UNIMPLEMENTED:return E.UNIMPLEMENTED;case di.DATA_LOSS:return E.DATA_LOSS;default:return jt()}}(Gn=di||(di={}))[Gn.OK=0]="OK",Gn[Gn.CANCELLED=1]="CANCELLED",Gn[Gn.UNKNOWN=2]="UNKNOWN",Gn[Gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gn[Gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gn[Gn.NOT_FOUND=5]="NOT_FOUND",Gn[Gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gn[Gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gn[Gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gn[Gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gn[Gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gn[Gn.ABORTED=10]="ABORTED",Gn[Gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gn[Gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gn[Gn.INTERNAL=13]="INTERNAL",Gn[Gn.UNAVAILABLE=14]="UNAVAILABLE",Gn[Gn.DATA_LOSS=15]="DATA_LOSS";class hi{constructor(r,a){this.comparator=r,this.root=a||Wi.EMPTY}insert(r,a){return new hi(this.comparator,this.root.insert(r,a,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(r){return new hi(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(r){let a=this.root;for(;!a.isEmpty();){const c=this.comparator(r,a.key);if(0===c)return a.value;c<0?a=a.left:c>0&&(a=a.right)}return null}indexOf(r){let a=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(r,c.key);if(0===h)return a+c.left.size;h<0?c=c.left:(a+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((a,c)=>(r(a,c),!1))}toString(){const r=[];return this.inorderTraversal((a,c)=>(r.push(`${a}:${c}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new fc(this.root,r,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new fc(this.root,r,this.comparator,!0)}}class fc{constructor(r,a,c,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!r.isEmpty();)if(_=a?c(r.key,a):1,h&&(_*=-1),_<0)r=this.isReverse?r.left:r.right;else{if(0===_){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const a={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Wi{constructor(r,a,c,h,_){this.key=r,this.value=a,this.color=null!=c?c:Wi.RED,this.left=null!=h?h:Wi.EMPTY,this.right=null!=_?_:Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,a,c,h,_){return new Wi(null!=r?r:this.key,null!=a?a:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,a,c){let h=this;const _=c(r,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(r,a,c),null):0===_?h.copy(null,a,null,null,null):h.copy(null,null,null,null,h.right.insert(r,a,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,a){let c,h=this;if(a(r,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(r,a),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===a(r,h.key)){if(h.right.isEmpty())return Wi.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(r,a))}return h.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,a)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const r=this.left.check();if(r!==this.right.check())throw jt();return r+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(u,r,a,c,h){return this}insert(u,r,a){return new Wi(u,r)}remove(u,r){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(r){this.comparator=r,this.data=new hi(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((a,c)=>(r(a),!1))}forEachInRange(r,a){const c=this.data.getIteratorFrom(r[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,r[1])>=0)return;a(h.key)}}forEachWhile(r,a){let c;for(c=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();c.hasNext();)if(!r(c.getNext().key))return}firstAfterOrEqual(r){const a=this.data.getIteratorFrom(r);return a.hasNext()?a.getNext().key:null}getIterator(){return new ch(this.data.getIterator())}getIteratorFrom(r){return new ch(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let a=this;return a.size<r.size&&(a=r,r=this),r.forEach(c=>{a=a.add(c)}),a}isEqual(r){if(!(r instanceof Xr)||this.size!==r.size)return!1;const a=this.data.getIterator(),c=r.data.getIterator();for(;a.hasNext();){const h=a.getNext().key,_=c.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const r=[];return this.forEach(a=>{r.push(a)}),r}toString(){const r=[];return this.forEach(a=>r.push(a)),"SortedSet("+r.toString()+")"}copy(r){const a=new Xr(this.comparator);return a.data=r,a}}class ch{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Zf=new hi(Nt.comparator);function no(){return Zf}const dh=new hi(Nt.comparator);function sd(){return dh}const bl=new hi(Nt.comparator);function Cl(){return bl}const mo=new Xr(Nt.comparator);function Jn(...u){let r=mo;for(const a of u)r=r.add(a);return r}const hh=new Xr(kt);function Sa(){return hh}class ju{constructor(r,a,c,h,_){this.snapshotVersion=r,this.targetChanges=a,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(r,a){const c=new Map;return c.set(r,pc.createSynthesizedTargetChangeForCurrentChange(r,a)),new ju(pn.min(),c,Sa(),no(),Jn())}}class pc{constructor(r,a,c,h,_){this.resumeToken=r,this.current=a,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(r,a){return new pc(Si.EMPTY_BYTE_STRING,a,Jn(),Jn(),Jn())}}class od{constructor(r,a,c,h){this.k=r,this.removedTargetIds=a,this.key=c,this.$=h}}class fh{constructor(r,a){this.targetId=r,this.O=a}}class gc{constructor(r,a,c=Si.EMPTY_BYTE_STRING,h=null){this.state=r,this.targetIds=a,this.resumeToken=c,this.cause=h}}class mc{constructor(){this.F=0,this.M=yc(),this.L=Si.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Jn(),a=Jn(),c=Jn();return this.M.forEach((h,_)=>{switch(_){case 0:r=r.add(h);break;case 2:a=a.add(h);break;case 1:c=c.add(h);break;default:jt()}}),new pc(this.L,this.B,r,a,c)}G(){this.U=!1,this.M=yc()}H(r,a){this.U=!0,this.M=this.M.insert(r,a)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ad{constructor(r){this.tt=r,this.et=new Map,this.nt=no(),this.st=Kf(),this.it=new Xr(kt)}rt(r){for(const a of r.k)r.$&&r.$.isFoundDocument()?this.ot(a,r.$):this.at(a,r.key,r.$);for(const a of r.removedTargetIds)this.at(a,r.key,r.$)}ct(r){this.forEachTarget(r,a=>{const c=this.ut(a);switch(r.state){case 0:this.ht(a)&&c.j(r.resumeToken);break;case 1:c.X(),c.q||c.G(),c.j(r.resumeToken);break;case 2:c.X(),c.q||this.removeTarget(a);break;case 3:this.ht(a)&&(c.Z(),c.j(r.resumeToken));break;case 4:this.ht(a)&&(this.lt(a),c.j(r.resumeToken));break;default:jt()}})}forEachTarget(r,a){r.targetIds.length>0?r.targetIds.forEach(a):this.et.forEach((c,h)=>{this.ht(h)&&a(h)})}ft(r){const a=r.targetId,c=r.O.count,h=this.dt(a);if(h){const _=h.target;if(ic(_))if(0===c){const T=new Nt(_.path);this.at(a,T,xr.newNoDocument(T,pn.min()))}else fn(1===c);else this.wt(a)!==c&&(this.lt(a),this.it=this.it.add(a))}}_t(r){const a=new Map;this.et.forEach((_,T)=>{const F=this.dt(T);if(F){if(_.current&&ic(F.target)){const W=new Nt(F.target.path);null!==this.nt.get(W)||this.gt(T,W)||this.at(T,W,xr.newNoDocument(W,r))}_.K&&(a.set(T,_.W()),_.G())}});let c=Jn();this.st.forEach((_,T)=>{let F=!0;T.forEachWhile(W=>{const ie=this.dt(W);return!ie||2===ie.purpose||(F=!1,!1)}),F&&(c=c.add(_))});const h=new ju(r,a,this.it,this.nt,c);return this.nt=no(),this.st=Kf(),this.it=new Xr(kt),h}ot(r,a){if(!this.ht(r))return;const c=this.gt(r,a.key)?2:0;this.ut(r).H(a.key,c),this.nt=this.nt.insert(a.key,a),this.st=this.st.insert(a.key,this.yt(a.key).add(r))}at(r,a,c){if(!this.ht(r))return;const h=this.ut(r);this.gt(r,a)?h.H(a,1):h.J(a),this.st=this.st.insert(a,this.yt(a).delete(r)),c&&(this.nt=this.nt.insert(a,c))}removeTarget(r){this.et.delete(r)}wt(r){const a=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+a.addedDocuments.size-a.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let a=this.et.get(r);return a||(a=new mc,this.et.set(r,a)),a}yt(r){let a=this.st.get(r);return a||(a=new Xr(kt),this.st=this.st.insert(r,a)),a}ht(r){const a=null!==this.dt(r);return a||Ct("WatchChangeAggregator","Detected inactive target",r),a}dt(r){const a=this.et.get(r);return a&&a.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new mc),this.tt.getRemoteKeysForTarget(r).forEach(a=>{this.at(r,a,null)})}gt(r,a){return this.tt.getRemoteKeysForTarget(r).has(a)}}function Kf(){return new hi(Nt.comparator)}function yc(){return new hi(Nt.comparator)}const ph={asc:"ASCENDING",desc:"DESCENDING"},gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yf{constructor(r,a){this.databaseId=r,this.D=a}}function Il(u,r){return u.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function mh(u,r){return u.D?r.toBase64():r.toUint8Array()}function yh(u,r){return Il(u,r.toTimestamp())}function ei(u){return fn(!!u),pn.fromTimestamp(function(r){const a=aa(r);return new Qn(a.seconds,a.nanos)}(u))}function Hu(u,r){return(a=u,new or(["projects",a.projectId,"databases",a.database])).child("documents").child(r).canonicalString();var a}function $u(u){const r=or.fromString(u);return fn(Sl(r)),r}function Gu(u,r){return Hu(u.databaseId,r.path)}function ar(u,r){const a=$u(r);if(a.get(1)!==u.databaseId.projectId)throw new w(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+u.databaseId.projectId);if(a.get(3)!==u.databaseId.database)throw new w(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+u.databaseId.database);return new Nt(_c(a))}function zu(u,r){return Hu(u.databaseId,r)}function Fs(u){const r=$u(u);return 4===r.length?or.emptyPath():_c(r)}function Ao(u){return new or(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function _c(u){return fn(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function _h(u,r,a){return{name:Gu(u,r),fields:a.value.mapValue.fields}}function vc(u,r,a){const c=ar(u,r.name),h=ei(r.updateTime),_=new Ri({mapValue:{fields:r.fields}}),T=xr.newFoundDocument(c,h,_);return a&&T.setHasCommittedMutations(),a?T.setHasCommittedMutations():T}function Dl(u,r){let a;if(r instanceof Wo)a={update:_h(u,r.key,r.value)};else if(r instanceof El)a={delete:Gu(u,r.key)};else if(r instanceof ks)a={update:_h(u,r.key,r.data),updateMask:wh(r.fieldMask)};else{if(!(r instanceof to))return jt();a={verify:Gu(u,r.key)}}return r.fieldTransforms.length>0&&(a.updateTransforms=r.fieldTransforms.map(c=>function(h,_){const T=_.transform;if(T instanceof Lu)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof nu)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof ru)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Vu)return{fieldPath:_.field.canonicalString(),increment:T.C};throw jt()}(0,c))),r.precondition.isNone||(a.currentDocument=void 0!==(h=r.precondition).updateTime?{updateTime:yh(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:jt()),a;var h}function Jf(u,r){const a=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?wi.updateTime(ei(h.updateTime)):void 0!==h.exists?wi.exists(h.exists):wi.none():wi.none(),c=r.updateTransforms?r.updateTransforms.map(h=>function(_,T){let F=null;"setToServerValue"in T?(fn("REQUEST_TIME"===T.setToServerValue),F=new Lu):"appendMissingElements"in T?F=new nu(T.appendMissingElements.values||[]):"removeAllFromArray"in T?F=new ru(T.removeAllFromArray.values||[]):"increment"in T?F=new Vu(_,T.increment):jt();const W=jn.fromServerFormat(T.fieldPath);return new zo(W,F)}(u,h)):[];var h;if(r.update){const h=ar(u,r.update.name),_=new Ri({mapValue:{fields:r.update.fields}});if(r.updateMask){const T=new ba((r.updateMask.fieldPaths||[]).map(ie=>jn.fromServerFormat(ie)));return new ks(h,_,T,a,c)}return new Wo(h,_,a,c)}if(r.delete){const h=ar(u,r.delete);return new El(h,a)}if(r.verify){const h=ar(u,r.verify);return new to(h,a)}return jt()}function ou(u,r){return{documents:[zu(u,r.path)]}}function gs(u,r){const a={structuredQuery:{}},c=r.path;null!==r.collectionGroup?(a.parent=zu(u,c),a.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(a.parent=zu(u,c.popLast()),a.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(F){if(0===F.length)return;const W=F.map(ie=>function(ce){if("=="===ce.op){if(Xd(ce.value))return{unaryFilter:{field:Wu(ce.field),op:"IS_NAN"}};if(rc(ce.value))return{unaryFilter:{field:Wu(ce.field),op:"IS_NULL"}}}else if("!="===ce.op){if(Xd(ce.value))return{unaryFilter:{field:Wu(ce.field),op:"IS_NOT_NAN"}};if(rc(ce.value))return{unaryFilter:{field:Wu(ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(ce.field),op:ld(ce.op),value:ce.value}}}(ie));return 1===W.length?W[0]:{compositeFilter:{op:"AND",filters:W}}}(r.filters);h&&(a.structuredQuery.where=h);const _=function(F){if(0!==F.length)return F.map(W=>{return{field:Wu((ie=W).field),direction:Tl(ie.dir)};var ie})}(r.orderBy);_&&(a.structuredQuery.orderBy=_);const T=(W=r.limit,u.D||Tu(W)?W:{value:W});var W;return null!==T&&(a.structuredQuery.limit=T),r.startAt&&(a.structuredQuery.startAt=ur(r.startAt)),r.endAt&&(a.structuredQuery.endAt=ur(r.endAt)),a}function wc(u){let r=Fs(u.parent);const a=u.structuredQuery,c=a.from?a.from.length:0;let h=null;if(c>0){fn(1===c);const ce=a.from[0];ce.allDescendants?h=ce.collectionId:r=r.child(ce.collectionId)}let _=[];a.where&&(_=Ec(a.where));let T=[];a.orderBy&&(T=a.orderBy.map(ce=>{return new ua(Ts((Te=ce).field),function(Xe){switch(Xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Te.direction));var Te}));let F=null;a.limit&&(F=function(ce){let Te;return Te="object"==typeof ce?ce.value:ce,Tu(Te)?null:Te}(a.limit));let W=null;a.startAt&&(W=xa(a.startAt));let ie=null;return a.endAt&&(ie=xa(a.endAt)),oc(r,h,T,_,F,"F",W,ie)}function Ec(u){return u?void 0!==u.unaryFilter?[cd(u)]:void 0!==u.fieldFilter?[Al(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(r=>Ec(r)).reduce((r,a)=>r.concat(a)):jt():[]}function ur(u){return{before:u.before,values:u.position}}function xa(u){return new eu(u.values||[],!!u.before)}function Tl(u){return ph[u]}function ld(u){return gh[u]}function Wu(u){return{fieldPath:u.canonicalString()}}function Ts(u){return jn.fromServerFormat(u.fieldPath)}function Al(u){return Is.create(Ts(u.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return jt()}}(u.fieldFilter.op),u.fieldFilter.value)}function cd(u){switch(u.unaryFilter.op){case"IS_NAN":const r=Ts(u.unaryFilter.field);return Is.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ts(u.unaryFilter.field);return Is.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ts(u.unaryFilter.field);return Is.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ts(u.unaryFilter.field);return Is.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return jt()}}function wh(u){const r=[];return u.fields.forEach(a=>r.push(a.canonicalString())),{fieldPaths:r}}function Sl(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function So(u){let r="";for(let a=0;a<u.length;a++)r.length>0&&(r=Eh(r)),r=Xf(u.get(a),r);return Eh(r)}function Xf(u,r){let a=r;const c=u.length;for(let h=0;h<c;h++){const _=u.charAt(h);switch(_){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=_}}return a}function Eh(u){return u+"\x01\x01"}function qo(u){const r=u.length;if(fn(r>=2),2===r)return fn("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),or.emptyPath();const a=r-2,c=[];let h="";for(let _=0;_<r;){const T=u.indexOf("\x01",_);switch((T<0||T>a)&&jt(),u.charAt(T+1)){case"\x01":const F=u.substring(_,T);let W;0===h.length?W=F:(h+=F,W=h,h=""),c.push(W);break;case"\x10":h+=u.substring(_,T),h+="\0";break;case"\x11":h+=u.substring(_,T+1);break;default:jt()}_=T+2}return new or(c)}class b{constructor(r,a){this.seconds=r,this.nanoseconds=a}}class g{constructor(r,a,c){this.ownerId=r,this.allowTabSynchronization=a,this.leaseTimestampMs=c}}g.store="owner",g.key="owner";class m{constructor(r,a,c){this.userId=r,this.lastAcknowledgedBatchId=a,this.lastStreamToken=c}}m.store="mutationQueues",m.keyPath="userId";class D{constructor(r,a,c,h,_){this.userId=r,this.batchId=a,this.localWriteTimeMs=c,this.baseMutations=h,this.mutations=_}}D.store="mutations",D.keyPath="batchId",D.userMutationsIndex="userMutationsIndex",D.userMutationsKeyPath=["userId","batchId"];class j{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,a){return[r,So(a)]}static key(r,a,c){return[r,So(a),c]}}j.store="documentMutations",j.PLACEHOLDER=new j;class ee{constructor(r,a){this.path=r,this.readTime=a}}class Pe{constructor(r,a){this.path=r,this.version=a}}class Ye{constructor(r,a,c,h,_,T){this.unknownDocument=r,this.noDocument=a,this.document=c,this.hasCommittedMutations=h,this.readTime=_,this.parentPath=T}}Ye.store="remoteDocuments",Ye.readTimeIndex="readTimeIndex",Ye.readTimeIndexPath="readTime",Ye.collectionReadTimeIndex="collectionReadTimeIndex",Ye.collectionReadTimeIndexPath=["parentPath","readTime"];class vt{constructor(r){this.byteSize=r}}vt.store="remoteDocumentGlobal",vt.key="remoteDocumentGlobalKey";class Ft{constructor(r,a,c,h,_,T,F){this.targetId=r,this.canonicalId=a,this.readTime=c,this.resumeToken=h,this.lastListenSequenceNumber=_,this.lastLimboFreeSnapshotVersion=T,this.query=F}}Ft.store="targets",Ft.keyPath="targetId",Ft.queryTargetsIndexName="queryTargetsIndex",Ft.queryTargetsKeyPath=["canonicalId","targetId"];class qt{constructor(r,a,c){this.targetId=r,this.path=a,this.sequenceNumber=c}}qt.store="targetDocuments",qt.keyPath=["targetId","path"],qt.documentTargetsIndex="documentTargetsIndex",qt.documentTargetsKeyPath=["path","targetId"];class $t{constructor(r,a,c,h){this.highestTargetId=r,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=c,this.targetCount=h}}$t.key="targetGlobalKey",$t.store="targetGlobal";class kr{constructor(r,a){this.collectionId=r,this.parent=a}}kr.store="collectionParents",kr.keyPath=["collectionId","parent"];class Ni{constructor(r,a,c,h){this.clientId=r,this.updateTimeMs=a,this.networkEnabled=c,this.inForeground=h}}Ni.store="clientMetadata",Ni.keyPath="clientId";class yo{constructor(r,a,c){this.bundleId=r,this.createTime=a,this.version=c}}yo.store="bundles",yo.keyPath="bundleId";class qi{constructor(r,a,c){this.name=r,this.readTime=a,this.bundledQuery=c}}qi.store="namedQueries",qi.keyPath="name";const bc=[m.store,D.store,j.store,Ye.store,Ft.store,g.store,$t.store,qt.store,Ni.store,vt.store,kr.store,yo.store,qi.store],dd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class ft{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(r){return this.next(void 0,r)}next(r,a){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(r,this.result):new ft((c,h)=>{this.nextCallback=_=>{this.wrapSuccess(r,_).next(c,h)},this.catchCallback=_=>{this.wrapFailure(a,_).next(c,h)}})}toPromise(){return new Promise((r,a)=>{this.next(r,a)})}wrapUserFunction(r){try{const a=r();return a instanceof ft?a:ft.resolve(a)}catch(a){return ft.reject(a)}}wrapSuccess(r,a){return r?this.wrapUserFunction(()=>r(a)):ft.resolve(a)}wrapFailure(r,a){return r?this.wrapUserFunction(()=>r(a)):ft.reject(a)}static resolve(r){return new ft((a,c)=>{a(r)})}static reject(r){return new ft((a,c)=>{c(r)})}static waitFor(r){return new ft((a,c)=>{let h=0,_=0,T=!1;r.forEach(F=>{++h,F.next(()=>{++_,T&&_===h&&a()},W=>c(W))}),T=!0,_===h&&a()})}static or(r){let a=ft.resolve(!1);for(const c of r)a=a.next(h=>h?ft.resolve(h):c());return a}static forEach(r,a){const c=[];return r.forEach((h,_)=>{c.push(a.call(this,h,_))}),this.waitFor(c)}}class Cc{constructor(r,a){this.action=r,this.transaction=a,this.aborted=!1,this.Tt=new O,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{a.error?this.Tt.reject(new qu(r,a.error)):this.Tt.resolve()},this.transaction.onerror=c=>{const h=mm(c.target.error);this.Tt.reject(new qu(r,h))}}static open(r,a,c,h){try{return new Cc(a,r.transaction(h,c))}catch(_){throw new qu(a,_)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(Ct("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const a=this.transaction.objectStore(r);return new Ra(a)}}class ro{constructor(r,a,c){this.name=r,this.version=a,this.At=c,12.2===ro.Rt((0,Ne.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return Ct("SimpleDb","Removing database:",r),ms(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(ro.bt())return!0;const r=(0,Ne.z$)(),a=ro.Rt(r),c=0<a&&a<10,h=ro.vt(r),_=0<h&&h<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||c||_)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,a){return r.store(a)}static Rt(r){const a=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static vt(r){const a=r.match(/Android ([\d.]+)/i),c=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Dt(r){var a=this;return(0,fe.Z)(function*(){return a.db||(Ct("SimpleDb","Opening database:",a.name),a.db=yield new Promise((c,h)=>{const _=indexedDB.open(a.name,a.version);_.onsuccess=T=>{c(T.target.result)},_.onblocked=()=>{h(new qu(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=T=>{const F=T.target.error;h("VersionError"===F.name?new w(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new qu(r,F))},_.onupgradeneeded=T=>{Ct("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',T.oldVersion),a.At.Ct(T.target.result,_.transaction,T.oldVersion,a.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+a.version+" complete")})}})),a.Nt&&(a.db.onversionchange=c=>a.Nt(c)),a.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=a=>r(a))}runTransaction(r,a,c,h){var _=this;return(0,fe.Z)(function*(){const T="readonly"===a;let F=0;for(;;){++F;try{_.db=yield _.Dt(r);const W=Cc.open(_.db,r,T?"readonly":"readwrite",c),ie=h(W).catch(ce=>(W.abort(ce),ft.reject(ce))).toPromise();return ie.catch(()=>{}),yield W.It,ie}catch(W){const ie="FirebaseError"!==W.name&&F<3;if(Ct("SimpleDb","Transaction failed with error:",W.message,"Retrying:",ie),_.close(),!ie)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fd{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return ms(this.kt.delete())}}class qu extends w{constructor(r,a){super(E.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${a}`),this.name="IndexedDbTransactionError"}}function au(u){return"IndexedDbTransactionError"===u.name}class Ra{constructor(r){this.store=r}put(r,a){let c;return void 0!==a?(Ct("SimpleDb","PUT",this.store.name,r,a),c=this.store.put(a,r)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",r),c=this.store.put(r)),ms(c)}add(r){return Ct("SimpleDb","ADD",this.store.name,r,r),ms(this.store.add(r))}get(r){return ms(this.store.get(r)).next(a=>(void 0===a&&(a=null),Ct("SimpleDb","GET",this.store.name,r,a),a))}delete(r){return Ct("SimpleDb","DELETE",this.store.name,r),ms(this.store.delete(r))}count(){return Ct("SimpleDb","COUNT",this.store.name),ms(this.store.count())}Lt(r,a){const c=this.cursor(this.options(r,a)),h=[];return this.Bt(c,(_,T)=>{h.push(T)}).next(()=>h)}Ut(r,a){Ct("SimpleDb","DELETE ALL",this.store.name);const c=this.options(r,a);c.qt=!1;const h=this.cursor(c);return this.Bt(h,(_,T,F)=>F.delete())}Kt(r,a){let c;a?c=r:(c={},a=r);const h=this.cursor(c);return this.Bt(h,a)}jt(r){const a=this.cursor({});return new ft((c,h)=>{a.onerror=_=>{const T=mm(_.target.error);h(T)},a.onsuccess=_=>{const T=_.target.result;T?r(T.primaryKey,T.value).next(F=>{F?T.continue():c()}):c()}})}Bt(r,a){const c=[];return new ft((h,_)=>{r.onerror=T=>{_(T.target.error)},r.onsuccess=T=>{const F=T.target.result;if(!F)return void h();const W=new fd(F),ie=a(F.primaryKey,F.value,W);if(ie instanceof ft){const ce=ie.catch(Te=>(W.done(),ft.reject(Te)));c.push(ce)}W.isDone?h():null===W.Ft?F.continue():F.continue(W.Ft)}}).next(()=>ft.waitFor(c))}options(r,a){let c;return void 0!==r&&("string"==typeof r?c=r:a=r),{index:c,range:a}}cursor(r){let a="next";if(r.reverse&&(a="prev"),r.index){const c=this.store.index(r.index);return r.qt?c.openKeyCursor(r.range,a):c.openCursor(r.range,a)}return this.store.openCursor(r.range,a)}}function ms(u){return new ft((r,a)=>{u.onsuccess=c=>{r(c.target.result)},u.onerror=c=>{const h=mm(c.target.error);a(h)}})}let E_=!1;function mm(u){const r=ro.Rt((0,Ne.z$)());if(r>=12.2&&r<13){const a="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(a)>=0){const c=new w("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${a}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E_||(E_=!0,setTimeout(()=>{throw c},0)),c}}return u}class ep extends hd{constructor(r,a){super(),this.Qt=r,this.currentSequenceNumber=a}}function xo(u,r){const a=S(u);return ro.St(a.Qt,r)}class Zo{constructor(r,a,c,h){this.batchId=r,this.localWriteTime=a,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(r,a){const c=a.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(r.key)&&dc(_,r,c[h])}}applyToLocalView(r){for(const a of this.baseMutations)a.key.isEqual(r.key)&&wl(a,r,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(r.key)&&wl(a,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(a=>{const c=r.get(a.key),h=c;this.applyToLocalView(h),c.isValidDocument()||h.convertToNoDocument(pn.min())})}keys(){return this.mutations.reduce((r,a)=>r.add(a.key),Jn())}isEqual(r){return this.batchId===r.batchId&&vi(this.mutations,r.mutations,(a,c)=>rd(a,c))&&vi(this.baseMutations,r.baseMutations,(a,c)=>rd(a,c))}}class pd{constructor(r,a,c,h){this.batch=r,this.commitVersion=a,this.mutationResults=c,this.docVersions=h}static from(r,a,c){fn(r.mutations.length===c.length);let h=Cl();const _=r.mutations;for(let T=0;T<_.length;T++)h=h.insert(_[T].key,c[T].version);return new pd(r,a,c,h)}}class Na{constructor(r,a,c,h,_=pn.min(),T=pn.min(),F=Si.EMPTY_BYTE_STRING){this.target=r,this.targetId=a,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=F}withSequenceNumber(r){return new Na(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,a){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class ym{constructor(r){this.Wt=r}}function bh(u,r){if(r.document)return vc(u.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const a=Nt.fromSegments(r.noDocument.path),c=Ku(r.noDocument.readTime),h=xr.newNoDocument(a,c);return r.hasCommittedMutations?h.setHasCommittedMutations():h}if(r.unknownDocument){const a=Nt.fromSegments(r.unknownDocument.path),c=Ku(r.unknownDocument.version);return xr.newUnknownDocument(a,c)}return jt()}function Ic(u,r,a){const c=Ch(a),h=r.key.path.popLast().toArray();if(r.isFoundDocument()){const _={name:Gu(F=u.Wt,(W=r).key),fields:W.data.value.mapValue.fields,updateTime:Il(F,W.version.toTimestamp())};return new Ye(null,null,_,r.hasCommittedMutations,c,h)}var F,W;if(r.isNoDocument()){const _=r.key.path.toArray(),T=Zu(r.version),F=r.hasCommittedMutations;return new Ye(null,new ee(_,T),null,F,c,h)}if(r.isUnknownDocument()){const _=r.key.path.toArray(),T=Zu(r.version);return new Ye(new Pe(_,T),null,null,!0,c,h)}return jt()}function Ch(u){const r=u.toTimestamp();return[r.seconds,r.nanoseconds]}function tp(u){const r=new Qn(u[0],u[1]);return pn.fromTimestamp(r)}function Zu(u){const r=u.toTimestamp();return new b(r.seconds,r.nanoseconds)}function Ku(u){const r=new Qn(u.seconds,u.nanoseconds);return pn.fromTimestamp(r)}function xl(u,r){const a=(r.baseMutations||[]).map(_=>Jf(u.Wt,_));for(let _=0;_<r.mutations.length-1;++_){const T=r.mutations[_];_+1<r.mutations.length&&void 0!==r.mutations[_+1].transform&&(T.updateTransforms=r.mutations[_+1].transform.fieldTransforms,r.mutations.splice(_+1,1),++_)}const c=r.mutations.map(_=>Jf(u.Wt,_)),h=Qn.fromMillis(r.localWriteTimeMs);return new Zo(r.batchId,h,a,c)}function Ih(u){const r=Ku(u.readTime),a=void 0!==u.lastLimboFreeSnapshotVersion?Ku(u.lastLimboFreeSnapshotVersion):pn.min();let c;var h;return void 0!==u.query.documents?(fn(1===(h=u.query).documents.length),c=eo(Pr(Fs(h.documents[0])))):c=eo(wc(u.query)),new Na(c,u.targetId,0,u.lastListenSequenceNumber,r,a,Si.fromBase64String(u.resumeToken))}function Rl(u,r){const a=Zu(r.snapshotVersion),c=Zu(r.lastLimboFreeSnapshotVersion);let h;h=ic(r.target)?ou(u.Wt,r.target):gs(u.Wt,r.target);const _=r.resumeToken.toBase64();return new Ft(r.targetId,xu(r.target),a,_,r.sequenceNumber,c,h)}function gd(u){const r=wc({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?ac(r,r.limit,"L"):r}class _m{getBundleMetadata(r,a){return vm(r).get(a).next(c=>{if(c)return{id:(h=c).bundleId,createTime:Ku(h.createTime),version:h.version};var h})}saveBundleMetadata(r,a){return vm(r).put({bundleId:(c=a).id,createTime:Zu(ei(c.createTime)),version:c.version});var c}getNamedQuery(r,a){return Dh(r).get(a).next(c=>{if(c)return{name:(h=c).name,query:gd(h.bundledQuery),readTime:Ku(h.readTime)};var h})}saveNamedQuery(r,a){return Dh(r).put({name:(c=a).name,readTime:Zu(ei(c.readTime)),bundledQuery:c.bundledQuery});var c}}function vm(u){return xo(u,yo.store)}function Dh(u){return xo(u,qi.store)}class b_{constructor(){this.Gt=new np}addToCollectionParentIndex(r,a){return this.Gt.add(a),ft.resolve()}getCollectionParents(r,a){return ft.resolve(this.Gt.getEntries(a))}}class np{constructor(){this.index={}}add(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a]||new Xr(or.comparator),_=!h.has(c);return this.index[a]=h.add(c),_}has(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a];return h&&h.has(c)}getEntries(r){return(this.index[r]||new Xr(or.comparator)).toArray()}}class C_{constructor(){this.zt=new np}addToCollectionParentIndex(r,a){if(!this.zt.has(a)){const c=a.lastSegment(),h=a.popLast();r.addOnCommittedListener(()=>{this.zt.add(a)});const _={collectionId:c,parent:So(h)};return wm(r).put(_)}return ft.resolve()}getCollectionParents(r,a){const c=[],h=IDBKeyRange.bound([a,""],[as(a),""],!1,!0);return wm(r).Lt(h).next(_=>{for(const T of _){if(T.collectionId!==a)break;c.push(qo(T.parent))}return c})}}function wm(u){return xo(u,kr.store)}const Em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _o{constructor(r,a,c){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=c}static withCacheSize(r){return new _o(r,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rp(u,r,a){const c=u.store(D.store),h=u.store(j.store),_=[],T=IDBKeyRange.only(a.batchId);let F=0;const W=c.Kt({range:T},(ce,Te,Xe)=>(F++,Xe.delete()));_.push(W.next(()=>{fn(1===F)}));const ie=[];for(const ce of a.mutations){const Te=j.key(r,ce.key.path,a.batchId);_.push(h.delete(Te)),ie.push(ce.key)}return ft.waitFor(_).next(()=>ie)}function Dc(u){if(!u)return 0;let r;if(u.document)r=u.document;else if(u.unknownDocument)r=u.unknownDocument;else{if(!u.noDocument)throw jt();r=u.noDocument}return JSON.stringify(r).length}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class Th{constructor(r,a,c,h){this.userId=r,this.N=a,this.Ht=c,this.referenceDelegate=h,this.Jt={}}static Yt(r,a,c,h){fn(""!==r.uid);const _=r.isAuthenticated()?r.uid:"";return new Th(_,a,c,h)}checkEmpty(r){let a=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yu(r).Kt({index:D.userMutationsIndex,range:c},(h,_,T)=>{a=!1,T.done()}).next(()=>a)}addMutationBatch(r,a,c,h){const _=Tc(r),T=Yu(r);return T.add({}).next(F=>{fn("number"==typeof F);const W=new Zo(F,a,c,h),ie=function(Xe,dt,xt){const nn=xt.baseMutations.map(pi=>Dl(Xe.Wt,pi)),Sn=xt.mutations.map(pi=>Dl(Xe.Wt,pi));return new D(dt,xt.batchId,xt.localWriteTime.toMillis(),nn,Sn)}(this.N,this.userId,W),ce=[];let Te=new Xr((Xe,dt)=>kt(Xe.canonicalString(),dt.canonicalString()));for(const Xe of h){const dt=j.key(this.userId,Xe.key.path,F);Te=Te.add(Xe.key.path.popLast()),ce.push(T.put(ie)),ce.push(_.put(dt,j.PLACEHOLDER))}return Te.forEach(Xe=>{ce.push(this.Ht.addToCollectionParentIndex(r,Xe))}),r.addOnCommittedListener(()=>{this.Jt[F]=W.keys()}),ft.waitFor(ce).next(()=>W)})}lookupMutationBatch(r,a){return Yu(r).get(a).next(c=>c?(fn(c.userId===this.userId),xl(this.N,c)):null)}Xt(r,a){return this.Jt[a]?ft.resolve(this.Jt[a]):this.lookupMutationBatch(r,a).next(c=>{if(c){const h=c.keys();return this.Jt[a]=h,h}return null})}getNextMutationBatchAfterBatchId(r,a){const c=a+1,h=IDBKeyRange.lowerBound([this.userId,c]);let _=null;return Yu(r).Kt({index:D.userMutationsIndex,range:h},(T,F,W)=>{F.userId===this.userId&&(fn(F.batchId>=c),_=xl(this.N,F)),W.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(r){const a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Yu(r).Kt({index:D.userMutationsIndex,range:a,reverse:!0},(h,_,T)=>{c=_.batchId,T.done()}).next(()=>c)}getAllMutationBatches(r){const a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yu(r).Lt(D.userMutationsIndex,a).next(c=>c.map(h=>xl(this.N,h)))}getAllMutationBatchesAffectingDocumentKey(r,a){const c=j.prefixForPath(this.userId,a.path),h=IDBKeyRange.lowerBound(c),_=[];return Tc(r).Kt({range:h},(T,F,W)=>{const[ie,ce,Te]=T,Xe=qo(ce);if(ie===this.userId&&a.path.isEqual(Xe))return Yu(r).get(Te).next(dt=>{if(!dt)throw jt();fn(dt.userId===this.userId),_.push(xl(this.N,dt))});W.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new Xr(kt);const h=[];return a.forEach(_=>{const T=j.prefixForPath(this.userId,_.path),F=IDBKeyRange.lowerBound(T),W=Tc(r).Kt({range:F},(ie,ce,Te)=>{const[Xe,dt,xt]=ie,nn=qo(dt);Xe===this.userId&&_.path.isEqual(nn)?c=c.add(xt):Te.done()});h.push(W)}),ft.waitFor(h).next(()=>this.Zt(r,c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1,_=j.prefixForPath(this.userId,c),T=IDBKeyRange.lowerBound(_);let F=new Xr(kt);return Tc(r).Kt({range:T},(W,ie,ce)=>{const[Te,Xe,dt]=W,xt=qo(Xe);Te===this.userId&&c.isPrefixOf(xt)?xt.length===h&&(F=F.add(dt)):ce.done()}).next(()=>this.Zt(r,F))}Zt(r,a){const c=[],h=[];return a.forEach(_=>{h.push(Yu(r).get(_).next(T=>{if(null===T)throw jt();fn(T.userId===this.userId),c.push(xl(this.N,T))}))}),ft.waitFor(h).next(()=>c)}removeMutationBatch(r,a){return rp(r.Qt,this.userId,a).next(c=>(r.addOnCommittedListener(()=>{this.te(a.batchId)}),ft.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(r,h))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(a=>{if(!a)return ft.resolve();const c=IDBKeyRange.lowerBound(j.prefixForUser(this.userId)),h=[];return Tc(r).Kt({range:c},(_,T,F)=>{if(_[0]===this.userId){const W=qo(_[1]);h.push(W)}else F.done()}).next(()=>{fn(0===h.length)})})}containsKey(r,a){return Ah(r,this.userId,a)}ee(r){return ip(r).get(this.userId).next(a=>a||new m(this.userId,-1,""))}}function Ah(u,r,a){const c=j.prefixForPath(r,a.path),h=c[1],_=IDBKeyRange.lowerBound(c);let T=!1;return Tc(u).Kt({range:_,qt:!0},(F,W,ie)=>{const[ce,Te,Xe]=F;ce===r&&Te===h&&(T=!0),ie.done()}).next(()=>T)}function Yu(u){return xo(u,D.store)}function Tc(u){return xo(u,j.store)}function ip(u){return xo(u,m.store)}class Qu{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Qu(0)}static ie(){return new Qu(-1)}}class Nl{constructor(r,a){this.referenceDelegate=r,this.N=a}allocateTargetId(r){return this.re(r).next(a=>{const c=new Qu(a.highestTargetId);return a.highestTargetId=c.next(),this.oe(r,a).next(()=>a.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(a=>pn.fromTimestamp(new Qn(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(r,a,c){return this.re(r).next(h=>(h.highestListenSequenceNumber=a,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),a>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=a),this.oe(r,h)))}addTargetData(r,a){return this.ae(r,a).next(()=>this.re(r).next(c=>(c.targetCount+=1,this.ce(a,c),this.oe(r,c))))}updateTargetData(r,a){return this.ae(r,a)}removeTargetData(r,a){return this.removeMatchingKeysForTargetId(r,a.targetId).next(()=>Ml(r).delete(a.targetId)).next(()=>this.re(r)).next(c=>(fn(c.targetCount>0),c.targetCount-=1,this.oe(r,c)))}removeTargets(r,a,c){let h=0;const _=[];return Ml(r).Kt((T,F)=>{const W=Ih(F);W.sequenceNumber<=a&&null===c.get(W.targetId)&&(h++,_.push(this.removeTargetData(r,W)))}).next(()=>ft.waitFor(_)).next(()=>h)}forEachTarget(r,a){return Ml(r).Kt((c,h)=>{const _=Ih(h);a(_)})}re(r){return sp(r).get($t.key).next(a=>(fn(null!==a),a))}oe(r,a){return sp(r).put($t.key,a)}ae(r,a){return Ml(r).put(Rl(this.N,a))}ce(r,a){let c=!1;return r.targetId>a.highestTargetId&&(a.highestTargetId=r.targetId,c=!0),r.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r.sequenceNumber,c=!0),c}getTargetCount(r){return this.re(r).next(a=>a.targetCount)}getTargetData(r,a){const c=xu(a),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let _=null;return Ml(r).Kt({range:h,index:Ft.queryTargetsIndexName},(T,F,W)=>{const ie=Ih(F);Ru(a,ie.target)&&(_=ie,W.done())}).next(()=>_)}addMatchingKeys(r,a,c){const h=[],_=Ju(r);return a.forEach(T=>{const F=So(T.path);h.push(_.put(new qt(c,F))),h.push(this.referenceDelegate.addReference(r,c,T))}),ft.waitFor(h)}removeMatchingKeys(r,a,c){const h=Ju(r);return ft.forEach(a,_=>{const T=So(_.path);return ft.waitFor([h.delete([c,T]),this.referenceDelegate.removeReference(r,c,_)])})}removeMatchingKeysForTargetId(r,a){const c=Ju(r),h=IDBKeyRange.bound([a],[a+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(r,a){const c=IDBKeyRange.bound([a],[a+1],!1,!0),h=Ju(r);let _=Jn();return h.Kt({range:c,qt:!0},(T,F,W)=>{const ie=qo(T[1]),ce=new Nt(ie);_=_.add(ce)}).next(()=>_)}containsKey(r,a){const c=So(a.path),h=IDBKeyRange.bound([c],[as(c)],!1,!0);let _=0;return Ju(r).Kt({index:qt.documentTargetsIndex,qt:!0,range:h},([T,F],W,ie)=>{0!==T&&(_++,ie.done())}).next(()=>_>0)}Et(r,a){return Ml(r).get(a).next(c=>c?Ih(c):null)}}function Ml(u){return xo(u,Ft.store)}function sp(u){return xo(u,$t.store)}function Ju(u){return xo(u,qt.store)}function Ma(u){return op.apply(this,arguments)}function op(){return(op=(0,fe.Z)(function*(u){if(u.code!==E.FAILED_PRECONDITION||u.message!==dd)throw u;Ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function ap([u,r],[a,c]){const h=kt(u,a);return 0===h?kt(r,c):h}class bm{constructor(r){this.ue=r,this.buffer=new Xr(ap),this.he=0}le(){return++this.he}fe(r){const a=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(a);else{const c=this.buffer.last();ap(a,c)<0&&(this.buffer=this.buffer.delete(c).add(a))}}get maxValue(){return this.buffer.last()[0]}}class Cm{constructor(r,a){this.garbageCollector=r,this.asyncQueue=a,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var a=this;const c=this.de?3e5:6e4;Ct("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,fe.Z)(function*(){a.we=null,a.de=!0;try{yield r.collectGarbage(a.garbageCollector)}catch(h){au(h)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield Ma(h)}yield a._e(r)}))}}class up{constructor(r,a){this.me=r,this.params=a}calculateTargetCount(r,a){return this.me.ge(r).next(c=>Math.floor(a/100*c))}nthSequenceNumber(r,a){if(0===a)return ft.resolve(Ut.T);const c=new bm(a);return this.me.forEachTarget(r,h=>c.fe(h.sequenceNumber)).next(()=>this.me.ye(r,h=>c.fe(h))).next(()=>c.maxValue)}removeTargets(r,a,c){return this.me.removeTargets(r,a,c)}removeOrphanedDocuments(r,a){return this.me.removeOrphanedDocuments(r,a)}collect(r,a){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(Em)):this.getCacheSize(r).next(c=>c<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Em):this.pe(r,a))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,a){let c,h,_,T,F,W,ie;const ce=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(Te=>(Te>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Te}`),h=this.params.maximumSequenceNumbersToCollect):h=Te,T=Date.now(),this.nthSequenceNumber(r,h))).next(Te=>(c=Te,F=Date.now(),this.removeTargets(r,c,a))).next(Te=>(_=Te,W=Date.now(),this.removeOrphanedDocuments(r,c))).next(Te=>(ie=Date.now(),fl()<=It.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-ce}ms\n\tDetermined least recently used ${h} in `+(F-T)+`ms\n\tRemoved ${_} targets in `+(W-F)+`ms\n\tRemoved ${Te} documents in `+(ie-W)+`ms\nTotal Duration: ${ie-ce}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:Te})))}}class Im{constructor(r,a){this.db=r,this.garbageCollector=new up(this,a)}ge(r){const a=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(c=>a.next(h=>c+h))}Ee(r){let a=0;return this.ye(r,c=>{a++}).next(()=>a)}forEachTarget(r,a){return this.db.getTargetCache().forEachTarget(r,a)}ye(r,a){return this.Te(r,(c,h)=>a(h))}addReference(r,a,c){return Ol(r,c)}removeReference(r,a,c){return Ol(r,c)}removeTargets(r,a,c){return this.db.getTargetCache().removeTargets(r,a,c)}markPotentiallyOrphaned(r,a){return Ol(r,a)}Ie(r,a){return function(c,h){let _=!1;return ip(c).jt(T=>Ah(c,T,h).next(F=>(F&&(_=!0),ft.resolve(!F)))).next(()=>_)}(r,a)}removeOrphanedDocuments(r,a){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.Te(r,(T,F)=>{if(F<=a){const W=this.Ie(r,T).next(ie=>{if(!ie)return _++,c.getEntry(r,T).next(()=>(c.removeEntry(T),Ju(r).delete([0,So(T.path)])))});h.push(W)}}).next(()=>ft.waitFor(h)).next(()=>c.apply(r)).next(()=>_)}removeTarget(r,a){const c=a.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,c)}updateLimboDocument(r,a){return Ol(r,a)}Te(r,a){const c=Ju(r);let h,_=Ut.T;return c.Kt({index:qt.documentTargetsIndex},([T,F],{path:W,sequenceNumber:ie})=>{0===T?(_!==Ut.T&&a(new Nt(qo(h)),_),_=ie,h=W):_=Ut.T}).next(()=>{_!==Ut.T&&a(new Nt(qo(h)),_)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function Ol(u,r){return Ju(u).put((c=u.currentSequenceNumber,new qt(0,So(r.path),c)));var c}class uu{constructor(r,a){this.mapKeyFn=r,this.equalsFn=a,this.inner={}}get(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0!==c)for(const[h,_]of c)if(this.equalsFn(h,r))return _}has(r){return void 0!==this.get(r)}set(r,a){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0!==h){for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],r))return void(h[_]=[r,a]);h.push([r,a])}else this.inner[c]=[[r,a]]}delete(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return 1===c.length?delete this.inner[a]:c.splice(h,1),!0;return!1}forEach(r){Cs(this.inner,(a,c)=>{for(const[h,_]of c)r(h,_)})}isEmpty(){return pl(this.inner)}}class lp{constructor(){this.changes=new uu(r=>r.toString(),(r,a)=>r.isEqual(a)),this.changesApplied=!1}getReadTime(r){const a=this.changes.get(r);return a?a.readTime:pn.min()}addEntry(r,a){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:a})}removeEntry(r,a=null){this.assertNotApplied(),this.changes.set(r,{document:xr.newInvalidDocument(r),readTime:a})}getEntry(r,a){this.assertNotApplied();const c=this.changes.get(a);return void 0!==c?ft.resolve(c.document):this.getFromCache(r,a)}getEntries(r,a){return this.getAllFromCache(r,a)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class cp{constructor(r,a){this.N=r,this.Ht=a}addEntry(r,a,c){return Ko(r).put(xh(a),c)}removeEntry(r,a){const c=Ko(r),h=xh(a);return c.delete(h)}updateMetadata(r,a){return this.getMetadata(r).next(c=>(c.byteSize+=a,this.Ae(r,c)))}getEntry(r,a){return Ko(r).get(xh(a)).next(c=>this.Re(a,c))}Pe(r,a){return Ko(r).get(xh(a)).next(c=>({document:this.Re(a,c),size:Dc(c)}))}getEntries(r,a){let c=no();return this.be(r,a,(h,_)=>{const T=this.Re(h,_);c=c.insert(h,T)}).next(()=>c)}ve(r,a){let c=no(),h=new hi(Nt.comparator);return this.be(r,a,(_,T)=>{const F=this.Re(_,T);c=c.insert(_,F),h=h.insert(_,Dc(T))}).next(()=>({documents:c,Ve:h}))}be(r,a,c){if(a.isEmpty())return ft.resolve();const h=IDBKeyRange.bound(a.first().path.toArray(),a.last().path.toArray()),_=a.getIterator();let T=_.getNext();return Ko(r).Kt({range:h},(F,W,ie)=>{const ce=Nt.fromSegments(F);for(;T&&Nt.comparator(T,ce)<0;)c(T,null),T=_.getNext();T&&T.isEqual(ce)&&(c(T,W),T=_.hasNext()?_.getNext():null),T?ie.Mt(T.path.toArray()):ie.done()}).next(()=>{for(;T;)c(T,null),T=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(r,a,c){let h=no();const _=a.path.length+1,T={};if(c.isEqual(pn.min())){const F=a.path.toArray();T.range=IDBKeyRange.lowerBound(F)}else{const F=a.path.toArray(),W=Ch(c);T.range=IDBKeyRange.lowerBound([F,W],!0),T.index=Ye.collectionReadTimeIndex}return Ko(r).Kt(T,(F,W,ie)=>{if(F.length!==_)return;const ce=bh(this.N,W);a.path.isPrefixOf(ce.key.path)?go(a,ce)&&(h=h.insert(ce.key,ce)):ie.done()}).next(()=>h)}newChangeBuffer(r){return new Dm(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(a=>a.byteSize)}getMetadata(r){return Sh(r).get(vt.key).next(a=>(fn(!!a),a))}Ae(r,a){return Sh(r).put(vt.key,a)}Re(r,a){if(a){const c=bh(this.N,a);if(!c.isNoDocument()||!c.version.isEqual(pn.min()))return c}return xr.newInvalidDocument(r)}}class Dm extends lp{constructor(r,a){super(),this.Se=r,this.trackRemovals=a,this.De=new uu(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(r){const a=[];let c=0,h=new Xr((_,T)=>kt(_.canonicalString(),T.canonicalString()));return this.changes.forEach((_,T)=>{const F=this.De.get(_);if(T.document.isValidDocument()){const W=Ic(this.Se.N,T.document,this.getReadTime(_));h=h.add(_.path.popLast()),c+=Dc(W)-F,a.push(this.Se.addEntry(r,_,W))}else if(c-=F,this.trackRemovals){const W=Ic(this.Se.N,xr.newNoDocument(_,pn.min()),this.getReadTime(_));a.push(this.Se.addEntry(r,_,W))}else a.push(this.Se.removeEntry(r,_))}),h.forEach(_=>{a.push(this.Se.Ht.addToCollectionParentIndex(r,_))}),a.push(this.Se.updateMetadata(r,c)),ft.waitFor(a)}getFromCache(r,a){return this.Se.Pe(r,a).next(c=>(this.De.set(a,c.size),c.document))}getAllFromCache(r,a){return this.Se.ve(r,a).next(({documents:c,Ve:h})=>(h.forEach((_,T)=>{this.De.set(_,T)}),c))}}function Sh(u){return xo(u,vt.store)}function Ko(u){return xo(u,Ye.store)}function xh(u){return u.path.toArray()}class Tm{constructor(r){this.N=r}Ct(r,a,c,h){fn(c<h&&c>=0&&h<=11);const _=new Cc("createOrUpgrade",a);var F;c<1&&h>=1&&(r.createObjectStore(g.store),(F=r).createObjectStore(m.store,{keyPath:m.keyPath}),F.createObjectStore(D.store,{keyPath:D.keyPath,autoIncrement:!0}).createIndex(D.userMutationsIndex,D.userMutationsKeyPath,{unique:!0}),F.createObjectStore(j.store),Am(r),function(F){F.createObjectStore(Ye.store)}(r));let T=ft.resolve();return c<3&&h>=3&&(0!==c&&(function(F){F.deleteObjectStore(qt.store),F.deleteObjectStore(Ft.store),F.deleteObjectStore($t.store)}(r),Am(r)),T=T.next(()=>function(F){const W=F.store($t.store),ie=new $t(0,0,pn.min().toTimestamp(),0);return W.put($t.key,ie)}(_))),c<4&&h>=4&&(0!==c&&(T=T.next(()=>function(F,W){return W.store(D.store).Lt().next(ie=>{F.deleteObjectStore(D.store),F.createObjectStore(D.store,{keyPath:D.keyPath,autoIncrement:!0}).createIndex(D.userMutationsIndex,D.userMutationsKeyPath,{unique:!0});const ce=W.store(D.store),Te=ie.map(Xe=>ce.put(Xe));return ft.waitFor(Te)})}(r,_))),T=T.next(()=>{!function(F){F.createObjectStore(Ni.store,{keyPath:Ni.keyPath})}(r)})),c<5&&h>=5&&(T=T.next(()=>this.Ce(_))),c<6&&h>=6&&(T=T.next(()=>(function(F){F.createObjectStore(vt.store)}(r),this.Ne(_)))),c<7&&h>=7&&(T=T.next(()=>this.xe(_))),c<8&&h>=8&&(T=T.next(()=>this.ke(r,_))),c<9&&h>=9&&(T=T.next(()=>{(function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")})(r),function(F){const W=F.objectStore(Ye.store);W.createIndex(Ye.readTimeIndex,Ye.readTimeIndexPath,{unique:!1}),W.createIndex(Ye.collectionReadTimeIndex,Ye.collectionReadTimeIndexPath,{unique:!1})}(a)})),c<10&&h>=10&&(T=T.next(()=>this.$e(_))),c<11&&h>=11&&(T=T.next(()=>{(function(F){F.createObjectStore(yo.store,{keyPath:yo.keyPath})})(r),function(F){F.createObjectStore(qi.store,{keyPath:qi.keyPath})}(r)})),T}Ne(r){let a=0;return r.store(Ye.store).Kt((c,h)=>{a+=Dc(h)}).next(()=>{const c=new vt(a);return r.store(vt.store).put(vt.key,c)})}Ce(r){const a=r.store(m.store),c=r.store(D.store);return a.Lt().next(h=>ft.forEach(h,_=>{const T=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return c.Lt(D.userMutationsIndex,T).next(F=>ft.forEach(F,W=>{fn(W.userId===_.userId);const ie=xl(this.N,W);return rp(r,_.userId,ie).next(()=>{})}))}))}xe(r){const a=r.store(qt.store),c=r.store(Ye.store);return r.store($t.store).get($t.key).next(h=>{const _=[];return c.Kt((T,F)=>{const W=new or(T),ie=[0,So(W)];_.push(a.get(ie).next(ce=>ce?ft.resolve():a.put(new qt(0,So(W),h.highestListenSequenceNumber))))}).next(()=>ft.waitFor(_))})}ke(r,a){r.createObjectStore(kr.store,{keyPath:kr.keyPath});const c=a.store(kr.store),h=new np,_=T=>{if(h.add(T)){const F=T.lastSegment(),W=T.popLast();return c.put({collectionId:F,parent:So(W)})}};return a.store(Ye.store).Kt({qt:!0},(T,F)=>{const W=new or(T);return _(W.popLast())}).next(()=>a.store(j.store).Kt({qt:!0},([T,F,W],ie)=>{const ce=qo(F);return _(ce.popLast())}))}$e(r){const a=r.store(Ft.store);return a.Kt((c,h)=>{const _=Ih(h),T=Rl(this.N,_);return a.put(T)})}}function Am(u){u.createObjectStore(qt.store,{keyPath:qt.keyPath}).createIndex(qt.documentTargetsIndex,qt.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(Ft.store,{keyPath:Ft.keyPath}).createIndex(Ft.queryTargetsIndexName,Ft.queryTargetsKeyPath,{unique:!0}),u.createObjectStore($t.store)}const dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rh{constructor(r,a,c,h,_,T,F,W,ie,ce){if(this.allowTabSynchronization=r,this.persistenceKey=a,this.clientId=c,this.Oe=_,this.window=T,this.document=F,this.Fe=ie,this.Me=ce,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Te=>Promise.resolve(),!Rh.Pt())throw new w(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Im(this,h),this.We=a+"main",this.N=new ym(W),this.Ge=new ro(this.We,11,new Tm(this.N)),this.ze=new Nl(this.referenceDelegate,this.N),this.Ht=new C_,this.He=new cp(this.N,this.Ht),this.Je=new _m,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===ce&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new w(E.FAILED_PRECONDITION,dp);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Ut(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var a=this;return this.Qe=function(){var c=(0,fe.Z)(function*(h){if(a.started)return r(h)});return function(h){return c.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var a=(0,fe.Z)(function*(c){null===c.newVersion&&(yield r())});return function(c){return a.apply(this,arguments)}}())}setNetworkEnabled(r){var a=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,fe.Z)(function*(){a.started&&(yield a.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>md(r).put(new Ni(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(a=>{a||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(a=>this.isPrimary&&!a?this.on(r).next(()=>!1):!!a&&this.an(r).next(()=>!0))).catch(r=>{if(au(r))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Pl(r).get(g.key).next(a=>ft.resolve(this.cn(a)))}un(r){return md(r).delete(this.clientId)}hn(){var r=this;return(0,fe.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const a=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=xo(c,Ni.store);return h.Lt().next(_=>{const T=r.fn(_,18e5),F=_.filter(W=>-1===T.indexOf(W));return ft.forEach(F,W=>h.delete(W.clientId)).next(()=>F)})}).catch(()=>[]);if(r.Ye)for(const c of a)r.Ye.removeItem(r.dn(c.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?ft.resolve(!0):Pl(r).get(g.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)){if(this.cn(a)&&this.networkEnabled)return!0;if(!this.cn(a)){if(!a.allowTabSynchronization)throw new w(E.FAILED_PRECONDITION,dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||md(r).Lt().next(c=>void 0===this.fn(c,5e3).find(h=>{if(this.clientId!==h.clientId){const T=!this.inForeground&&h.inForeground,F=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||T&&F)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&Ct("IndexedDbPersistence",`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}shutdown(){var r=this;return(0,fe.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[g.store,Ni.store],a=>{const c=new ep(a,Ut.T);return r.on(c).next(()=>r.un(c))}),r.Ge.close(),r.yn()})()}fn(r,a){return r.filter(c=>this.ln(c.updateTimeMs,a)&&!this.wn(c.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>md(r).Lt().next(a=>this.fn(a,18e5).map(c=>c.clientId)))}get started(){return this.Be}getMutationQueue(r){return Th.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,a,c){let _;return Ct("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===a?"readonly":"readwrite",bc,T=>(_=new ep(T,this.Le?this.Le.next():Ut.T),"readwrite-primary"===a?this.sn(_).next(F=>!!F||this.rn(_)).next(F=>{if(!F)throw Sr(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new w(E.FAILED_PRECONDITION,dd);return c(_)}).next(F=>this.an(_).next(()=>F)):this.En(_).next(()=>c(_)))).then(T=>(_.raiseOnCommittedEvent(),T))}En(r){return Pl(r).get(g.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)&&!this.cn(a)&&!(this.Me||this.allowTabSynchronization&&a.allowTabSynchronization))throw new w(E.FAILED_PRECONDITION,dp)})}an(r){const a=new g(this.clientId,this.allowTabSynchronization,Date.now());return Pl(r).put(g.key,a)}static Pt(){return ro.Pt()}on(r){const a=Pl(r);return a.get(g.key).next(c=>this.cn(c)?(Ct("IndexedDbPersistence","Releasing primary lease."),a.delete(g.key)):ft.resolve())}ln(r,a){const c=Date.now();return!(r<c-a||r>c&&(Sr(`Detected an update time that is in the future: ${r} > ${c}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ne.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var a;try{const c=null!==(null===(a=this.Ye)||void 0===a?void 0:a.getItem(this.dn(r)));return Ct("IndexedDbPersistence",`Client '${r}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Sr("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Sr("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Pl(u){return xo(u,g.store)}function md(u){return xo(u,Ni.store)}function Sm(u,r){let a=u.projectId;return u.isDefaultDatabase||(a+="."+u.database),"firestore/"+r+"/"+a+"/"}class xm{constructor(r,a){this.progress=r,this.Tn=a}}class Rm{constructor(r,a,c){this.He=r,this.In=a,this.Ht=c}An(r,a){return this.In.getAllMutationBatchesAffectingDocumentKey(r,a).next(c=>this.Rn(r,a,c))}Rn(r,a,c){return this.He.getEntry(r,a).next(h=>{for(const _ of c)_.applyToLocalView(h);return h})}Pn(r,a){r.forEach((c,h)=>{for(const _ of a)_.applyToLocalView(h)})}bn(r,a){return this.He.getEntries(r,a).next(c=>this.vn(r,c).next(()=>c))}vn(r,a){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,a).next(c=>this.Pn(a,c))}getDocumentsMatchingQuery(r,a,c){return Nt.isDocumentKey((h=a).path)&&null===h.collectionGroup&&0===h.filters.length?this.Vn(r,a.path):Xc(a)?this.Sn(r,a,c):this.Dn(r,a,c);var h}Vn(r,a){return this.An(r,new Nt(a)).next(c=>{let h=sd();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}Sn(r,a,c){const h=a.collectionGroup;let _=sd();return this.Ht.getCollectionParents(r,h).next(T=>ft.forEach(T,F=>{const W=(ie=a,ce=F.child(h),new Ds(ce,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,ce;return this.Dn(r,W,c).next(ie=>{ie.forEach((ce,Te)=>{_=_.insert(ce,Te)})})}).next(()=>_))}Dn(r,a,c){let h,_;return this.He.getDocumentsMatchingQuery(r,a,c).next(T=>(h=T,this.In.getAllMutationBatchesAffectingQuery(r,a))).next(T=>(_=T,this.Cn(r,_,h).next(F=>{h=F;for(const W of _)for(const ie of W.mutations){const ce=ie.key;let Te=h.get(ce);null==Te&&(Te=xr.newInvalidDocument(ce),h=h.insert(ce,Te)),wl(ie,Te,W.localWriteTime),Te.isFoundDocument()||(h=h.remove(ce))}}))).next(()=>(h.forEach((T,F)=>{go(a,F)||(h=h.remove(T))}),h))}Cn(r,a,c){let h=Jn();for(const T of a)for(const F of T.mutations)F instanceof ks&&null===c.get(F.key)&&(h=h.add(F.key));let _=c;return this.He.getEntries(r,h).next(T=>(T.forEach((F,W)=>{W.isFoundDocument()&&(_=_.insert(F,W))}),_))}}class Nh{constructor(r,a,c,h){this.targetId=r,this.fromCache=a,this.Nn=c,this.xn=h}static kn(r,a){let c=Jn(),h=Jn();for(const _ of a.docChanges)switch(_.type){case 0:c=c.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new Nh(r,a.fromCache,c,h)}}class Nm{$n(r){this.On=r}getDocumentsMatchingQuery(r,a,c,h){return 0===(_=a).filters.length&&null===_.limit&&null==_.startAt&&null==_.endAt&&(0===_.explicitOrderBy.length||1===_.explicitOrderBy.length&&_.explicitOrderBy[0].field.isKeyField())||c.isEqual(pn.min())?this.Fn(r,a):this.On.bn(r,h).next(_=>{const T=this.Mn(a,_);return(yl(a)||Jc(a))&&this.Ln(a.limitType,T,h,c)?this.Fn(r,a):(fl()<=It.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Pu(a)),this.On.getDocumentsMatchingQuery(r,a,c).next(F=>(T.forEach(W=>{F=F.insert(W.key,W)}),F)))});var _}Mn(r,a){let c=new Xr(nh(r));return a.forEach((h,_)=>{go(r,_)&&(c=c.add(_))}),c}Ln(r,a,c,h){if(c.size!==a.size)return!0;const _="F"===r?a.last():a.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Fn(r,a){return fl()<=It.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Pu(a)),this.On.getDocumentsMatchingQuery(r,a,pn.min())}}class I_{constructor(r,a,c,h){this.persistence=r,this.Bn=a,this.N=h,this.Un=new hi(kt),this.qn=new uu(_=>xu(_),Ru),this.Kn=pn.min(),this.In=r.getMutationQueue(c),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new Rm(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>r.collect(a,this.Un))}}function Yo(u,r,a,c){return new I_(u,r,a,c)}function Mm(u,r){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,fe.Z)(function*(u,r){const a=S(u);let c=a.In,h=a.Qn;const _=yield a.persistence.runTransaction("Handle user change","readonly",T=>{let F;return a.In.getAllMutationBatches(T).next(W=>(F=W,c=a.persistence.getMutationQueue(r),h=new Rm(a.jn,c,a.persistence.getIndexManager()),c.getAllMutationBatches(T))).next(W=>{const ie=[],ce=[];let Te=Jn();for(const Xe of F){ie.push(Xe.batchId);for(const dt of Xe.mutations)Te=Te.add(dt.key)}for(const Xe of W){ce.push(Xe.batchId);for(const dt of Xe.mutations)Te=Te.add(dt.key)}return h.bn(T,Te).next(Xe=>({Wn:Xe,removedBatchIds:ie,addedBatchIds:ce}))})});return a.In=c,a.Qn=h,a.Bn.$n(a.Qn),_})).apply(this,arguments)}function D_(u,r){const a=S(u);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=r.batch.keys(),_=a.jn.newChangeBuffer({trackRemovals:!0});return function(T,F,W,ie){const ce=W.batch,Te=ce.keys();let Xe=ft.resolve();return Te.forEach(dt=>{Xe=Xe.next(()=>ie.getEntry(F,dt)).next(xt=>{const nn=W.docVersions.get(dt);fn(null!==nn),xt.version.compareTo(nn)<0&&(ce.applyToRemoteDocument(xt,W),xt.isValidDocument()&&ie.addEntry(xt,W.commitVersion))})}),Xe.next(()=>T.In.removeMutationBatch(F,ce))}(a,c,r,_).next(()=>_.apply(c)).next(()=>a.In.performConsistencyCheck(c)).next(()=>a.Qn.bn(c,h))})}function Om(u){const r=S(u);return r.persistence.runTransaction("Get last remote snapshot version","readonly",a=>r.ze.getLastRemoteSnapshotVersion(a))}function T_(u,r){const a=S(u),c=r.snapshotVersion;let h=a.Un;return a.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const T=a.jn.newChangeBuffer({trackRemovals:!0});h=a.Un;const F=[];r.targetChanges.forEach((ie,ce)=>{const Te=h.get(ce);if(!Te)return;F.push(a.ze.removeMatchingKeys(_,ie.removedDocuments,ce).next(()=>a.ze.addMatchingKeys(_,ie.addedDocuments,ce)));const Xe=ie.resumeToken;if(Xe.approximateByteSize()>0){const dt=Te.withResumeToken(Xe,c).withSequenceNumber(_.currentSequenceNumber);h=h.insert(ce,dt),xt=Te,Sn=ie,fn((nn=dt).resumeToken.approximateByteSize()>0),(0===xt.resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-xt.snapshotVersion.toMicroseconds()>=3e8||Sn.addedDocuments.size+Sn.modifiedDocuments.size+Sn.removedDocuments.size>0)&&F.push(a.ze.updateTargetData(_,dt))}var xt,nn,Sn});let W=no();if(r.documentUpdates.forEach((ie,ce)=>{r.resolvedLimboDocuments.has(ie)&&F.push(a.persistence.referenceDelegate.updateLimboDocument(_,ie))}),F.push(Pm(_,T,r.documentUpdates,c,void 0).next(ie=>{W=ie})),!c.isEqual(pn.min())){const ie=a.ze.getLastRemoteSnapshotVersion(_).next(ce=>a.ze.setTargetsMetadata(_,_.currentSequenceNumber,c));F.push(ie)}return ft.waitFor(F).next(()=>T.apply(_)).next(()=>a.Qn.vn(_,W)).next(()=>W)}).then(_=>(a.Un=h,_))}function Pm(u,r,a,c,h){let _=Jn();return a.forEach(T=>_=_.add(T)),r.getEntries(u,_).next(T=>{let F=no();return a.forEach((W,ie)=>{const ce=T.get(W),Te=(null==h?void 0:h.get(W))||c;ie.isNoDocument()&&ie.version.isEqual(pn.min())?(r.removeEntry(W,Te),F=F.insert(W,ie)):!ce.isValidDocument()||ie.version.compareTo(ce.version)>0||0===ie.version.compareTo(ce.version)&&ce.hasPendingWrites?(r.addEntry(ie,Te),F=F.insert(W,ie)):Ct("LocalStore","Ignoring outdated watch update for ",W,". Current version:",ce.version," Watch version:",ie.version)}),F})}function km(u,r){const a=S(u);return a.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===r&&(r=-1),a.In.getNextMutationBatchAfterBatchId(c,r)))}function Ac(u,r){const a=S(u);return a.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return a.ze.getTargetData(c,r).next(_=>_?(h=_,ft.resolve(h)):a.ze.allocateTargetId(c).next(T=>(h=new Na(r,T,0,c.currentSequenceNumber),a.ze.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=a.Un.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(a.Un=a.Un.insert(c.targetId,c),a.qn.set(r,c.targetId)),c})}function Sc(u,r,a){return hp.apply(this,arguments)}function hp(){return(hp=(0,fe.Z)(function*(u,r,a){const c=S(u),h=c.Un.get(r),_=a?"readwrite":"readwrite-primary";try{a||(yield c.persistence.runTransaction("Release target",_,T=>c.persistence.referenceDelegate.removeTarget(T,h)))}catch(T){if(!au(T))throw T;Ct("LocalStore",`Failed to update sequence numbers for target ${r}: ${T}`)}c.Un=c.Un.remove(r),c.qn.delete(h.target)})).apply(this,arguments)}function Tn(u,r,a){const c=S(u);let h=pn.min(),_=Jn();return c.persistence.runTransaction("Execute query","readonly",T=>function(F,W,ie){const ce=S(F),Te=ce.qn.get(ie);return void 0!==Te?ft.resolve(ce.Un.get(Te)):ce.ze.getTargetData(W,ie)}(c,T,eo(r)).next(F=>{if(F)return h=F.lastLimboFreeSnapshotVersion,c.ze.getMatchingKeysForTargetId(T,F.targetId).next(W=>{_=W})}).next(()=>c.Bn.getDocumentsMatchingQuery(T,r,a?h:pn.min(),a?_:Jn())).next(F=>({documents:F,Gn:_})))}function fp(u,r){const a=S(u),c=S(a.ze),h=a.Un.get(r);return h?Promise.resolve(h.target):a.persistence.runTransaction("Get target data","readonly",_=>c.Et(_,r).next(T=>T?T.target:null))}function pp(u){const r=S(u);return r.persistence.runTransaction("Get new document changes","readonly",a=>function(c,h,_){const T=S(c);let F=no(),W=Ch(_);const ie=Ko(h),ce=IDBKeyRange.lowerBound(W,!0);return ie.Kt({index:Ye.readTimeIndex,range:ce},(Te,Xe)=>{const dt=bh(T.N,Xe);F=F.insert(dt.key,dt),W=Xe.readTime}).next(()=>({Tn:F,readTime:tp(W)}))}(r.jn,a,r.Kn)).then(({Tn:a,readTime:c})=>(r.Kn=c,a))}function Ro(){return(Ro=(0,fe.Z)(function*(u){const r=S(u);return r.persistence.runTransaction("Synchronize last document change read time","readonly",a=>function(c){const h=Ko(c);let _=pn.min();return h.Kt({index:Ye.readTimeIndex,reverse:!0},(T,F,W)=>{F.readTime&&(_=tp(F.readTime)),W.done()}).next(()=>_)}(a)).then(a=>{r.Kn=a})})).apply(this,arguments)}function gp(){return(gp=(0,fe.Z)(function*(u,r,a,c){const h=S(u);let _=Jn(),T=no(),F=Cl();for(const ce of a){const Te=r.zn(ce.metadata.name);ce.document&&(_=_.add(Te)),T=T.insert(Te,r.Hn(ce)),F=F.insert(Te,r.Jn(ce.metadata.readTime))}const W=h.jn.newChangeBuffer({trackRemovals:!0}),ie=yield Ac(h,(ce=c,eo(Pr(or.fromString(`__bundle__/docs/${ce}`)))));var ce;return h.persistence.runTransaction("Apply bundle documents","readwrite",ce=>Pm(ce,W,T,pn.min(),F).next(Te=>(W.apply(ce),Te)).next(Te=>h.ze.removeMatchingKeysForTargetId(ce,ie.targetId).next(()=>h.ze.addMatchingKeys(ce,_,ie.targetId)).next(()=>h.Qn.vn(ce,Te)).next(()=>Te)))})).apply(this,arguments)}function mp(u,r){return la.apply(this,arguments)}function la(){return(la=(0,fe.Z)(function*(u,r,a=Jn()){const c=yield Ac(u,eo(gd(r.bundledQuery))),h=S(u);return h.persistence.runTransaction("Save named query","readwrite",_=>{const T=ei(r.readTime);if(c.snapshotVersion.compareTo(T)>=0)return h.Je.saveNamedQuery(_,r);const F=c.withResumeToken(Si.EMPTY_BYTE_STRING,T);return h.Un=h.Un.insert(F.targetId,F),h.ze.updateTargetData(_,F).next(()=>h.ze.removeMatchingKeysForTargetId(_,c.targetId)).next(()=>h.ze.addMatchingKeys(_,a,c.targetId)).next(()=>h.Je.saveNamedQuery(_,r))})})).apply(this,arguments)}class yp{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,a){return ft.resolve(this.Yn.get(a))}saveBundleMetadata(r,a){var c;return this.Yn.set(a.id,{id:(c=a).id,version:c.version,createTime:ei(c.createTime)}),ft.resolve()}getNamedQuery(r,a){return ft.resolve(this.Xn.get(a))}saveNamedQuery(r,a){return this.Xn.set(a.name,{name:(c=a).name,query:gd(c.bundledQuery),readTime:ei(c.readTime)}),ft.resolve();var c}}class Ph{constructor(){this.Zn=new Xr(Zi.ts),this.es=new Xr(Zi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,a){const c=new Zi(r,a);this.Zn=this.Zn.add(c),this.es=this.es.add(c)}ss(r,a){r.forEach(c=>this.addReference(c,a))}removeReference(r,a){this.rs(new Zi(r,a))}os(r,a){r.forEach(c=>this.removeReference(c,a))}cs(r){const a=new Nt(new or([])),c=new Zi(a,r),h=new Zi(a,r+1),_=[];return this.es.forEachInRange([c,h],T=>{this.rs(T),_.push(T.key)}),_}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const a=new Nt(new or([])),c=new Zi(a,r),h=new Zi(a,r+1);let _=Jn();return this.es.forEachInRange([c,h],T=>{_=_.add(T.key)}),_}containsKey(r){const a=new Zi(r,0),c=this.Zn.firstAfterOrEqual(a);return null!==c&&r.isEqual(c.key)}}class Zi{constructor(r,a){this.key=r,this.ls=a}static ts(r,a){return Nt.comparator(r.key,a.key)||kt(r.ls,a.ls)}static ns(r,a){return kt(r.ls,a.ls)||Nt.comparator(r.key,a.key)}}class Bw{constructor(r,a){this.Ht=r,this.referenceDelegate=a,this.In=[],this.fs=1,this.ds=new Xr(Zi.ts)}checkEmpty(r){return ft.resolve(0===this.In.length)}addMutationBatch(r,a,c,h){const _=this.fs;this.fs++;const T=new Zo(_,a,c,h);this.In.push(T);for(const F of h)this.ds=this.ds.add(new Zi(F.key,_)),this.Ht.addToCollectionParentIndex(r,F.key.path.popLast());return ft.resolve(T)}lookupMutationBatch(r,a){return ft.resolve(this.ws(a))}getNextMutationBatchAfterBatchId(r,a){const h=this._s(a+1),_=h<0?0:h;return ft.resolve(this.In.length>_?this.In[_]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return ft.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,a){const c=new Zi(a,0),h=new Zi(a,Number.POSITIVE_INFINITY),_=[];return this.ds.forEachInRange([c,h],T=>{const F=this.ws(T.ls);_.push(F)}),ft.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new Xr(kt);return a.forEach(h=>{const _=new Zi(h,0),T=new Zi(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([_,T],F=>{c=c.add(F.ls)})}),ft.resolve(this.gs(c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1;let _=c;Nt.isDocumentKey(_)||(_=_.child(""));const T=new Zi(new Nt(_),0);let F=new Xr(kt);return this.ds.forEachWhile(W=>{const ie=W.key.path;return!!c.isPrefixOf(ie)&&(ie.length===h&&(F=F.add(W.ls)),!0)},T),ft.resolve(this.gs(F))}gs(r){const a=[];return r.forEach(c=>{const h=this.ws(c);null!==h&&a.push(h)}),a}removeMutationBatch(r,a){fn(0===this.ys(a.batchId,"removed")),this.In.shift();let c=this.ds;return ft.forEach(a.mutations,h=>{const _=new Zi(h.key,a.batchId);return c=c.delete(_),this.referenceDelegate.markPotentiallyOrphaned(r,h.key)}).next(()=>{this.ds=c})}te(r){}containsKey(r,a){const c=new Zi(a,0),h=this.ds.firstAfterOrEqual(c);return ft.resolve(a.isEqual(h&&h.key))}performConsistencyCheck(r){return ft.resolve()}ys(r,a){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const a=this._s(r);return a<0||a>=this.In.length?null:this.In[a]}}class Lm{constructor(r,a){this.Ht=r,this.ps=a,this.docs=new hi(Nt.comparator),this.size=0}addEntry(r,a,c){const h=a.key,_=this.docs.get(h),T=_?_.size:0,F=this.ps(a);return this.docs=this.docs.insert(h,{document:a.clone(),size:F,readTime:c}),this.size+=F-T,this.Ht.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const a=this.docs.get(r);a&&(this.docs=this.docs.remove(r),this.size-=a.size)}getEntry(r,a){const c=this.docs.get(a);return ft.resolve(c?c.document.clone():xr.newInvalidDocument(a))}getEntries(r,a){let c=no();return a.forEach(h=>{const _=this.docs.get(h);c=c.insert(h,_?_.document.clone():xr.newInvalidDocument(h))}),ft.resolve(c)}getDocumentsMatchingQuery(r,a,c){let h=no();const _=new Nt(a.path.child("")),T=this.docs.getIteratorFrom(_);for(;T.hasNext();){const{key:F,value:{document:W,readTime:ie}}=T.getNext();if(!a.path.isPrefixOf(F.path))break;ie.compareTo(c)<=0||go(a,W)&&(h=h.insert(W.key,W.clone()))}return ft.resolve(h)}Es(r,a){return ft.forEach(this.docs,c=>a(c))}newChangeBuffer(r){return new jw(this)}getSize(r){return ft.resolve(this.size)}}class jw extends lp{constructor(r){super(),this.Se=r}applyChanges(r){const a=[];return this.changes.forEach((c,h)=>{h.document.isValidDocument()?a.push(this.Se.addEntry(r,h.document,this.getReadTime(c))):this.Se.removeEntry(c)}),ft.waitFor(a)}getFromCache(r,a){return this.Se.getEntry(r,a)}getAllFromCache(r,a){return this.Se.getEntries(r,a)}}class lu{constructor(r){this.persistence=r,this.Ts=new uu(a=>xu(a),Ru),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.Is=0,this.As=new Ph,this.targetCount=0,this.Rs=Qu.se()}forEachTarget(r,a){return this.Ts.forEach((c,h)=>a(h)),ft.resolve()}getLastRemoteSnapshotVersion(r){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return ft.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(r,a,c){return c&&(this.lastRemoteSnapshotVersion=c),a>this.Is&&(this.Is=a),ft.resolve()}ae(r){this.Ts.set(r.target,r);const a=r.targetId;a>this.highestTargetId&&(this.Rs=new Qu(a),this.highestTargetId=a),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,a){return this.ae(a),this.targetCount+=1,ft.resolve()}updateTargetData(r,a){return this.ae(a),ft.resolve()}removeTargetData(r,a){return this.Ts.delete(a.target),this.As.cs(a.targetId),this.targetCount-=1,ft.resolve()}removeTargets(r,a,c){let h=0;const _=[];return this.Ts.forEach((T,F)=>{F.sequenceNumber<=a&&null===c.get(F.targetId)&&(this.Ts.delete(T),_.push(this.removeMatchingKeysForTargetId(r,F.targetId)),h++)}),ft.waitFor(_).next(()=>h)}getTargetCount(r){return ft.resolve(this.targetCount)}getTargetData(r,a){const c=this.Ts.get(a)||null;return ft.resolve(c)}addMatchingKeys(r,a,c){return this.As.ss(a,c),ft.resolve()}removeMatchingKeys(r,a,c){this.As.os(a,c);const h=this.persistence.referenceDelegate,_=[];return h&&a.forEach(T=>{_.push(h.markPotentiallyOrphaned(r,T))}),ft.waitFor(_)}removeMatchingKeysForTargetId(r,a){return this.As.cs(a),ft.resolve()}getMatchingKeysForTargetId(r,a){const c=this.As.hs(a);return ft.resolve(c)}containsKey(r,a){return ft.resolve(this.As.containsKey(a))}}class kh{constructor(r,a){this.Ps={},this.Le=new Ut(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new lu(this),this.Ht=new b_,this.He=new Lm(this.Ht,c=>this.referenceDelegate.bs(c)),this.N=new ym(a),this.Je=new yp(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let a=this.Ps[r.toKey()];return a||(a=new Bw(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=a),a}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,a,c){Ct("MemoryPersistence","Starting transaction:",r);const h=new Fh(this.Le.next());return this.referenceDelegate.vs(),c(h).next(_=>this.referenceDelegate.Vs(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Ss(r,a){return ft.or(Object.values(this.Ps).map(c=>()=>c.containsKey(r,a)))}}class Fh extends hd{constructor(r){super(),this.currentSequenceNumber=r}}class yd{constructor(r){this.persistence=r,this.Ds=new Ph,this.Cs=null}static Ns(r){return new yd(r)}get xs(){if(this.Cs)return this.Cs;throw jt()}addReference(r,a,c){return this.Ds.addReference(c,a),this.xs.delete(c.toString()),ft.resolve()}removeReference(r,a,c){return this.Ds.removeReference(c,a),this.xs.add(c.toString()),ft.resolve()}markPotentiallyOrphaned(r,a){return this.xs.add(a.toString()),ft.resolve()}removeTarget(r,a){this.Ds.cs(a.targetId).forEach(h=>this.xs.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(r,a.targetId).next(h=>{h.forEach(_=>this.xs.add(_.toString()))}).next(()=>c.removeTargetData(r,a))}vs(){this.Cs=new Set}Vs(r){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.xs,c=>{const h=Nt.fromPath(c);return this.ks(r,h).next(_=>{_||a.removeEntry(h)})}).next(()=>(this.Cs=null,a.apply(r)))}updateLimboDocument(r,a){return this.ks(r,a).next(c=>{c?this.xs.delete(a.toString()):this.xs.add(a.toString())})}bs(r){return 0}ks(r,a){return ft.or([()=>ft.resolve(this.Ds.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(r,a),()=>this.persistence.Ss(r,a)])}}function A_(u,r){return`firestore_clients_${u}_${r}`}function Vm(u,r,a){let c=`firestore_mutations_${u}_${a}`;return r.isAuthenticated()&&(c+=`_${r.uid}`),c}function Lh(u,r){return`firestore_targets_${u}_${r}`}class _p{constructor(r,a,c,h){this.user=r,this.batchId=a,this.state=c,this.error=h}static $s(r,a,c){const h=JSON.parse(c);let _,T="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return T&&h.error&&(T="string"==typeof h.error.message&&"string"==typeof h.error.code,T&&(_=new w(h.error.code,h.error.message))),T?new _p(r,a,h.state,_):(Sr("SharedClientState",`Failed to parse mutation state for ID '${a}': ${c}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class _d{constructor(r,a,c){this.targetId=r,this.state=a,this.error=c}static $s(r,a){const c=JSON.parse(a);let h,_="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(h=new w(c.error.code,c.error.message))),_?new _d(r,c.state,h):(Sr("SharedClientState",`Failed to parse target state for ID '${r}': ${a}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class vp{constructor(r,a){this.clientId=r,this.activeTargetIds=a}static $s(r,a){const c=JSON.parse(a);let h="object"==typeof c&&c.activeTargetIds instanceof Array,_=Sa();for(let T=0;h&&T<c.activeTargetIds.length;++T)h=Hf(c.activeTargetIds[T]),_=_.add(c.activeTargetIds[T]);return h?new vp(r,_):(Sr("SharedClientState",`Failed to parse client data for instance '${r}': ${a}`),null)}}class Vh{constructor(r,a){this.clientId=r,this.onlineState=a}static $s(r){const a=JSON.parse(r);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new Vh(a.clientId,a.onlineState):(Sr("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Uh{constructor(){this.activeTargetIds=Sa()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class wp{constructor(r,a,c,h,_){this.window=r,this.Oe=a,this.persistenceKey=c,this.Ls=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new hi(kt),this.started=!1,this.Ks=[];const T=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.js=A_(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Uh),this.Ws=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(F){return`firestore_bundle_loaded_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,fe.Z)(function*(){const a=yield r.syncEngine.pn();for(const h of a){if(h===r.Ls)continue;const _=r.getItem(A_(r.persistenceKey,h));if(_){const T=vp.$s(h,_);T&&(r.qs=r.qs.insert(T.clientId,T))}}r.Ys();const c=r.storage.getItem(r.Hs);if(c){const h=r.Xs(c);h&&r.Zs(h)}for(const h of r.Ks)r.Us(h);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let a=!1;return this.qs.forEach((c,h)=>{h.activeTargetIds.has(r)&&(a=!0)}),a}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,a,c){this.ei(r,a,c),this.ni(r)}addLocalQueryTarget(r){let a="not-current";if(this.isActiveQueryTarget(r)){const c=this.storage.getItem(Lh(this.persistenceKey,r));if(c){const h=_d.$s(r,c);h&&(a=h.state)}}return this.si.Fs(r),this.Ys(),a}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(Lh(this.persistenceKey,r))}updateQueryState(r,a,c){this.ii(r,a,c)}handleUserChange(r,a,c){a.forEach(h=>{this.ni(h)}),this.currentUser=r,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const a=this.storage.getItem(r);return Ct("SharedClientState","READ",r,a),a}setItem(r,a){Ct("SharedClientState","SET",r,a),this.storage.setItem(r,a)}removeItem(r){Ct("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var a=this;const c=r;if(c.storageArea===this.storage){if(Ct("SharedClientState","EVENT",c.key,c.newValue),c.key===this.js)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,fe.Z)(function*(){if(a.started){if(null!==c.key)if(a.Ws.test(c.key)){if(null==c.newValue){const h=a.ai(c.key);return a.ci(h,null)}{const h=a.ui(c.key,c.newValue);if(h)return a.ci(h.clientId,h)}}else if(a.Gs.test(c.key)){if(null!==c.newValue){const h=a.hi(c.key,c.newValue);if(h)return a.li(h)}}else if(a.zs.test(c.key)){if(null!==c.newValue){const h=a.fi(c.key,c.newValue);if(h)return a.di(h)}}else if(c.key===a.Hs){if(null!==c.newValue){const h=a.Xs(c.newValue);if(h)return a.Zs(h)}}else if(c.key===a.Qs){const h=function(_){let T=Ut.T;if(null!=_)try{const F=JSON.parse(_);fn("number"==typeof F),T=F}catch(F){Sr("SharedClientState","Failed to read sequence number from WebStorage",F)}return T}(c.newValue);h!==Ut.T&&a.sequenceNumberHandler(h)}else if(c.key===a.Js)return a.syncEngine.wi()}else a.Ks.push(c)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,a,c){const h=new _p(this.currentUser,r,a,c),_=Vm(this.persistenceKey,this.currentUser,r);this.setItem(_,h.Os())}ni(r){const a=Vm(this.persistenceKey,this.currentUser,r);this.removeItem(a)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,a,c){const h=Lh(this.persistenceKey,r),_=new _d(r,a,c);this.setItem(h,_.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const a=this.Ws.exec(r);return a?a[1]:null}ui(r,a){const c=this.ai(r);return vp.$s(c,a)}hi(r,a){const c=this.Gs.exec(r),h=Number(c[1]);return _p.$s(new Jr(void 0!==c[2]?c[2]:null),h,a)}fi(r,a){const c=this.zs.exec(r),h=Number(c[1]);return _d.$s(h,a)}Xs(r){return Vh.$s(r)}li(r){var a=this;return(0,fe.Z)(function*(){if(r.user.uid===a.currentUser.uid)return a.syncEngine._i(r.batchId,r.state,r.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,a){const c=a?this.qs.insert(r,a):this.qs.remove(r),h=this.ti(this.qs),_=this.ti(c),T=[],F=[];return _.forEach(W=>{h.has(W)||T.push(W)}),h.forEach(W=>{_.has(W)||F.push(W)}),this.syncEngine.gi(T,F).then(()=>{this.qs=c})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let a=Sa();return r.forEach((c,h)=>{a=a.unionWith(h.activeTargetIds)}),a}}class Bh{constructor(){this.yi=new Uh,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,a,c){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,a,c){this.pi[r]=a}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Uh,Promise.resolve()}handleUserChange(r,a,c){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class Hw{Ei(r){}shutdown(){}}class S_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $w={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Gw{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class zw extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,a,c,h){const _=this.Bi(r,a);Ct("RestConnection","Sending: ",_,c);const T={};return this.Ui(T,h),this.qi(r,_,T,c).then(F=>(Ct("RestConnection","Received: ",F),F),F=>{throw Ho("RestConnection",`${r} failed with error: `,F,"url: ",_,"request:",c),F})}Ki(r,a,c,h){return this.Li(r,a,c,h)}Ui(r,a){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+jo,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a)for(const c in a.authHeaders)a.authHeaders.hasOwnProperty(c)&&(r[c]=a.authHeaders[c])}Bi(r,a){return`${this.Fi}/v1/${a}:${$w[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,a,c,h){return new Promise((_,T)=>{const F=new Bo;F.listenOnce(ec.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Co.NO_ERROR:const ie=F.getResponseJson();Ct("Connection","XHR received:",JSON.stringify(ie)),_(ie);break;case Co.TIMEOUT:Ct("Connection",'RPC "'+r+'" timed out'),T(new w(E.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const ce=F.getStatus();if(Ct("Connection",'RPC "'+r+'" failed with status:',ce,"response text:",F.getResponseText()),ce>0){const Te=F.getResponseJson().error;if(Te&&Te.status&&Te.message){const Xe=function(dt){const xt=dt.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(xt)>=0?xt:E.UNKNOWN}(Te.status);T(new w(Xe,Te.message))}else T(new w(E.UNKNOWN,"Server responded with status "+F.getStatus()))}else T(new w(E.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{Ct("Connection",'RPC "'+r+'" completed.')}});const W=JSON.stringify(h);F.send(a,"POST",W,c,15)})}ji(r,a){const c=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],h=new Uo,_=Ji(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new Za({})),this.Ui(T.initMessageHeaders,a),(0,Ne.uI)()||(0,Ne.b$)()||(0,Ne.d)()||(0,Ne.w1)()||(0,Ne.Mn)()||(0,Ne.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const F=c.join("");Ct("Connection","Creating WebChannel: "+F,T);const W=h.createWebChannel(F,T);let ie=!1,ce=!1;const Te=new Gw({vi:dt=>{ce?Ct("Connection","Not sending because WebChannel is closed:",dt):(ie||(Ct("Connection","Opening WebChannel transport."),W.open(),ie=!0),Ct("Connection","WebChannel sending:",dt),W.send(dt))},Vi:()=>W.close()}),Xe=(dt,xt,nn)=>{dt.listen(xt,Sn=>{try{nn(Sn)}catch(pi){setTimeout(()=>{throw pi},0)}})};return Xe(W,Ys.EventType.OPEN,()=>{ce||Ct("Connection","WebChannel transport opened.")}),Xe(W,Ys.EventType.CLOSE,()=>{ce||(ce=!0,Ct("Connection","WebChannel transport closed"),Te.$i())}),Xe(W,Ys.EventType.ERROR,dt=>{ce||(ce=!0,Ho("Connection","WebChannel transport errored:",dt),Te.$i(new w(E.UNAVAILABLE,"The operation could not be completed")))}),Xe(W,Ys.EventType.MESSAGE,dt=>{var xt;if(!ce){const nn=dt.data[0];fn(!!nn);const Sn=nn,pi=Sn.error||(null===(xt=Sn[0])||void 0===xt?void 0:xt.error);if(pi){Ct("Connection","WebChannel received error:",pi);const Bs=pi.status;let Ua=function(Gd){const Df=di[Gd];if(void 0!==Df)return lh(Df)}(Bs),pa=pi.message;void 0===Ua&&(Ua=E.INTERNAL,pa="Unknown error status: "+Bs+" with message "+pi.message),ce=!0,Te.$i(new w(Ua,pa)),W.close()}else Ct("Connection","WebChannel received:",nn),Te.Oi(nn)}}),Xe(_,ho.STAT_EVENT,dt=>{dt.stat===Io_PROXY?Ct("Connection","Detected buffering proxy"):dt.stat===Io_NOPROXY&&Ct("Connection","Detected no buffering proxy")}),setTimeout(()=>{Te.ki()},0),Te}}function x_(){return"undefined"!=typeof window?window:null}function Ep(){return"undefined"!=typeof document?document:null}function jh(u){return new Yf(u,!0)}class Um{constructor(r,a,c=1e3,h=1.5,_=6e4){this.Oe=r,this.timerId=a,this.Qi=c,this.Wi=h,this.Gi=_,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const a=Math.floor(this.zi+this.Zi()),c=Math.max(0,Date.now()-this.Ji),h=Math.max(0,a-c);h>0&&Ct("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.zi} ms, delay with jitter: ${a} ms, last attempt: ${c} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,h,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class R_{constructor(r,a,c,h,_,T){this.Oe=r,this.er=c,this.nr=h,this.credentialsProvider=_,this.listener=T,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Um(r,a)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,fe.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,fe.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,a){var c=this;return(0,fe.Z)(function*(){c._r(),c.rr.cancel(),c.sr++,3!==r?c.rr.reset():a&&a.code===E.RESOURCE_EXHAUSTED?(Sr(a.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),c.rr.Yi()):a&&a.code===E.UNAUTHENTICATED&&c.credentialsProvider.invalidateToken(),null!==c.stream&&(c.mr(),c.stream.close(),c.stream=null),c.state=r,yield c.listener.Ci(a)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),a=this.sr;this.credentialsProvider.getToken().then(c=>{this.sr===a&&this.yr(c)},c=>{r(()=>{const h=new w(E.UNKNOWN,"Fetching auth token failed: "+c.message);return this.pr(h)})})}yr(r){const a=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{a(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(c=>{a(()=>this.pr(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}ur(){var r=this;this.state=4,this.rr.Xi((0,fe.Z)(function*(){r.state=0,r.start()}))}pr(r){return Ct("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return a=>{this.Oe.enqueueAndForget(()=>this.sr===r?a():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ww extends R_{constructor(r,a,c,h,_){super(r,"listen_stream_connection_backoff","listen_stream_idle",a,c,_),this.N=h}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const a=function(u,r){let a;if("targetChange"in r){const c="NO_CHANGE"===(W=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:jt(),h=r.targetChange.targetIds||[],_=function(W,ie){return W.D?(fn(void 0===ie||"string"==typeof ie),Si.fromBase64String(ie||"")):(fn(void 0===ie||ie instanceof Uint8Array),Si.fromUint8Array(ie||new Uint8Array))}(u,r.targetChange.resumeToken),T=r.targetChange.cause,F=T&&function(W){const ie=void 0===W.code?E.UNKNOWN:lh(W.code);return new w(ie,W.message||"")}(T);a=new gc(c,h,_,F||null)}else if("documentChange"in r){const c=r.documentChange,h=ar(u,c.document.name),_=ei(c.document.updateTime),T=new Ri({mapValue:{fields:c.document.fields}}),F=xr.newFoundDocument(h,_,T);a=new od(c.targetIds||[],c.removedTargetIds||[],F.key,F)}else if("documentDelete"in r){const c=r.documentDelete,h=ar(u,c.document),_=c.readTime?ei(c.readTime):pn.min(),T=xr.newNoDocument(h,_);a=new od([],c.removedTargetIds||[],T.key,T)}else if("documentRemove"in r){const c=r.documentRemove,h=ar(u,c.document);a=new od([],c.removedTargetIds||[],h,null)}else{if(!("filter"in r))return jt();{const c=r.filter,_=new Bu(c.count||0);a=new fh(c.targetId,_)}}var W;return a}(this.N,r),c=function(h){if(!("targetChange"in h))return pn.min();const _=h.targetChange;return _.targetIds&&_.targetIds.length?pn.min():_.readTime?ei(_.readTime):pn.min()}(r);return this.listener.Tr(a,c)}Ir(r){const a={};a.database=Ao(this.N),a.addTarget=function(h,_){let T;const F=_.target;return T=ic(F)?{documents:ou(h,F)}:{query:gs(h,F)},T.targetId=_.targetId,_.resumeToken.approximateByteSize()>0?T.resumeToken=mh(h,_.resumeToken):_.snapshotVersion.compareTo(pn.min())>0&&(T.readTime=Il(h,_.snapshotVersion.toTimestamp())),T}(this.N,r);const c=function(u,r){const a=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jt()}}(0,r.purpose);return null==a?null:{"goog-listen-tags":a}}(0,r);c&&(a.labels=c),this.wr(a)}Ar(r){const a={};a.database=Ao(this.N),a.removeTarget=r,this.wr(a)}}class Xu extends R_{constructor(r,a,c,h,_){super(r,"write_stream_connection_backoff","write_stream_idle",a,c,_),this.N=h,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(fn(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const a=function(u,r){return u&&u.length>0?(fn(void 0!==r),u.map(a=>function(c,h){let _=ei(c.updateTime?c.updateTime:h);return _.isEqual(pn.min())&&(_=ei(h)),new iu(_,c.transformResults||[])}(a,r))):[]}(r.writeResults,r.commitTime),c=ei(r.commitTime);return this.listener.vr(c,a)}return fn(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=Ao(this.N),this.wr(r)}br(r){const a={streamToken:this.lastStreamToken,writes:r.map(c=>Dl(this.N,c))};this.wr(a)}}class bp extends class{}{constructor(r,a,c){super(),this.credentials=r,this.nr=a,this.N=c,this.Dr=!1}Cr(){if(this.Dr)throw new w(E.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Li(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===E.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new w(E.UNKNOWN,h.toString())})}Ki(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Ki(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===E.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new w(E.UNKNOWN,h.toString())})}terminate(){this.Dr=!0}}class N_{constructor(r,a){this.asyncQueue=r,this.onlineStateHandler=a,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const a=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Sr(a),this.$r=!1):Ct("OnlineStateTracker",a)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Bm{constructor(r,a,c,h,_){var T=this;this.localStore=r,this.datastore=a,this.asyncQueue=c,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=_,this.Qr.Ei(F=>{c.enqueueAndForget((0,fe.Z)(function*(){var W;cu(T)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,fe.Z)(function*(ie){const ce=S(ie);ce.Kr.add(4),yield el(ce),ce.Wr.set("Unknown"),ce.Kr.delete(4),yield kl(ce)}),function(ie){return W.apply(this,arguments)})(T))}))}),this.Wr=new N_(c,h)}}function kl(u){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,fe.Z)(function*(u){if(cu(u))for(const r of u.jr)yield r(!0)})).apply(this,arguments)}function el(u){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,fe.Z)(function*(u){for(const r of u.jr)yield r(!1)})).apply(this,arguments)}function ca(u,r){const a=S(u);a.qr.has(r.targetId)||(a.qr.set(r.targetId,r),Dp(a)?vd(a):Mc(a).cr()&&Ip(a,r))}function xc(u,r){const a=S(u),c=Mc(a);a.qr.delete(r),c.cr()&&M_(a,r),0===a.qr.size&&(c.cr()?c.lr():cu(a)&&a.Wr.set("Unknown"))}function Ip(u,r){u.Gr.Y(r.targetId),Mc(u).Ir(r)}function M_(u,r){u.Gr.Y(r),Mc(u).Ar(r)}function vd(u){u.Gr=new ad({getRemoteKeysForTarget:r=>u.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>u.qr.get(r)||null}),Mc(u).start(),u.Wr.Or()}function Dp(u){return cu(u)&&!Mc(u).ar()&&u.qr.size>0}function cu(u){return 0===S(u).Kr.size}function jm(u){u.Gr=void 0}function O_(u){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,fe.Z)(function*(u){u.qr.forEach((r,a)=>{Ip(u,r)})})).apply(this,arguments)}function Rc(u,r){return wd.apply(this,arguments)}function wd(){return(wd=(0,fe.Z)(function*(u,r){jm(u),Dp(u)?(u.Wr.Lr(r),vd(u)):u.Wr.set("Unknown")})).apply(this,arguments)}function Nc(u,r,a){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,fe.Z)(function*(u,r,a){if(u.Wr.set("Online"),r instanceof gc&&2===r.state&&r.cause)try{yield(c=(0,fe.Z)(function*(h,_){const T=_.cause;for(const F of _.targetIds)h.qr.has(F)&&(yield h.remoteSyncer.rejectListen(F,T),h.qr.delete(F),h.Gr.removeTarget(F))}),function(h,_){return c.apply(this,arguments)})(u,r)}catch(c){Ct("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),c),yield du(u,c)}else if(r instanceof od?u.Gr.rt(r):r instanceof fh?u.Gr.ft(r):u.Gr.ct(r),!a.isEqual(pn.min()))try{const c=yield Om(u.localStore);a.compareTo(c)>=0&&(yield function(h,_){const T=h.Gr._t(_);return T.targetChanges.forEach((F,W)=>{if(F.resumeToken.approximateByteSize()>0){const ie=h.qr.get(W);ie&&h.qr.set(W,ie.withResumeToken(F.resumeToken,_))}}),T.targetMismatches.forEach(F=>{const W=h.qr.get(F);if(!W)return;h.qr.set(F,W.withResumeToken(Si.EMPTY_BYTE_STRING,W.snapshotVersion)),M_(h,F);const ie=new Na(W.target,F,1,W.sequenceNumber);Ip(h,ie)}),h.remoteSyncer.applyRemoteEvent(T)}(u,a))}catch(c){Ct("RemoteStore","Failed to raise snapshot:",c),yield du(u,c)}var c})).apply(this,arguments)}function du(u,r,a){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,fe.Z)(function*(u,r,a){if(!au(r))throw r;u.Kr.add(1),yield el(u),u.Wr.set("Offline"),a||(a=()=>Om(u.localStore)),u.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield a(),u.Kr.delete(1),yield kl(u)}))})).apply(this,arguments)}function Ap(u,r){return r().catch(a=>du(u,a,r))}function Vl(u){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,fe.Z)(function*(u){const r=S(u),a=Ul(r);let c=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Sp(r);)try{const h=yield km(r.localStore,c);if(null===h){0===r.Ur.length&&a.lr();break}c=h.batchId,Hm(r,h)}catch(h){yield du(r,h)}bd(r)&&$m(r)})).apply(this,arguments)}function Sp(u){return cu(u)&&u.Ur.length<10}function Hm(u,r){u.Ur.push(r);const a=Ul(u);a.cr()&&a.Pr&&a.br(r.mutations)}function bd(u){return cu(u)&&!Ul(u).ar()&&u.Ur.length>0}function $m(u){Ul(u).start()}function Gm(u){return zm.apply(this,arguments)}function zm(){return(zm=(0,fe.Z)(function*(u){Ul(u).Sr()})).apply(this,arguments)}function Wm(u){return $h.apply(this,arguments)}function $h(){return($h=(0,fe.Z)(function*(u){const r=Ul(u);for(const a of u.Ur)r.br(a.mutations)})).apply(this,arguments)}function P_(u,r,a){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,fe.Z)(function*(u,r,a){const c=u.Ur.shift(),h=pd.from(c,r,a);yield Ap(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield Vl(u)})).apply(this,arguments)}function k_(u,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,fe.Z)(function*(u,r){var a;r&&Ul(u).Pr&&(yield(a=(0,fe.Z)(function*(c,h){if(uh(_=h.code)&&_!==E.ABORTED){const T=c.Ur.shift();Ul(c).hr(),yield Ap(c,()=>c.remoteSyncer.rejectFailedWrite(T.batchId,h)),yield Vl(c)}var _}),function(c,h){return a.apply(this,arguments)})(u,r)),bd(u)&&$m(u)})).apply(this,arguments)}function io(u,r){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,fe.Z)(function*(u,r){const a=S(u);r?(a.Kr.delete(2),yield kl(a)):r||(a.Kr.add(2),yield el(a),a.Wr.set("Unknown"))})).apply(this,arguments)}function Mc(u){return u.zr||(u.zr=function(r,a,c){const h=S(r);return h.Cr(),new Ww(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:O_.bind(null,u),Ci:Rc.bind(null,u),Tr:Nc.bind(null,u)}),u.jr.push(function(){var r=(0,fe.Z)(function*(a){a?(u.zr.hr(),Dp(u)?vd(u):u.Wr.set("Unknown")):(yield u.zr.stop(),jm(u))});return function(a){return r.apply(this,arguments)}}())),u.zr}function Ul(u){return u.Hr||(u.Hr=function(r,a,c){const h=S(r);return h.Cr(),new Xu(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:Gm.bind(null,u),Ci:k_.bind(null,u),Vr:Wm.bind(null,u),vr:P_.bind(null,u)}),u.jr.push(function(){var r=(0,fe.Z)(function*(a){a?(u.Hr.hr(),yield Vl(u)):(yield u.Hr.stop(),u.Ur.length>0&&(Ct("RemoteStore",`Stopping write stream with ${u.Ur.length} pending writes`),u.Ur=[]))});return function(a){return r.apply(this,arguments)}}())),u.Hr}class qm{constructor(r,a,c,h,_){this.asyncQueue=r,this.timerId=a,this.targetTimeMs=c,this.op=h,this.removalCallback=_,this.deferred=new O,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}static createAndSchedule(r,a,c,h,_){const T=Date.now()+c,F=new qm(r,a,T,h,_);return F.start(c),F}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(E.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bl(u,r){if(Sr("AsyncQueue",`${r}: ${u}`),au(u))return new w(E.UNAVAILABLE,`${r}: ${u}`);throw u}class Cd{constructor(r){this.comparator=r?(a,c)=>r(a,c)||Nt.comparator(a.key,c.key):(a,c)=>Nt.comparator(a.key,c.key),this.keyedMap=sd(),this.sortedSet=new hi(this.comparator)}static emptySet(r){return new Cd(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const a=this.keyedMap.get(r);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((a,c)=>(r(a),!1))}add(r){const a=this.delete(r.key);return a.copy(a.keyedMap.insert(r.key,r),a.sortedSet.insert(r,null))}delete(r){const a=this.get(r);return a?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(a)):this}isEqual(r){if(!(r instanceof Cd)||this.size!==r.size)return!1;const a=this.sortedSet.getIterator(),c=r.sortedSet.getIterator();for(;a.hasNext();){const h=a.getNext().key,_=c.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const r=[];return this.forEach(a=>{r.push(a.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,a){const c=new Cd;return c.comparator=this.comparator,c.keyedMap=r,c.sortedSet=a,c}}class Zm{constructor(){this.Jr=new hi(Nt.comparator)}track(r){const a=r.doc.key,c=this.Jr.get(a);c?0!==r.type&&3===c.type?this.Jr=this.Jr.insert(a,r):3===r.type&&1!==c.type?this.Jr=this.Jr.insert(a,{type:c.type,doc:r.doc}):2===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):2===r.type&&0===c.type?this.Jr=this.Jr.insert(a,{type:0,doc:r.doc}):1===r.type&&0===c.type?this.Jr=this.Jr.remove(a):1===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:1,doc:c.doc}):0===r.type&&1===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):jt():this.Jr=this.Jr.insert(a,r)}Yr(){const r=[];return this.Jr.inorderTraversal((a,c)=>{r.push(c)}),r}}class tl{constructor(r,a,c,h,_,T,F,W){this.query=r,this.docs=a,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=_,this.fromCache=T,this.syncStateChanged=F,this.excludesMetadataChanges=W}static fromInitialDocuments(r,a,c,h){const _=[];return a.forEach(T=>{_.push({type:0,doc:T})}),new tl(r,a,Cd.emptySet(a),_,c,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&$o(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const a=this.docChanges,c=r.docChanges;if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++)if(a[h].type!==c[h].type||!a[h].doc.isEqual(c[h].doc))return!1;return!0}}class Km{constructor(){this.Xr=void 0,this.listeners=[]}}class F_{constructor(){this.queries=new uu(r=>Go(r),$o),this.onlineState="Unknown",this.Zr=new Set}}function Np(u,r){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,fe.Z)(function*(u,r){const a=S(u),c=r.query;let h=!1,_=a.queries.get(c);if(_||(h=!0,_=new Km),h)try{_.Xr=yield a.onListen(c)}catch(T){const F=Bl(T,`Initialization of query '${Pu(r.query)}' failed`);return void r.onError(F)}a.queries.set(c,_),_.listeners.push(r),r.eo(a.onlineState),_.Xr&&r.no(_.Xr)&&Pp(a)})).apply(this,arguments)}function zh(u,r){return Op.apply(this,arguments)}function Op(){return(Op=(0,fe.Z)(function*(u,r){const a=S(u),c=r.query;let h=!1;const _=a.queries.get(c);if(_){const T=_.listeners.indexOf(r);T>=0&&(_.listeners.splice(T,1),h=0===_.listeners.length)}if(h)return a.queries.delete(c),a.onUnlisten(c)})).apply(this,arguments)}function Ym(u,r){const a=S(u);let c=!1;for(const h of r){const T=a.queries.get(h.query);if(T){for(const F of T.listeners)F.no(h)&&(c=!0);T.Xr=h}}c&&Pp(a)}function L_(u,r,a){const c=S(u),h=c.queries.get(r);if(h)for(const _ of h.listeners)_.onError(a);c.queries.delete(r)}function Pp(u){u.Zr.forEach(r=>{r.next()})}class Wh{constructor(r,a,c){this.query=r,this.so=a,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=c||{}}no(r){if(!this.options.includeMetadataChanges){const c=[];for(const h of r.docChanges)3!==h.type&&c.push(h);r=new tl(r.query,r.docs,r.oldDocs,c,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let a=!1;return this.io?this.oo(r)&&(this.so.next(r),a=!0):this.ao(r,this.onlineState)&&(this.co(r),a=!0),this.ro=r,a}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let a=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),a=!0),a}ao(r,a){return!r.fromCache||!(this.options.uo&&"Offline"!==a||r.docs.isEmpty()&&"Offline"!==a)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=tl.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class Qm{constructor(r,a){this.payload=r,this.byteLength=a}ho(){return"metadata"in this.payload}}class Jm{constructor(r){this.N=r}zn(r){return ar(this.N,r)}Hn(r){return r.metadata.exists?vc(this.N,r.document,!1):xr.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return ei(r)}}class Oa{constructor(r,a,c){this.lo=r,this.localStore=a,this.N=c,this.queries=[],this.documents=[],this.progress=qh(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let a=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++a):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++a),a!==this.progress.documentsLoaded?(this.progress.documentsLoaded=a,Object.assign({},this.progress)):null}wo(r){const a=new Map,c=new Jm(this.N);for(const h of r)if(h.metadata.queries){const _=c.zn(h.metadata.name);for(const T of h.metadata.queries){const F=(a.get(T)||Jn()).add(_);a.set(T,F)}}return a}complete(){var r=this;return(0,fe.Z)(function*(){const a=yield function(u,r,a,c){return gp.apply(this,arguments)}(r.localStore,new Jm(r.N),r.documents,r.lo.id),c=r.wo(r.documents);for(const h of r.queries)yield mp(r.localStore,h,c.get(h.name));return r.progress.taskState="Success",new xm(Object.assign({},r.progress),a)})()}}function qh(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Xm{constructor(r){this.key=r}}class ey{constructor(r){this.key=r}}class V_{constructor(r,a){this.query=r,this._o=a,this.mo=null,this.current=!1,this.yo=Jn(),this.mutatedKeys=Jn(),this.po=nh(r),this.Eo=new Cd(this.po)}get To(){return this._o}Io(r,a){const c=a?a.Ao:new Zm,h=a?a.Eo:this.Eo;let _=a?a.mutatedKeys:this.mutatedKeys,T=h,F=!1;const W=yl(this.query)&&h.size===this.query.limit?h.last():null,ie=Jc(this.query)&&h.size===this.query.limit?h.first():null;if(r.inorderTraversal((ce,Te)=>{const Xe=h.get(ce),dt=go(this.query,Te)?Te:null,xt=!!Xe&&this.mutatedKeys.has(Xe.key),nn=!!dt&&(dt.hasLocalMutations||this.mutatedKeys.has(dt.key)&&dt.hasCommittedMutations);let Sn=!1;Xe&&dt?Xe.data.isEqual(dt.data)?xt!==nn&&(c.track({type:3,doc:dt}),Sn=!0):this.Ro(Xe,dt)||(c.track({type:2,doc:dt}),Sn=!0,(W&&this.po(dt,W)>0||ie&&this.po(dt,ie)<0)&&(F=!0)):!Xe&&dt?(c.track({type:0,doc:dt}),Sn=!0):Xe&&!dt&&(c.track({type:1,doc:Xe}),Sn=!0,(W||ie)&&(F=!0)),Sn&&(dt?(T=T.add(dt),_=nn?_.add(ce):_.delete(ce)):(T=T.delete(ce),_=_.delete(ce)))}),yl(this.query)||Jc(this.query))for(;T.size>this.query.limit;){const ce=yl(this.query)?T.last():T.first();T=T.delete(ce.key),_=_.delete(ce.key),c.track({type:1,doc:ce})}return{Eo:T,Ao:c,Ln:F,mutatedKeys:_}}Ro(r,a){return r.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(r,a,c){const h=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const _=r.Ao.Yr();_.sort((ie,ce)=>function(Te,Xe){const dt=xt=>{switch(xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return dt(Te)-dt(Xe)}(ie.type,ce.type)||this.po(ie.doc,ce.doc)),this.Po(c);const T=a?this.bo():[],F=0===this.yo.size&&this.current?1:0,W=F!==this.mo;return this.mo=F,0!==_.length||W?{snapshot:new tl(this.query,r.Eo,h,_,r.mutatedKeys,0===F,W,!1),vo:T}:{vo:T}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Zm,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(a=>this._o=this._o.add(a)),r.modifiedDocuments.forEach(a=>{}),r.removedDocuments.forEach(a=>this._o=this._o.delete(a)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=Jn(),this.Eo.forEach(c=>{this.Vo(c.key)&&(this.yo=this.yo.add(c.key))});const a=[];return r.forEach(c=>{this.yo.has(c)||a.push(new ey(c))}),this.yo.forEach(c=>{r.has(c)||a.push(new Xm(c))}),a}So(r){this._o=r.Gn,this.yo=Jn();const a=this.Io(r.documents);return this.applyChanges(a,!0)}Do(){return tl.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class ty{constructor(r,a,c){this.query=r,this.targetId=a,this.view=c}}class U_{constructor(r){this.key=r,this.Co=!1}}class B_{constructor(r,a,c,h,_,T){this.localStore=r,this.remoteStore=a,this.eventManager=c,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=T,this.No={},this.xo=new uu(F=>Go(F),$o),this.ko=new Map,this.$o=new Set,this.Oo=new hi(Nt.comparator),this.Fo=new Map,this.Mo=new Ph,this.Lo={},this.Bo=new Map,this.Uo=Qu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function j_(u,r){return Id.apply(this,arguments)}function Id(){return(Id=(0,fe.Z)(function*(u,r){const a=qp(u);let c,h;const _=a.xo.get(r);if(_)c=_.targetId,a.sharedClientState.addLocalQueryTarget(c),h=_.view.Do();else{const T=yield Ac(a.localStore,eo(r)),F=a.sharedClientState.addLocalQueryTarget(T.targetId);c=T.targetId,h=yield kp(a,r,c,"current"===F),a.isPrimaryClient&&ca(a.remoteStore,T)}return h})).apply(this,arguments)}function kp(u,r,a,c){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,fe.Z)(function*(u,r,a,c){u.Ko=(ce,Te,Xe)=>{return(dt=(0,fe.Z)(function*(xt,nn,Sn,pi){let Bs=nn.view.Io(Sn);Bs.Ln&&(Bs=yield Tn(xt.localStore,nn.query,!1).then(({documents:Gd})=>nn.view.Io(Gd,Bs)));const Ua=pi&&pi.targetChanges.get(nn.targetId),pa=nn.view.applyChanges(Bs,xt.isPrimaryClient,Ua);return Vp(xt,nn.targetId,pa.vo),pa.snapshot}),function(xt,nn,Sn,pi){return dt.apply(this,arguments)})(u,ce,Te,Xe);var dt};const h=yield Tn(u.localStore,r,!0),_=new V_(r,h.Gn),T=_.Io(h.documents),F=pc.createSynthesizedTargetChangeForCurrentChange(a,c&&"Offline"!==u.onlineState),W=_.applyChanges(T,u.isPrimaryClient,F);Vp(u,a,W.vo);const ie=new ty(r,a,_);return u.xo.set(r,ie),u.ko.has(a)?u.ko.get(a).push(r):u.ko.set(a,[r]),W.snapshot})).apply(this,arguments)}function Zh(u,r){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,fe.Z)(function*(u,r){const a=S(u),c=a.xo.get(r),h=a.ko.get(c.targetId);if(h.length>1)return a.ko.set(c.targetId,h.filter(_=>!$o(_,r))),void a.xo.delete(r);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Sc(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),xc(a.remoteStore,c.targetId),hu(a,c.targetId)}).catch(Ma))):(hu(a,c.targetId),yield Sc(a.localStore,c.targetId,!0))})).apply(this,arguments)}function Td(){return(Td=(0,fe.Z)(function*(u,r,a){const c=ly(u);try{const h=yield function(_,T){const F=S(_),W=Qn.now(),ie=T.reduce((Te,Xe)=>Te.add(Xe.key),Jn());let ce;return F.persistence.runTransaction("Locally write mutations","readwrite",Te=>F.Qn.bn(Te,ie).next(Xe=>{ce=Xe;const dt=[];for(const xt of T){const nn=sh(xt,ce.get(xt.key));null!=nn&&dt.push(new ks(xt.key,nn,ps(nn.value.mapValue),wi.exists(!0)))}return F.In.addMutationBatch(Te,W,dt,T)})).then(Te=>(Te.applyToLocalDocumentSet(ce),{batchId:Te.batchId,changes:ce}))}(c.localStore,r);c.sharedClientState.addPendingMutation(h.batchId),function(_,T,F){let W=_.Lo[_.currentUser.toKey()];W||(W=new hi(kt)),W=W.insert(T,F),_.Lo[_.currentUser.toKey()]=W}(c,h.batchId,a),yield Pa(c,h.changes),yield Vl(c.remoteStore)}catch(h){const _=Bl(h,"Failed to persist write");a.reject(_)}})).apply(this,arguments)}function Kh(u,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,fe.Z)(function*(u,r){const a=S(u);try{const c=yield T_(a.localStore,r);r.targetChanges.forEach((h,_)=>{const T=a.Fo.get(_);T&&(fn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?T.Co=!0:h.modifiedDocuments.size>0?fn(T.Co):h.removedDocuments.size>0&&(fn(T.Co),T.Co=!1))}),yield Pa(a,c,r)}catch(c){yield Ma(c)}})).apply(this,arguments)}function ny(u,r,a){const c=S(u);if(c.isPrimaryClient&&0===a||!c.isPrimaryClient&&1===a){const h=[];c.xo.forEach((_,T)=>{const F=T.view.eo(r);F.snapshot&&h.push(F.snapshot)}),function(_,T){const F=S(_);F.onlineState=T;let W=!1;F.queries.forEach((ie,ce)=>{for(const Te of ce.listeners)Te.eo(T)&&(W=!0)}),W&&Pp(F)}(c.eventManager,r),h.length&&c.No.Tr(h),c.onlineState=r,c.isPrimaryClient&&c.sharedClientState.setOnlineState(r)}}function $_(u,r,a){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,fe.Z)(function*(u,r,a){const c=S(u);c.sharedClientState.updateQueryState(r,"rejected",a);const h=c.Fo.get(r),_=h&&h.key;if(_){let T=new hi(Nt.comparator);T=T.insert(_,xr.newNoDocument(_,pn.min()));const F=Jn().add(_),W=new ju(pn.min(),new Map,new Xr(kt),T,F);yield Kh(c,W),c.Oo=c.Oo.remove(_),c.Fo.delete(r),nl(c)}else yield Sc(c.localStore,r,!1).then(()=>hu(c,r,a)).catch(Ma)})).apply(this,arguments)}function qw(u,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,fe.Z)(function*(u,r){const a=S(u),c=r.batch.batchId;try{const h=yield D_(a.localStore,r);da(a,c,null),Xh(a,c),a.sharedClientState.updateMutationState(c,"acknowledged"),yield Pa(a,h)}catch(h){yield Ma(h)}})).apply(this,arguments)}function ry(u,r,a){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,fe.Z)(function*(u,r,a){const c=S(u);try{const h=yield function(_,T){const F=S(_);return F.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let ie;return F.In.lookupMutationBatch(W,T).next(ce=>(fn(null!==ce),ie=ce.keys(),F.In.removeMutationBatch(W,ce))).next(()=>F.In.performConsistencyCheck(W)).next(()=>F.Qn.bn(W,ie))})}(c.localStore,r);da(c,r,a),Xh(c,r),c.sharedClientState.updateMutationState(r,"rejected",a),yield Pa(c,h)}catch(h){yield Ma(h)}})).apply(this,arguments)}function Jh(){return(Jh=(0,fe.Z)(function*(u,r){const a=S(u);cu(a.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(_){const T=S(_);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>T.In.getHighestUnacknowledgedBatchId(F))}(a.localStore);if(-1===c)return void r.resolve();const h=a.Bo.get(c)||[];h.push(r),a.Bo.set(c,h)}catch(c){const h=Bl(c,"Initialization of waitForPendingWrites() operation failed");r.reject(h)}})).apply(this,arguments)}function Xh(u,r){(u.Bo.get(r)||[]).forEach(a=>{a.resolve()}),u.Bo.delete(r)}function da(u,r,a){const c=S(u);let h=c.Lo[c.currentUser.toKey()];if(h){const _=h.get(r);_&&(a?_.reject(a):_.resolve(),h=h.remove(r)),c.Lo[c.currentUser.toKey()]=h}}function hu(u,r,a=null){u.sharedClientState.removeLocalQueryTarget(r);for(const c of u.ko.get(r))u.xo.delete(c),a&&u.No.jo(c,a);u.ko.delete(r),u.isPrimaryClient&&u.Mo.cs(r).forEach(c=>{u.Mo.containsKey(c)||sy(u,c)})}function sy(u,r){u.$o.delete(r.path.canonicalString());const a=u.Oo.get(r);null!==a&&(xc(u.remoteStore,a),u.Oo=u.Oo.remove(r),u.Fo.delete(a),nl(u))}function Vp(u,r,a){for(const c of a)c instanceof Xm?(u.Mo.addReference(c.key,r),Zw(u,c)):c instanceof ey?(Ct("SyncEngine","Document no longer in limbo: "+c.key),u.Mo.removeReference(c.key,r),u.Mo.containsKey(c.key)||sy(u,c.key)):jt()}function Zw(u,r){const a=r.key,c=a.path.canonicalString();u.Oo.get(a)||u.$o.has(c)||(Ct("SyncEngine","New document in limbo: "+a),u.$o.add(c),nl(u))}function nl(u){for(;u.$o.size>0&&u.Oo.size<u.maxConcurrentLimboResolutions;){const r=u.$o.values().next().value;u.$o.delete(r);const a=new Nt(or.fromString(r)),c=u.Uo.next();u.Fo.set(c,new U_(a)),u.Oo=u.Oo.insert(a,c),ca(u.remoteStore,new Na(eo(Pr(a.path)),c,2,Ut.T))}}function Pa(u,r,a){return jl.apply(this,arguments)}function jl(){return(jl=(0,fe.Z)(function*(u,r,a){const c=S(u),h=[],_=[],T=[];var F;c.xo.isEmpty()||(c.xo.forEach((F,W)=>{T.push(c.Ko(W,r,a).then(ie=>{if(ie){c.isPrimaryClient&&c.sharedClientState.updateQueryState(W.targetId,ie.fromCache?"not-current":"current"),h.push(ie);const ce=Nh.kn(W.targetId,ie);_.push(ce)}}))}),yield Promise.all(T),c.No.Tr(h),yield(F=(0,fe.Z)(function*(W,ie){const ce=S(W);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Te=>ft.forEach(ie,Xe=>ft.forEach(Xe.Nn,dt=>ce.persistence.referenceDelegate.addReference(Te,Xe.targetId,dt)).next(()=>ft.forEach(Xe.xn,dt=>ce.persistence.referenceDelegate.removeReference(Te,Xe.targetId,dt)))))}catch(Te){if(!au(Te))throw Te;Ct("LocalStore","Failed to update sequence numbers: "+Te)}for(const Te of ie){const Xe=Te.targetId;if(!Te.fromCache){const dt=ce.Un.get(Xe),nn=dt.withLastLimboFreeSnapshotVersion(dt.snapshotVersion);ce.Un=ce.Un.insert(Xe,nn)}}}),function(W,ie){return F.apply(this,arguments)})(c.localStore,_))})).apply(this,arguments)}function Sd(u,r){return Up.apply(this,arguments)}function Up(){return(Up=(0,fe.Z)(function*(u,r){const a=S(u);if(!a.currentUser.isEqual(r)){Ct("SyncEngine","User change. New user:",r.toKey());const c=yield Mm(a.localStore,r);a.currentUser=r,(h=a).Bo.forEach(T=>{T.forEach(F=>{F.reject(new w(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Bo.clear(),a.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),yield Pa(a,c.Wn)}var h})).apply(this,arguments)}function Bp(u,r){const a=S(u),c=a.Fo.get(r);if(c&&c.Co)return Jn().add(c.key);{let h=Jn();const _=a.ko.get(r);if(!_)return h;for(const T of _){const F=a.xo.get(T);h=h.unionWith(F.view.To)}return h}}function oy(u,r){return jp.apply(this,arguments)}function jp(){return(jp=(0,fe.Z)(function*(u,r){const a=S(u),c=yield Tn(a.localStore,r.query,!0),h=r.view.So(c);return a.isPrimaryClient&&Vp(a,r.targetId,h.vo),h})).apply(this,arguments)}function ay(u){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,fe.Z)(function*(u){const r=S(u);return pp(r.localStore).then(a=>Pa(r,a))})).apply(this,arguments)}function $p(u,r,a,c){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,fe.Z)(function*(u,r,a,c){const h=S(u),_=yield function(T,F){const W=S(T),ie=S(W.In);return W.persistence.runTransaction("Lookup mutation documents","readonly",ce=>ie.Xt(ce,F).next(Te=>Te?W.Qn.bn(ce,Te):ft.resolve(null)))}(h.localStore,r);var F;null!==_?("pending"===a?yield Vl(h.remoteStore):"acknowledged"===a||"rejected"===a?(da(h,r,c||null),Xh(h,r),F=r,S(S(h.localStore).In).te(F)):jt(),yield Pa(h,_)):Ct("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function ef(){return(ef=(0,fe.Z)(function*(u,r){const a=S(u);if(qp(a),ly(a),!0===r&&!0!==a.qo){const c=a.sharedClientState.getAllActiveQueryTargets(),h=yield Hl(a,c.toArray());a.qo=!0,yield io(a.remoteStore,!0);for(const _ of h)ca(a.remoteStore,_)}else if(!1===r&&!1!==a.qo){const c=[];let h=Promise.resolve();a.ko.forEach((_,T)=>{a.sharedClientState.isLocalQueryTarget(T)?c.push(T):h=h.then(()=>(hu(a,T),Sc(a.localStore,T,!0))),xc(a.remoteStore,T)}),yield h,yield Hl(a,c),function(_){const T=S(_);T.Fo.forEach((F,W)=>{xc(T.remoteStore,W)}),T.Mo.us(),T.Fo=new Map,T.Oo=new hi(Nt.comparator)}(a),a.qo=!1,yield io(a.remoteStore,!1)}})).apply(this,arguments)}function Hl(u,r,a){return tf.apply(this,arguments)}function tf(){return(tf=(0,fe.Z)(function*(u,r,a){const c=S(u),h=[],_=[];for(const T of r){let F;const W=c.ko.get(T);if(W&&0!==W.length){F=yield Ac(c.localStore,eo(W[0]));for(const ie of W){const ce=c.xo.get(ie),Te=yield oy(c,ce);Te.snapshot&&_.push(Te.snapshot)}}else{const ie=yield fp(c.localStore,T);F=yield Ac(c.localStore,ie),yield kp(c,uy(ie),T,!1)}h.push(F)}return c.No.Tr(_),h})).apply(this,arguments)}function uy(u){return oc(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function z_(u){const r=S(u);return S(S(r.localStore).persistence).pn()}function Oc(u,r,a,c){return zp.apply(this,arguments)}function zp(){return(zp=(0,fe.Z)(function*(u,r,a,c){const h=S(u);if(h.qo)Ct("SyncEngine","Ignoring unexpected query state notification.");else if(h.ko.has(r))switch(a){case"current":case"not-current":{const _=yield pp(h.localStore),T=ju.createSynthesizedRemoteEventForCurrentChange(r,"current"===a);yield Pa(h,_,T);break}case"rejected":yield Sc(h.localStore,r,!0),hu(h,r,c);break;default:jt()}})).apply(this,arguments)}function W_(u,r,a){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,fe.Z)(function*(u,r,a){const c=qp(u);if(c.qo){for(const h of r){if(c.ko.has(h)){Ct("SyncEngine","Adding an already active target "+h);continue}const _=yield fp(c.localStore,h),T=yield Ac(c.localStore,_);yield kp(c,uy(_),T.targetId,!1),ca(c.remoteStore,T)}for(const h of a)c.ko.has(h)&&(yield Sc(c.localStore,h,!1).then(()=>{xc(c.remoteStore,h),hu(c,h)}).catch(Ma))}})).apply(this,arguments)}function qp(u){const r=S(u);return r.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bp.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=$_.bind(null,r),r.No.Tr=Ym.bind(null,r.eventManager),r.No.jo=L_.bind(null,r.eventManager),r}function ly(u){const r=S(u);return r.remoteStore.remoteSyncer.applySuccessfulWrite=qw.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=ry.bind(null,r),r}class Zp{constructor(){this.synchronizeTabs=!1}initialize(r){var a=this;return(0,fe.Z)(function*(){a.N=jh(r.databaseInfo.databaseId),a.sharedClientState=a.Wo(r),a.persistence=a.Go(r),yield a.persistence.start(),a.gcScheduler=a.zo(r),a.localStore=a.Ho(r)})()}zo(r){return null}Ho(r){return Yo(this.persistence,new Nm,r.initialUser,this.N)}Go(r){return new kh(yd.Ns,this.N)}Wo(r){return new Bh}terminate(){var r=this;return(0,fe.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class Er extends Zp{constructor(r,a,c){super(),this.Jo=r,this.cacheSizeBytes=a,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(r){var a=()=>super.initialize,c=this;return(0,fe.Z)(function*(){yield a().call(c,r),yield function(u){return Ro.apply(this,arguments)}(c.localStore),yield c.Jo.initialize(c,r),yield ly(c.Jo.syncEngine),yield Vl(c.Jo.remoteStore),yield c.persistence.nn(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}Ho(r){return Yo(this.persistence,new Nm,r.initialUser,this.N)}zo(r){return new Cm(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const a=Sm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new Rh(this.synchronizeTabs,a,r.clientId,c,r.asyncQueue,x_(),Ep(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new Bh}}class Kp extends Er{constructor(r,a){super(r,a,!1),this.Jo=r,this.cacheSizeBytes=a,this.synchronizeTabs=!0}initialize(r){var a=()=>super.initialize,c=this;return(0,fe.Z)(function*(){yield a().call(c,r);const h=c.Jo.syncEngine;c.sharedClientState instanceof wp&&(c.sharedClientState.syncEngine={_i:$p.bind(null,h),mi:Oc.bind(null,h),gi:W_.bind(null,h),pn:z_.bind(null,h),wi:ay.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.nn(function(){var _=(0,fe.Z)(function*(T){yield function(u,r){return ef.apply(this,arguments)}(c.Jo.syncEngine,T),c.gcScheduler&&(T&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):T||c.gcScheduler.stop())});return function(T){return _.apply(this,arguments)}}())})()}Wo(r){const a=x_();if(!wp.Pt(a))throw new w(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Sm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new wp(a,r.asyncQueue,c,r.clientId,r.initialUser)}}class cy{initialize(r,a){var c=this;return(0,fe.Z)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(a),c.remoteStore=c.createRemoteStore(a),c.eventManager=c.createEventManager(a),c.syncEngine=c.createSyncEngine(a,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>ny(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=Sd.bind(null,c.syncEngine),yield io(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new F_}createDatastore(r){const a=jh(r.databaseInfo.databaseId),c=new zw(r.databaseInfo);return new bp(r.credentials,c,a)}createRemoteStore(r){return a=this.localStore,c=this.datastore,h=r.asyncQueue,_=F=>ny(this.syncEngine,F,0),T=S_.Pt()?new S_:new Hw,new Bm(a,c,h,_,T);var a,c,h,_,T}createSyncEngine(r,a){return function(c,h,_,T,F,W,ie){const ce=new B_(c,h,_,T,F,W);return ie&&(ce.qo=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){return(r=(0,fe.Z)(function*(a){const c=S(a);Ct("RemoteStore","RemoteStore shutting down."),c.Kr.add(5),yield el(c),c.Qr.shutdown(),c.Wr.set("Unknown")}),function(a){return r.apply(this,arguments)})(this.remoteStore);var r}}function ka(u,r=10240){let a=0;return{read:()=>(0,fe.Z)(function*(){if(a<u.byteLength){const c={value:u.slice(a,a+r),done:!1};return a+=r,c}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pc{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,a){this.muted||setTimeout(()=>{this.muted||r(a)},0)}}class Yp{constructor(r,a){this.Zo=r,this.N=a,this.metadata=new O,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(c=>{c&&c.ho()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,fe.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,fe.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,fe.Z)(function*(){const a=yield r.na();if(null===a)return null;const c=r.ta.decode(a),h=Number(c);isNaN(h)&&r.sa(`length string (${c}) is not valid number`);const _=yield r.ia(h);return new Qm(JSON.parse(_),a.length+h)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,fe.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const a=r.ra();a<0&&r.sa("Reached the end of bundle when a length string is expected.");const c=r.buffer.slice(0,a);return r.buffer=r.buffer.slice(a),c})()}ia(r){var a=this;return(0,fe.Z)(function*(){for(;a.buffer.length<r;)(yield a.oa())&&a.sa("Reached the end of bundle when more is expected.");const c=a.ta.decode(a.buffer.slice(0,r));return a.buffer=a.buffer.slice(r),c})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,fe.Z)(function*(){const a=yield r.Zo.read();if(!a.done){const c=new Uint8Array(r.buffer.length+a.value.length);c.set(r.buffer),c.set(a.value,r.buffer.length),r.buffer=c}return a.done})()}}class Kw{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var a=this;return(0,fe.Z)(function*(){if(a.ensureCommitNotCalled(),a.mutations.length>0)throw new w(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,fe.Z)(function*(_,T){const F=S(_),W=Ao(F.N)+"/documents",ie={documents:T.map(dt=>Gu(F.N,dt))},ce=yield F.Ki("BatchGetDocuments",W,ie),Te=new Map;ce.forEach(dt=>{const xt=function(u,r){return"found"in r?function(a,c){fn(!!c.found);const h=ar(a,c.found.name),_=ei(c.found.updateTime),T=new Ri({mapValue:{fields:c.found.fields}});return xr.newFoundDocument(h,_,T)}(u,r):"missing"in r?function(a,c){fn(!!c.missing),fn(!!c.readTime);const h=ar(a,c.missing),_=ei(c.readTime);return xr.newNoDocument(h,_)}(u,r):jt()}(F.N,dt);Te.set(xt.key.toString(),xt)});const Xe=[];return T.forEach(dt=>{const xt=Te.get(dt.toString());fn(!!xt),Xe.push(xt)}),Xe}),function(_,T){return h.apply(this,arguments)})(a.datastore,r);var h;return c.forEach(h=>a.recordVersion(h)),c})()}set(r,a){this.write(a.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,a){try{this.write(a.toMutation(r,this.preconditionForUpdate(r)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(r.toString())}delete(r){this.write(new El(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,fe.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const a=r.readVersions;var c;r.mutations.forEach(c=>{a.delete(c.key.toString())}),a.forEach((c,h)=>{const _=Nt.fromPath(h);r.mutations.push(new to(_,r.precondition(_)))}),yield(c=(0,fe.Z)(function*(h,_){const T=S(h),F=Ao(T.N)+"/documents",W={writes:_.map(ie=>Dl(T.N,ie))};yield T.Li("Commit",F,W)}),function(h,_){return c.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let a;if(r.isFoundDocument())a=r.version;else{if(!r.isNoDocument())throw jt();a=pn.min()}const c=this.readVersions.get(r.key.toString());if(c){if(!a.isEqual(c))throw new w(E.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),a)}precondition(r){const a=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&a?wi.updateTime(a):wi.none()}preconditionForUpdate(r){const a=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&a){if(a.isEqual(pn.min()))throw new w(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wi.updateTime(a)}return wi.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class Z_{constructor(r,a,c,h){this.asyncQueue=r,this.datastore=a,this.updateFunction=c,this.deferred=h,this.aa=5,this.rr=new Um(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,fe.Z)(function*(){const a=new Kw(r.datastore),c=r.ua(a);c&&c.then(h=>{r.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{r.deferred.resolve(h)}).catch(_=>{r.ha(_)}))}).catch(h=>{r.ha(h)})}))}ua(r){try{const a=this.updateFunction(r);return!Tu(a)&&a.catch&&a.then?a:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const a=r.code;return"aborted"===a||"failed-precondition"===a||!uh(a)}return!1}}class K_{constructor(r,a,c){var h=this;this.credentials=r,this.asyncQueue=a,this.databaseInfo=c,this.user=Jr.UNAUTHENTICATED,this.clientId=fr.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(a,function(){var _=(0,fe.Z)(function*(T){Ct("FirestoreClient","Received user=",T.uid),yield h.credentialListener(T),h.user=T});return function(T){return _.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,fe.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const a=new O;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),a.resolve()}catch(c){const h=Bl(c,"Failed to shutdown persistence");a.reject(h)}})),a.promise}}function Qp(u,r){return nf.apply(this,arguments)}function nf(){return(nf=(0,fe.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const a=yield u.getConfiguration();yield r.initialize(a);let c=a.initialUser;u.setCredentialChangeListener(function(){var h=(0,fe.Z)(function*(_){c.isEqual(_)||(yield Mm(r.localStore,_),c=_)});return function(_){return h.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=r})).apply(this,arguments)}function Jp(u,r){return rf.apply(this,arguments)}function rf(){return(rf=(0,fe.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress();const a=yield Xp(u);Ct("FirestoreClient","Initializing OnlineComponentProvider");const c=yield u.getConfiguration();yield r.initialize(a,c),u.setCredentialChangeListener(h=>{return(_=(0,fe.Z)(function*(T,F){const W=S(T);W.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const ie=cu(W);W.Kr.add(3),yield el(W),ie&&W.Wr.set("Unknown"),yield W.remoteSyncer.handleCredentialChange(F),W.Kr.delete(3),yield kl(W)}),function(T,F){return _.apply(this,arguments)})(r.remoteStore,h);var _}),u.onlineComponents=r})).apply(this,arguments)}function Xp(u){return eg.apply(this,arguments)}function eg(){return(eg=(0,fe.Z)(function*(u){return u.offlineComponents||(Ct("FirestoreClient","Using default OfflineComponentProvider"),yield Qp(u,new Zp)),u.offlineComponents})).apply(this,arguments)}function rl(u){return xd.apply(this,arguments)}function xd(){return(xd=(0,fe.Z)(function*(u){return u.onlineComponents||(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield Jp(u,new cy)),u.onlineComponents})).apply(this,arguments)}function tg(u){return Xp(u).then(r=>r.persistence)}function sf(u){return Xp(u).then(r=>r.localStore)}function ng(u){return rl(u).then(r=>r.remoteStore)}function of(u){return rl(u).then(r=>r.syncEngine)}function kc(u){return rg.apply(this,arguments)}function rg(){return(rg=(0,fe.Z)(function*(u){const r=yield rl(u),a=r.eventManager;return a.onListen=j_.bind(null,r.syncEngine),a.onUnlisten=Zh.bind(null,r.syncEngine),a})).apply(this,arguments)}function J_(u,r,a={}){const c=new O;return u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(h,_,T,F,W){const ie=new Pc({next:Te=>{_.enqueueAndForget(()=>zh(h,ce));const Xe=Te.docs.has(T);!Xe&&Te.fromCache?W.reject(new w(E.UNAVAILABLE,"Failed to get document because the client is offline.")):Xe&&Te.fromCache&&F&&"server"===F.source?W.reject(new w(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Te)},error:Te=>W.reject(Te)}),ce=new Wh(Pr(T.path),ie,{includeMetadataChanges:!0,uo:!0});return Np(h,ce)}(yield kc(u),u.asyncQueue,r,a,c)})),c.promise}function fy(u,r,a={}){const c=new O;return u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(h,_,T,F,W){const ie=new Pc({next:Te=>{_.enqueueAndForget(()=>zh(h,ce)),Te.fromCache&&"server"===F.source?W.reject(new w(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Te)},error:Te=>W.reject(Te)}),ce=new Wh(T,ie,{includeMetadataChanges:!0,uo:!0});return Np(h,ce)}(yield kc(u),u.asyncQueue,r,a,c)})),c.promise}class ev{constructor(r,a,c,h,_,T,F,W){this.databaseId=r,this.appId=a,this.persistenceKey=c,this.host=h,this.ssl=_,this.forceLongPolling=T,this.autoDetectLongPolling=F,this.useFetchStreams=W}}class $l{constructor(r,a){this.projectId=r,this.database=a||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof $l&&r.projectId===this.projectId&&r.database===this.database}}const sg=new Map;function py(u,r,a){if(!a)throw new w(E.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${r}.`)}function Qo(u,r,a,c){if(!0===r&&!0===c)throw new w(E.INVALID_ARGUMENT,`${u} and ${a} cannot be used together.`)}function tv(u){if(!Nt.isDocumentKey(u))throw new w(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function nv(u){if(Nt.isDocumentKey(u))throw new w(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function og(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const r=function(a){if(a.constructor){const c=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(c&&c.length>1)return c[1]}return null}(u);return r?`a custom ${r} object`:"an object"}}return"function"==typeof u?"a function":jt()}function rr(u,r){if("_delegate"in u&&(u=u._delegate),!(u instanceof r)){if(r.name===u.constructor.name)throw new w(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=og(u);throw new w(E.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${a}`)}}return u}function ag(u,r){if(r<=0)throw new w(E.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${r}.`)}class ug{constructor(r){var a;if(void 0===r.host){if(void 0!==r.ssl)throw new w(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(a=r.ssl)||void 0===a||a;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new w(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,Qo("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Rd{constructor(r,a){this._credentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1,r instanceof $l?this._databaseId=r:(this._app=r,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new w(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(c.options.projectId)}(r))}get app(){if(!this._app)throw new w(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new w(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(r),void 0!==r.credentials&&(this._credentials=function(a){if(!a)return new Y;switch(a.type){case"gapi":const c=a.client;return fn(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new Pt(c,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new w(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=sg.get(r);a&&(Ct("ComponentProvider","Removing Datastore"),sg.delete(r),a.terminate())}(this),Promise.resolve()}}class Br{constructor(r,a,c){this.converter=a,this._key=c,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Br(this.firestore,r,this._key)}}class ys{constructor(r,a,c){this.converter=a,this._query=c,this.type="query",this.firestore=r}withConverter(r){return new ys(this.firestore,r,this._query)}}class Fa extends ys{constructor(r,a,c){super(r,a,Pr(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Br(this.firestore,null,new Nt(r))}withConverter(r){return new Fa(this.firestore,r,this._path)}}function af(u,r,...a){if(u=(0,Ne.m9)(u),py("collection","path",r),u instanceof Rd){const c=or.fromString(r,...a);return nv(c),new Fa(u,null,c)}{if(!(u instanceof Br||u instanceof Fa))throw new w(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=or.fromString(u.path,...a).child(or.fromString(r));return nv(c),new Fa(u.firestore,null,c)}}function uf(u,r,...a){if(u=(0,Ne.m9)(u),1===arguments.length&&(r=fr.I()),py("doc","path",r),u instanceof Rd){const c=or.fromString(r,...a);return tv(c),new Br(u,null,new Nt(c))}{if(!(u instanceof Br||u instanceof Fa))throw new w(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(or.fromString(r,...a));return tv(c),new Br(u.firestore,u instanceof Fa?u.converter:null,new Nt(c))}}function gy(u,r){return u=(0,Ne.m9)(u),r=(0,Ne.m9)(r),(u instanceof Br||u instanceof Fa)&&(r instanceof Br||r instanceof Fa)&&u.firestore===r.firestore&&u.path===r.path&&u.converter===r.converter}function my(u,r){return u=(0,Ne.m9)(u),r=(0,Ne.m9)(r),u instanceof ys&&r instanceof ys&&u.firestore===r.firestore&&$o(u._query,r._query)&&u.converter===r.converter}class iv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Um(this,"async_queue_retry"),this.Ea=()=>{const a=Ep();a&&Ct("AsyncQueue","Visibility state changed to "+a.visibilityState),this.rr.tr()};const r=Ep();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const a=Ep();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const a=new O;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,fe.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(a){if(!au(a))throw a;Ct("AsyncQueue","Operation failed with retryable error: "+a)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const a=this.fa.then(()=>(this.ga=!0,r().catch(c=>{throw this.ma=c,this.ga=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(h){let _=h.message||"";return h.stack&&(_=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),_}(c)),c}).then(c=>(this.ga=!1,c))));return this.fa=a,a}enqueueAfterDelay(r,a,c){this.Ta(),this.pa.indexOf(r)>-1&&(a=0);const h=qm.createAndSchedule(this,r,a,c,_=>this.Ra(_));return this._a.push(h),h}Ta(){this.ma&&jt()}verifyOperationInProgress(){}Pa(){var r=this;return(0,fe.Z)(function*(){let a;do{a=r.fa,yield a}while(a!==r.fa)})()}ba(r){for(const a of this._a)if(a.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((a,c)=>a.targetTimeMs-c.targetTimeMs);for(const a of this._a)if(a.skipDelay(),"all"!==r&&a.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const a=this._a.indexOf(r);this._a.splice(a,1)}}function lg(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(u)}class lf{constructor(){this._progressObserver={},this._taskCompletionResolver=new O,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,a,c){this._progressObserver={next:r,error:a,complete:c}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,a){return this._taskCompletionResolver.promise.then(r,a)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class fi extends Rd{constructor(r,a){super(r,a),this.type="firestore",this._queue=new iv,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yy(this),this._firestoreClient.terminate()}}function us(u){return u._firestoreClient||yy(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function yy(u){var r;const a=u._freezeSettings(),c=(_=(null===(r=u._app)||void 0===r?void 0:r.options.appId)||"",new ev(u._databaseId,_,u._persistenceKey,(F=a).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var _,F;u._firestoreClient=new K_(u._credentials,u._queue,c)}function Lc(u,r,a){const c=new O;return u.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield Qp(u,a),yield Jp(u,r),c.resolve()}catch(h){if(!("FirebaseError"===(_=h).name?_.code===E.FAILED_PRECONDITION||_.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),c.reject(h)}var _})).then(()=>c.promise)}function zl(u){if(u._initialized||u._terminated)throw new w(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vo{constructor(...r){for(let a=0;a<r.length;++a)if(0===r[a].length)throw new w(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class so{constructor(r){this._byteString=r}static fromBase64String(r){try{return new so(Si.fromBase64String(r))}catch(a){throw new w(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(r){return new so(Si.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Xo{constructor(r){this._methodName=r}}class fu{constructor(r,a){if(!isFinite(r)||r<-90||r>90)throw new w(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(a)||a<-180||a>180)throw new w(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=r,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return kt(this._lat,r._lat)||kt(this._long,r._long)}}const Bc=/^__.*__$/;class vy{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return null!==this.fieldMask?new ks(r,this.data,this.fieldMask,a,this.fieldTransforms):new Wo(r,this.data,a,this.fieldTransforms)}}class dg{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return new ks(r,this.data,this.fieldMask,a,this.fieldTransforms)}}function hg(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class Md{constructor(r,a,c,h,_,T){this.settings=r,this.databaseId=a,this.N=c,this.ignoreUndefinedProperties=h,void 0===_&&this.Sa(),this.fieldTransforms=_||[],this.fieldMask=T||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new Md(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.ka(r),h}$a(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.Sa(),h}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return pf(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(a=>r.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>r.isPrefixOf(a.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(hg(this.Da)&&Bc.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class wy{constructor(r,a,c){this.databaseId=r,this.ignoreUndefinedProperties=a,this.N=c||jh(r)}Ba(r,a,c,h=!1){return new Md({Da:r,methodName:a,La:c,path:jn.emptyPath(),xa:!1,Ma:h},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function il(u){const r=u._freezeSettings(),a=jh(u._databaseId);return new wy(u._databaseId,!!r.ignoreUndefinedProperties,a)}function Od(u,r,a,c,h,_={}){const T=u.Ba(_.merge||_.mergeFields?2:0,r,a,h);ff("Data must be an object, but it was:",T,c);const F=mg(c,T);let W,ie;if(_.merge)W=new ba(T.fieldMask),ie=T.fieldTransforms;else if(_.mergeFields){const ce=[];for(const Te of _.mergeFields){const Xe=yg(r,Te,a);if(!T.contains(Xe))throw new w(E.INVALID_ARGUMENT,`Field '${Xe}' is specified in your field mask but missing from your input data.`);_g(ce,Xe)||ce.push(Xe)}W=new ba(ce),ie=T.fieldTransforms.filter(Te=>W.covers(Te.field))}else W=null,ie=T.fieldTransforms;return new vy(new Ri(F),W,ie)}class jc extends Xo{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof jc}}function fg(u,r,a){return new Md({Da:3,La:r.settings.La,methodName:u._methodName,xa:a},r.databaseId,r.N,r.ignoreUndefinedProperties)}class pg extends Xo{_toFieldTransform(r){return new zo(r.path,new Lu)}isEqual(r){return r instanceof pg}}class Ey extends Xo{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=fg(this,r,!0),c=this.Ua.map(_=>Wl(_,a)),h=new nu(c);return new zo(r.path,h)}isEqual(r){return this===r}}class sv extends Xo{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=fg(this,r,!0),c=this.Ua.map(_=>Wl(_,a)),h=new ru(c);return new zo(r.path,h)}isEqual(r){return this===r}}class by extends Xo{constructor(r,a){super(r),this.qa=a}_toFieldTransform(r){const a=new Vu(r.N,vl(r.N,this.qa));return new zo(r.path,a)}isEqual(r){return this===r}}function hf(u,r,a,c){const h=u.Ba(1,r,a);ff("Data must be an object, but it was:",h,c);const _=[],T=Ri.empty();Cs(c,(W,ie)=>{const ce=Iy(r,W,a);ie=(0,Ne.m9)(ie);const Te=h.$a(ce);if(ie instanceof jc)_.push(ce);else{const Xe=Wl(ie,Te);null!=Xe&&(_.push(ce),T.set(ce,Xe))}});const F=new ba(_);return new dg(T,F,h.fieldTransforms)}function gg(u,r,a,c,h,_){const T=u.Ba(1,r,a),F=[yg(r,c,a)],W=[h];if(_.length%2!=0)throw new w(E.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xe=0;Xe<_.length;Xe+=2)F.push(yg(r,_[Xe])),W.push(_[Xe+1]);const ie=[],ce=Ri.empty();for(let Xe=F.length-1;Xe>=0;--Xe)if(!_g(ie,F[Xe])){const dt=F[Xe];let xt=W[Xe];xt=(0,Ne.m9)(xt);const nn=T.$a(dt);if(xt instanceof jc)ie.push(dt);else{const Sn=Wl(xt,nn);null!=Sn&&(ie.push(dt),ce.set(dt,Sn))}}const Te=new ba(ie);return new dg(ce,Te,T.fieldTransforms)}function ov(u,r,a,c=!1){return Wl(a,u.Ba(c?4:3,r))}function Wl(u,r){if(Cy(u=(0,Ne.m9)(u)))return ff("Unsupported field value:",r,u),mg(u,r);if(u instanceof Xo)return function(a,c){if(!hg(c.Da))throw c.Fa(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Fa(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(u,r),null;if(void 0===u&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),u instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(a,c){const h=[];let _=0;for(const T of a){let F=Wl(T,c.Oa(_));null==F&&(F={nullValue:"NULL_VALUE"}),h.push(F),_++}return{arrayValue:{values:h}}}(u,r)}return function(a,c){if(null===(a=(0,Ne.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return vl(c.N,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const h=Qn.fromDate(a);return{timestampValue:Il(c.N,h)}}if(a instanceof Qn){const h=new Qn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Il(c.N,h)}}if(a instanceof fu)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof so)return{bytesValue:mh(c.N,a._byteString)};if(a instanceof Br){const h=c.databaseId,_=a.firestore._databaseId;if(!_.isEqual(h))throw c.Fa(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Hu(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Fa(`Unsupported field value: ${og(a)}`)}(u,r)}function mg(u,r){const a={};return pl(u)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Cs(u,(c,h)=>{const _=Wl(h,r.Na(c));null!=_&&(a[c]=_)}),{mapValue:{fields:a}}}function Cy(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Qn||u instanceof fu||u instanceof so||u instanceof Br||u instanceof Xo)}function ff(u,r,a){if(!Cy(a)||"object"!=typeof(c=a)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=og(a);throw r.Fa("an object"===c?u+" a custom object":u+" "+c)}var c}function yg(u,r,a){if((r=(0,Ne.m9)(r))instanceof vo)return r._internalPath;if("string"==typeof r)return Iy(u,r);throw pf("Field path arguments must be of type string or FieldPath.",u,!1,void 0,a)}const av=new RegExp("[~\\*/\\[\\]]");function Iy(u,r,a){if(r.search(av)>=0)throw pf(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,a);try{return new vo(...r.split("."))._internalPath}catch(c){throw pf(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,a)}}function pf(u,r,a,c,h){const _=c&&!c.isEmpty(),T=void 0!==h;let F=`Function ${r}() called with invalid data`;a&&(F+=" (via `toFirestore()`)"),F+=". ";let W="";return(_||T)&&(W+=" (found",_&&(W+=` in field ${c}`),T&&(W+=` in document ${h}`),W+=")"),new w(E.INVALID_ARGUMENT,F+u+W)}function _g(u,r){return u.some(a=>a.isEqual(r))}class gf{constructor(r,a,c,h,_){this._firestore=r,this._userDataWriter=a,this._key=c,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new Xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const a=this._document.data.field(vg("DocumentSnapshot.get",r));if(null!==a)return this._userDataWriter.convertValue(a)}}}class Xw extends gf{data(){return super.data()}}function vg(u,r){return"string"==typeof r?Iy(u,r):r instanceof vo?r._internalPath:r._delegate._internalPath}class ql{constructor(r,a){this.hasPendingWrites=r,this.fromCache=a}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class sl extends gf{constructor(r,a,c,h,_,T){super(r,a,c,h,T),this._firestore=r,this._firestoreImpl=r,this.metadata=_}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const a=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,a={}){if(this._document){const c=this._document.data.field(vg("DocumentSnapshot.get",r));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}}}class Pd extends sl{data(r={}){return super.data(r)}}class ol{constructor(r,a,c,h){this._firestore=r,this._userDataWriter=a,this._snapshot=h,this.metadata=new ql(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const r=[];return this.forEach(a=>r.push(a)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,a){this._snapshot.docs.forEach(c=>{r.call(a,new Pd(this._firestore,this._userDataWriter,c.key,c,new ql(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const a=!!r.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new w(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map(T=>({type:"added",doc:new Pd(c._firestore,c._userDataWriter,T.doc.key,T.doc,new ql(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(T=>h||3!==T.type).map(T=>{const F=new Pd(c._firestore,c._userDataWriter,T.doc.key,T.doc,new ql(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter);let W=-1,ie=-1;return 0!==T.type&&(W=_.indexOf(T.doc.key),_=_.delete(T.doc.key)),1!==T.type&&(_=_.add(T.doc),ie=_.indexOf(T.doc.key)),{type:wg(T.type),doc:F,oldIndex:W,newIndex:ie}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function wg(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}function mf(u,r){return u instanceof sl&&r instanceof sl?u._firestore===r._firestore&&u._key.isEqual(r._key)&&(null===u._document?null===r._document:u._document.isEqual(r._document))&&u._converter===r._converter:u instanceof ol&&r instanceof ol&&u._firestore===r._firestore&&my(u.query,r.query)&&u.metadata.isEqual(r.metadata)&&u._snapshot.isEqual(r._snapshot)}function Dy(u){if(Jc(u)&&0===u.explicitOrderBy.length)throw new w(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yf{}function Zl(u,...r){for(const a of r)u=a._apply(u);return u}class e0 extends yf{constructor(r,a,c){super(),this.Ka=r,this.ja=a,this.Qa=c,this.type="where"}_apply(r){const a=il(r.firestore),c=function(h,_,T,F,W,ie,ce){let Te;if(W.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new w(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on FieldPath.documentId().`);if("in"===ie||"not-in"===ie){My(ce,ie);const dt=[];for(const xt of ce)dt.push(Ny(F,h,xt));Te={arrayValue:{values:dt}}}else Te=Ny(F,h,ce)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||My(ce,ie),Te=ov(T,"where",ce,"in"===ie||"not-in"===ie);const Xe=Is.create(W,ie,Te);return function(dt,xt){if(xt.v()){const Sn=tu(dt);if(null!==Sn&&!Sn.isEqual(xt.field))throw new w(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Sn.toString()}' and '${xt.field.toString()}'`);const pi=To(dt);null!==pi&&Oy(0,xt.field,pi)}const nn=function(Sn,pi){for(const Bs of Sn.filters)if(pi.indexOf(Bs.op)>=0)return Bs.op;return null}(dt,function(Sn){switch(Sn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(xt.op));if(null!==nn)throw new w(E.INVALID_ARGUMENT,nn===xt.op?`Invalid query. You cannot use more than one '${xt.op.toString()}' filter.`:`Invalid query. You cannot use '${xt.op.toString()}' filters with '${nn.toString()}' filters.`)}(h,Xe),Xe}(r._query,0,a,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new ys(r.firestore,r.converter,function(h,_){const T=h.filters.concat([_]);return new Ds(h.path,h.collectionGroup,h.explicitOrderBy.slice(),T,h.limit,h.limitType,h.startAt,h.endAt)}(r._query,c))}}class Ty extends yf{constructor(r,a){super(),this.Ka=r,this.Wa=a,this.type="orderBy"}_apply(r){const a=function(c,h,_){if(null!==c.startAt)throw new w(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new w(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const T=new ua(h,_);return function(F,W){if(null===To(F)){const ie=tu(F);null!==ie&&Oy(0,ie,W.field)}}(c,T),T}(r._query,this.Ka,this.Wa);return new ys(r.firestore,r.converter,function(c,h){const _=c.explicitOrderBy.concat([h]);return new Ds(c.path,c.collectionGroup,_,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r._query,a))}}class Ay extends yf{constructor(r,a,c){super(),this.type=r,this.Ga=a,this.za=c}_apply(r){return new ys(r.firestore,r.converter,ac(r._query,this.Ga,this.za))}}class Eg extends yf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=Ry(r,this.type,this.Ha,this.Ja);return new ys(r.firestore,r.converter,(h=a,new Ds((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class kd extends yf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=Ry(r,this.type,this.Ha,this.Ja);return new ys(r.firestore,r.converter,(h=a,new Ds((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function Ry(u,r,a,c){if(a[0]=(0,Ne.m9)(a[0]),a[0]instanceof gf)return function(h,_,T,F,W){if(!F)throw new w(E.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const ie=[];for(const ce of Aa(h))if(ce.field.isKeyField())ie.push(fo(_,F.key));else{const Te=F.data.field(ce.field);if(Iu(Te))throw new w(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Te){const Xe=ce.field.canonicalString();throw new w(E.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Xe}' (used as the orderBy) does not exist.`)}ie.push(Te)}return new eu(ie,W)}(u._query,u.firestore._databaseId,r,a[0]._document,c);{const h=il(u.firestore);return function(_,T,F,W,ie,ce){const Te=_.explicitOrderBy;if(ie.length>Te.length)throw new w(E.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Xe=[];for(let dt=0;dt<ie.length;dt++){const xt=ie[dt];if(Te[dt].field.isKeyField()){if("string"!=typeof xt)throw new w(E.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof xt}`);if(!Xc(_)&&-1!==xt.indexOf("/"))throw new w(E.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${W}() must be a plain document ID, but '${xt}' contains a slash.`);const nn=_.path.child(or.fromString(xt));if(!Nt.isDocumentKey(nn))throw new w(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${W}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Sn=new Nt(nn);Xe.push(fo(T,Sn))}else{const nn=ov(F,W,xt);Xe.push(nn)}}return new eu(Xe,ce)}(u._query,u.firestore._databaseId,h,r,a,c)}}function Ny(u,r,a){if("string"==typeof(a=(0,Ne.m9)(a))){if(""===a)throw new w(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xc(r)&&-1!==a.indexOf("/"))throw new w(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const c=r.path.child(or.fromString(a));if(!Nt.isDocumentKey(c))throw new w(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return fo(u,new Nt(c))}if(a instanceof Br)return fo(u,a._key);throw new w(E.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(a)}.`)}function My(u,r){if(!Array.isArray(u)||0===u.length)throw new w(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(u.length>10)throw new w(E.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function Oy(u,r,a){if(!a.isEqual(r))throw new w(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}class bg{convertValue(r,a="none"){switch(Do(r)){case 0:return null;case 1:return r.booleanValue;case 2:return xi(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,a);case 5:return r.stringValue;case 6:return this.convertBytes(Qa(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,a);case 10:return this.convertObject(r.mapValue,a);default:throw jt()}}convertObject(r,a){const c={};return Cs(r.fields,(h,_)=>{c[h]=this.convertValue(_,a)}),c}convertGeoPoint(r){return new fu(xi(r.latitude),xi(r.longitude))}convertArray(r,a){return(r.values||[]).map(c=>this.convertValue(c,a))}convertServerTimestamp(r,a){switch(a){case"previous":const c=Ja(r);return null==c?null:this.convertValue(c,a);case"estimate":return this.convertTimestamp(Du(r));default:return null}}convertTimestamp(r){const a=aa(r);return new Qn(a.seconds,a.nanos)}convertDocumentKey(r,a){const c=or.fromString(r);fn(Sl(c));const h=new $l(c.get(1),c.get(3)),_=new Nt(c.popFirst(5));return h.isEqual(a)||Sr(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),_}}function Fd(u,r,a){let c;return c=u?a&&(a.merge||a.mergeFields)?u.toFirestore(r,a):u.toFirestore(r):r,c}class hv extends bg{constructor(r){super(),this.firestore=r}convertBytes(r){return new so(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new Br(this.firestore,null,a)}}class Cg{constructor(r,a){this._firestore=r,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=il(r)}set(r,a,c){this._verifyNotCommitted();const h=pu(r,this._firestore),_=Fd(h.converter,a,c),T=Od(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,c);return this._mutations.push(T.toMutation(h._key,wi.none())),this}update(r,a,c,...h){this._verifyNotCommitted();const _=pu(r,this._firestore);let T;return T="string"==typeof(a=(0,Ne.m9)(a))||a instanceof vo?gg(this._dataReader,"WriteBatch.update",_._key,a,c,h):hf(this._dataReader,"WriteBatch.update",_._key,a),this._mutations.push(T.toMutation(_._key,wi.exists(!0))),this}delete(r){this._verifyNotCommitted();const a=pu(r,this._firestore);return this._mutations=this._mutations.concat(new El(a._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new w(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(u,r){if((u=(0,Ne.m9)(u)).firestore!==r)throw new w(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class $c extends bg{constructor(r){super(),this.firestore=r}convertBytes(r){return new so(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new Br(this.firestore,null,a)}}function _f(u,r,a){u=rr(u,Br);const c=rr(u.firestore,fi),h=Fd(u.converter,r,a);return Vd(c,[Od(il(c),"setDoc",u._key,h,null!==u.converter,a).toMutation(u._key,wi.none())])}function vf(u,r,a,...c){u=rr(u,Br);const h=rr(u.firestore,fi),_=il(h);let T;return T="string"==typeof(r=(0,Ne.m9)(r))||r instanceof vo?gg(_,"updateDoc",u._key,r,a,c):hf(_,"updateDoc",u._key,r),Vd(h,[T.toMutation(u._key,wi.exists(!0))])}function wf(u,...r){var a,c,h;u=(0,Ne.m9)(u);let _={includeMetadataChanges:!1},T=0;"object"!=typeof r[T]||lg(r[T])||(_=r[T],T++);const F={includeMetadataChanges:_.includeMetadataChanges};if(lg(r[T])){const Te=r[T];r[T]=null===(a=Te.next)||void 0===a?void 0:a.bind(Te),r[T+1]=null===(c=Te.error)||void 0===c?void 0:c.bind(Te),r[T+2]=null===(h=Te.complete)||void 0===h?void 0:h.bind(Te)}let W,ie,ce;if(u instanceof Br)ie=rr(u.firestore,fi),ce=Pr(u._key.path),W={next:Te=>{r[T]&&r[T](Ag(ie,u,Te))},error:r[T+1],complete:r[T+2]};else{const Te=rr(u,ys);ie=rr(Te.firestore,fi),ce=Te._query;const Xe=new $c(ie);W={next:dt=>{r[T]&&r[T](new ol(ie,Xe,Te,dt))},error:r[T+1],complete:r[T+2]},Dy(u._query)}return function(Te,Xe,dt,xt){const nn=new Pc(xt),Sn=new Wh(Xe,nn,dt);return Te.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return Np(yield kc(Te),Sn)})),()=>{nn.Xo(),Te.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return zh(yield kc(Te),Sn)}))}}(us(ie),ce,F,W)}function Vd(u,r){return function(a,c){const h=new O;return a.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(u,r,a){return Td.apply(this,arguments)}(yield of(a),c,h)})),h.promise}(us(u),r)}function Ag(u,r,a){const c=a.docs.get(r._key),h=new $c(u);return new sl(u,h,r._key,c,new ql(a.hasPendingWrites,a.fromCache),r.converter)}class Sg extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=il(r)}get(r){const a=pu(r,this._firestore),c=new hv(this._firestore);return this._transaction.lookup([a._key]).then(h=>{if(!h||1!==h.length)return jt();const _=h[0];if(_.isFoundDocument())return new gf(this._firestore,c,_.key,_,a.converter);if(_.isNoDocument())return new gf(this._firestore,c,a._key,null,a.converter);throw jt()})}set(r,a,c){const h=pu(r,this._firestore),_=Fd(h.converter,a,c),T=Od(this._dataReader,"Transaction.set",h._key,_,null!==h.converter,c);return this._transaction.set(h._key,T),this}update(r,a,c,...h){const _=pu(r,this._firestore);let T;return T="string"==typeof(a=(0,Ne.m9)(a))||a instanceof vo?gg(this._dataReader,"Transaction.update",_._key,a,c,h):hf(this._dataReader,"Transaction.update",_._key,a),this._transaction.update(_._key,T),this}delete(r){const a=pu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(r,a){super(r,a),this._firestore=r}get(r){const a=pu(r,this._firestore),c=new $c(this._firestore);return super.get(r).then(h=>new sl(this._firestore,c,a._key,h._document,new ql(!1,!1),a.converter))}}function Ef(u,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new w("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return r}function bf(){if("undefined"==typeof Uint8Array)throw new w("unimplemented","Uint8Arrays are not available in this environment.")}function Mg(){if("undefined"==typeof atob)throw new w("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(u){jo=u})(Ze.SDK_VERSION),(0,Ze._registerComponent)(new on.wA("firestore",(u,{options:r})=>{const a=u.getProvider("app").getImmediate(),c=new fi(a,new De(u.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),c._setSettings(r),c},"PUBLIC")),(0,Ze.registerVersion)("@firebase/firestore","3.0.1",void 0);class Ud{constructor(r){this._delegate=r}static fromBase64String(r){return Mg(),new Ud(so.fromBase64String(r))}static fromUint8Array(r){return bf(),new Ud(so.fromUint8Array(r))}toBase64(){return Mg(),this._delegate.toBase64()}toUint8Array(){return bf(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Og(u){return function(u,r){if("object"!=typeof u||null===u)return!1;const a=u;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(u)}class Pg{enableIndexedDbPersistence(r,a){return function(u,r){zl(u=rr(u,fi));const a=us(u),c=u._freezeSettings(),h=new cy;return Lc(a,h,new Er(h,c.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(r){return function(u){zl(u=rr(u,fi));const r=us(u),a=u._freezeSettings(),c=new cy;return Lc(r,c,new Kp(c,a.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(u){if(u._initialized&&!u._terminated)throw new w(E.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new O;return u._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(a=(0,fe.Z)(function*(c){if(!ro.Pt())return Promise.resolve();const h=c+"main";yield ro.delete(h)}),function(c){return a.apply(this,arguments)})(Sm(u._databaseId,u._persistenceKey)),r.resolve()}catch(a){r.reject(a)}var a})),r.promise}(r._delegate)}}class Bd{constructor(r,a,c){this._delegate=a,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},r instanceof $l||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const a=this._delegate._getSettings();!r.merge&&a.host!==r.host&&Ho("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},a),r)).merge,this._delegate._setSettings(r)}useEmulator(r,a,c={}){!function(u,r,a,c={}){var h;const _=(u=rr(u,Rd))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==r&&Ho("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},_),{host:`${r}:${a}`,ssl:!1})),c.mockUserToken){let T,F;if("string"==typeof c.mockUserToken)T=c.mockUserToken,F=Jr.MOCK_USER;else{T=(0,Ne.Sg)(c.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const W=c.mockUserToken.sub||c.mockUserToken.user_id;if(!W)throw new w(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Jr(W)}u._credentials=new de(new B(T,F))}}(this._delegate,r,a,c)}enableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,fe.Z)(function*(){const r=yield tg(u),a=yield ng(u);return r.setNetworkEnabled(!0),function(c){const h=S(c);return h.Kr.delete(0),kl(h)}(a)}))}(us(u=rr(u,fi)))}(this._delegate)}disableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,fe.Z)(function*(){const r=yield tg(u),a=yield ng(u);return r.setNetworkEnabled(!1),(c=(0,fe.Z)(function*(h){const _=S(h);_.Kr.add(0),yield el(_),_.Wr.set("Offline")}),function(h){return c.apply(this,arguments)})(a);var c}))}(us(u=rr(u,fi)))}(this._delegate)}enablePersistence(r){let a=!1,c=!1;return r&&(a=!!r.synchronizeTabs,c=!!r.experimentalForceOwningTab,Qo("synchronizeTabs",a,"experimentalForceOwningTab",c)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(u){return function(r){const a=new O;return r.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(u,r){return Jh.apply(this,arguments)}(yield of(r),a)})),a.promise}(us(u=rr(u,fi)))}(this._delegate)}onSnapshotsInSync(r){return function(u,r){return function(u,r){const a=new Pc(r);return u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return c=yield kc(u),h=a,S(c).Zr.add(h),void h.next();var c,h})),()=>{a.Xo(),u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return c=yield kc(u),h=a,void S(c).Zr.delete(h);var c,h}))}}(us(u=rr(u,fi)),lg(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new w("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Kl(this,af(this._delegate,r))}catch(a){throw Vs(a,"collection()","Firestore.collection()")}}doc(r){try{return new No(this,uf(this._delegate,r))}catch(a){throw Vs(a,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new Us(this,function(u,r){if(u=rr(u,Rd),py("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new w(E.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(u,null,(a=r,new Ds(or.emptyPath(),a)));var a}(this._delegate,r))}catch(a){throw Vs(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(u,r){return function(u,r){const a=new O;return u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const c=yield(h=u,rl(h).then(_=>_.datastore));var h;new Z_(u.asyncQueue,c,r,a).run()})),a.promise}(us(u),a=>r(new Sg(u,a)))}(this._delegate,a=>r(new kg(this,a)))}batch(){return us(this._delegate),new Fg(new Cg(this._delegate,r=>Vd(this._delegate,r)))}loadBundle(r){return function(u,r){const a=us(u=rr(u,fi)),c=new lf;return function(u,r,a,c){const h=function(_,T){let F;return F="string"==typeof _?(new TextEncoder).encode(_):_,W=function(W,ie){if(W instanceof Uint8Array)return ka(W,void 0);if(W instanceof ArrayBuffer)return ka(new Uint8Array(W),void 0);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new Yp(W,T);var W}(a,jh(r));u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function(u,r,a){const c=S(u);var h;(h=(0,fe.Z)(function*(_,T,F){try{const W=yield T.getMetadata();if(yield function(Xe,dt){const xt=S(Xe),nn=ei(dt.createTime);return xt.persistence.runTransaction("hasNewerBundle","readonly",Sn=>xt.Je.getBundleMetadata(Sn,dt.id)).then(Sn=>!!Sn&&Sn.createTime.compareTo(nn)>=0)}(_.localStore,W))return yield T.close(),void F._completeWith((Xe=W,{taskState:"Success",documentsLoaded:Xe.totalDocuments,bytesLoaded:Xe.totalBytes,totalDocuments:Xe.totalDocuments,totalBytes:Xe.totalBytes}));F._updateProgress(qh(W));const ie=new Oa(W,_.localStore,T.N);let ce=yield T.Qo();for(;ce;){const Xe=yield ie.fo(ce);Xe&&F._updateProgress(Xe),ce=yield T.Qo()}const Te=yield ie.complete();yield Pa(_,Te.Tn,void 0),yield function(Xe,dt){const xt=S(Xe);return xt.persistence.runTransaction("Save bundle","readwrite",nn=>xt.Je.saveBundleMetadata(nn,dt))}(_.localStore,W),F._completeWith(Te.progress)}catch(W){Ho("SyncEngine",`Loading bundle failed with ${W}`),F._failWith(W)}var Xe}),function(_,T,F){return h.apply(this,arguments)})(c,r,a).then(()=>{c.sharedClientState.notifyBundleLoaded()})}(yield of(u),h,c)}))}(a,u._databaseId,r,c),c}(this._delegate,r)}namedQuery(r){return function(u,r){return function(u,r){return u.asyncQueue.enqueue((0,fe.Z)(function*(){return function(a,c){const h=S(a);return h.persistence.runTransaction("Get named query","readonly",_=>h.Je.getNamedQuery(_,c))}(yield sf(u),r)}))}(us(u=rr(u,fi)),r).then(a=>a?new ys(u,null,a.query):null)}(this._delegate,r).then(a=>a?new Us(this,a):null)}}class jd extends bg{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ud(new so(r))}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return No.forKey(a,this.firestore,null)}}class kg{constructor(r,a){this._firestore=r,this._delegate=a,this._userDataWriter=new jd(r)}get(r){const a=Yl(r);return this._delegate.get(a).then(c=>new Hd(this._firestore,new sl(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,a.converter)))}set(r,a,c){const h=Yl(r);return c?(Ef("Transaction.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const _=Yl(r);return 2===arguments.length?this._delegate.update(_,a):this._delegate.update(_,a,c,...h),this}delete(r){const a=Yl(r);return this._delegate.delete(a),this}}class Fg{constructor(r){this._delegate=r}set(r,a,c){const h=Yl(r);return c?(Ef("WriteBatch.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const _=Yl(r);return 2===arguments.length?this._delegate.update(_,a):this._delegate.update(_,a,c,...h),this}delete(r){const a=Yl(r);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class al{constructor(r,a,c){this._firestore=r,this._userDataWriter=a,this._delegate=c}fromFirestore(r,a){const c=new Pd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new $d(this._firestore,c),null!=a?a:{})}toFirestore(r,a){return a?this._delegate.toFirestore(r,a):this._delegate.toFirestore(r)}static getInstance(r,a){const c=al.INSTANCES;let h=c.get(r);h||(h=new WeakMap,c.set(r,h));let _=h.get(a);return _||(_=new al(r,new jd(r),a),h.set(a,_)),_}}al.INSTANCES=new WeakMap;class No{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new jd(r)}static forPath(r,a,c){if(r.length%2!=0)throw new w("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new No(a,new Br(a._delegate,c,new Nt(r)))}static forKey(r,a,c){return new No(a,new Br(a._delegate,c,r))}get id(){return this._delegate.id}get parent(){return new Kl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Kl(this.firestore,af(this._delegate,r))}catch(a){throw Vs(a,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Ne.m9)(r))instanceof Br&&gy(this._delegate,r)}set(r,a){a=Ef("DocumentReference.set",a);try{return a?_f(this._delegate,r,a):_f(this._delegate,r)}catch(c){throw Vs(c,"setDoc()","DocumentReference.set()")}}update(r,a,...c){try{return 1===arguments.length?vf(this._delegate,r):vf(this._delegate,r,a,...c)}catch(h){throw Vs(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(u){return Vd(rr(u.firestore,fi),[new El(u._key,wi.none())])}(this._delegate)}onSnapshot(...r){const a=Lg(r),c=vv(r,h=>new Hd(this.firestore,new sl(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return wf(this._delegate,a,c)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=rr(u,Br);const r=rr(u.firestore,fi),a=us(r),c=new $c(r);return function(u,r){const a=new O;return u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(c=(0,fe.Z)(function*(h,_,T){try{const F=yield function(W,ie){const ce=S(W);return ce.persistence.runTransaction("read document","readonly",Te=>ce.Qn.An(Te,ie))}(h,_);F.isFoundDocument()?T.resolve(F):F.isNoDocument()?T.resolve(null):T.reject(new w(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const W=Bl(F,`Failed to get document '${_} from cache`);T.reject(W)}}),function(h,_,T){return c.apply(this,arguments)})(yield sf(u),r,a);var c})),a.promise}(a,u._key).then(h=>new sl(r,c,u._key,h,new ql(null!==h&&h.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=rr(u,Br);const r=rr(u.firestore,fi);return J_(us(r),u._key,{source:"server"}).then(a=>Ag(r,u,a))}(this._delegate):function(u){u=rr(u,Br);const r=rr(u.firestore,fi);return J_(us(r),u._key).then(a=>Ag(r,u,a))}(this._delegate),a.then(c=>new Hd(this.firestore,new sl(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(r){return new No(this.firestore,this._delegate.withConverter(r?al.getInstance(this.firestore,r):null))}}function Vs(u,r,a){return u.message=u.message.replace(r,a),u}function Lg(u){for(const r of u)if("object"==typeof r&&!Og(r))return r;return{}}function vv(u,r){var a,c;let h;return h=Og(u[0])?u[0]:Og(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:_=>{h.next&&h.next(r(_))},error:null===(a=h.error)||void 0===a?void 0:a.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class Hd{constructor(r,a){this._firestore=r,this._delegate=a}get ref(){return new No(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,a){return this._delegate.get(r,a)}isEqual(r){return mf(this._delegate,r._delegate)}}class $d extends Hd{data(r){const a=this._delegate.data(r);return function(u,r){u||jt()}(void 0!==a),a}}class Us{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new jd(r)}where(r,a,c){try{return new Us(this.firestore,Zl(this._delegate,function(u,r,a){const c=r,h=vg("where",u);return new e0(h,c,a)}(r,a,c)))}catch(h){throw Vs(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,a){try{return new Us(this.firestore,Zl(this._delegate,function(u,r="asc"){const a=r,c=vg("orderBy",u);return new Ty(c,a)}(r,a)))}catch(c){throw Vs(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new Us(this.firestore,Zl(this._delegate,function(u){return ag("limit",u),new Ay("limit",u,"F")}(r)))}catch(a){throw Vs(a,"limit()","Query.limit()")}}limitToLast(r){try{return new Us(this.firestore,Zl(this._delegate,function(u){return ag("limitToLast",u),new Ay("limitToLast",u,"L")}(r)))}catch(a){throw Vs(a,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new Us(this.firestore,Zl(this._delegate,function(...u){return new Eg("startAt",u,!0)}(...r)))}catch(a){throw Vs(a,"startAt()","Query.startAt()")}}startAfter(...r){try{return new Us(this.firestore,Zl(this._delegate,function(...u){return new Eg("startAfter",u,!1)}(...r)))}catch(a){throw Vs(a,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new Us(this.firestore,Zl(this._delegate,function(...u){return new kd("endBefore",u,!0)}(...r)))}catch(a){throw Vs(a,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new Us(this.firestore,Zl(this._delegate,function(...u){return new kd("endAt",u,!1)}(...r)))}catch(a){throw Vs(a,"endAt()","Query.endAt()")}}isEqual(r){return my(this._delegate,r._delegate)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=rr(u,ys);const r=rr(u.firestore,fi),a=us(r),c=new $c(r);return function(u,r){const a=new O;return u.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(c=(0,fe.Z)(function*(h,_,T){try{const F=yield Tn(h,_,!0),W=new V_(_,F.Gn),ie=W.Io(F.documents),ce=W.applyChanges(ie,!1);T.resolve(ce.snapshot)}catch(F){const W=Bl(F,`Failed to execute query '${_} against cache`);T.reject(W)}}),function(h,_,T){return c.apply(this,arguments)})(yield sf(u),r,a);var c})),a.promise}(a,u._query).then(h=>new ol(r,c,u,h))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=rr(u,ys);const r=rr(u.firestore,fi),a=us(r),c=new $c(r);return fy(a,u._query,{source:"server"}).then(h=>new ol(r,c,u,h))}(this._delegate):function(u){u=rr(u,ys);const r=rr(u.firestore,fi),a=us(r),c=new $c(r);return Dy(u._query),fy(a,u._query).then(h=>new ol(r,c,u,h))}(this._delegate),a.then(c=>new Mi(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...r){const a=Lg(r),c=vv(r,h=>new Mi(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return wf(this._delegate,a,c)}withConverter(r){return new Us(this.firestore,this._delegate.withConverter(r?al.getInstance(this.firestore,r):null))}}class wv{constructor(r,a){this._firestore=r,this._delegate=a}get type(){return this._delegate.type}get doc(){return new $d(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mi{constructor(r,a){this._firestore=r,this._delegate=a}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new $d(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(a=>new wv(this._firestore,a))}forEach(r,a){this._delegate.forEach(c=>{r.call(a,new $d(this._firestore,c))})}isEqual(r){return mf(this._delegate,r._delegate)}}class Kl extends Us{constructor(r,a){super(r,a),this.firestore=r,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new No(this.firestore,r):null}doc(r){try{return new No(this.firestore,void 0===r?uf(this._delegate):uf(this._delegate,r))}catch(a){throw Vs(a,"doc()","CollectionReference.doc()")}}add(r){return function(u,r){const a=rr(u.firestore,fi),c=uf(u),h=Fd(u.converter,r);return Vd(a,[Od(il(u.firestore),"addDoc",c._key,h,null!==u.converter,{}).toMutation(c._key,wi.exists(!1))]).then(()=>c)}(this._delegate,r).then(a=>new No(this.firestore,a))}isEqual(r){return gy(this._delegate,r._delegate)}withConverter(r){return new Kl(this.firestore,this._delegate.withConverter(r?al.getInstance(this.firestore,r):null))}}function Yl(u){return rr(u,Br)}class Vg{constructor(...r){this._delegate=new vo(...r)}static documentId(){return new Vg(jn.keyField().canonicalString())}isEqual(r){return(r=(0,Ne.m9)(r))instanceof vo&&this._delegate._internalPath.isEqual(r._internalPath)}}class ul{constructor(r){this._delegate=r}static serverTimestamp(){const r=new pg("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new ul(r)}static delete(){const r=new jc("deleteField");return r._methodName="FieldValue.delete",new ul(r)}static arrayUnion(...r){const a=function(...u){return new Ey("arrayUnion",u)}(...r);return a._methodName="FieldValue.arrayUnion",new ul(a)}static arrayRemove(...r){const a=function(...u){return new sv("arrayRemove",u)}(...r);return a._methodName="FieldValue.arrayRemove",new ul(a)}static increment(r){const a=function(u){return new by("increment",u)}(r);return a._methodName="FieldValue.increment",new ul(a)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const Ev={Firestore:Bd,GeoPoint:fu,Timestamp:Qn,Blob:Ud,Transaction:kg,WriteBatch:Fg,DocumentReference:No,DocumentSnapshot:Hd,Query:Us,QueryDocumentSnapshot:$d,QuerySnapshot:Mi,CollectionReference:Kl,FieldPath:Vg,FieldValue:ul,setLogLevel:function(u){!function(u){Qs.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function(u){(function(u,r){u.INTERNAL.registerComponent(new on.wA("firestore-compat",a=>((r,a)=>new Bd(r,a,new Pg))(a.getProvider("app-compat").getImmediate(),a.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Ev)))})(u),u.registerVersion("@firebase/firestore-compat","0.1.1")}(Ke.Z);var Mo=G(8006),bv=G(7841);function Ug(u,r){return function(u,r=I.z){return new se.y(a=>{let c;return null!=r?r.schedule(()=>{c=u.onSnapshot({includeMetadataChanges:!0},a)}):c=u.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=c&&c()}})}(u,r)}function Cf(u,r){return Ug(u,r).pipe((0,Ge.U)(a=>({payload:a,type:"query"})))}function Bg(u,r){return Cf(u,r).pipe((0,Ie.O)(void 0),_e(),(0,Ge.U)(([a,c])=>{const h=c.payload.docChanges(),_=h.map(T=>({type:T.type,payload:T}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((T,F)=>{const W=h.find(ce=>ce.doc.ref.isEqual(T.ref)),ie=null==a?void 0:a.payload.docs.find(ce=>ce.ref.isEqual(T.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(T.metadata)||!W&&ie&&JSON.stringify(ie.metadata)===JSON.stringify(T.metadata)||_.push({type:"modified",payload:{oldIndex:F,newIndex:F,type:"modified",doc:T}})}),_}))}function If(u,r,a){return Bg(u,a).pipe((0,Le.R)((c,h)=>function(u,r,a){return r.forEach(c=>{a.indexOf(c.type)>-1&&(u=function(u,r){switch(r.type){case"added":if(!u[r.newIndex]||!u[r.newIndex].doc.ref.isEqual(r.doc.ref))return ea(u,r.newIndex,0,r);break;case"modified":if(null==u[r.oldIndex]||u[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const a=u.slice();return a.splice(r.oldIndex,1),a.splice(r.newIndex,0,r),a}return ea(u,r.newIndex,1,r)}break;case"removed":if(u[r.oldIndex]&&u[r.oldIndex].doc.ref.isEqual(r.doc.ref))return ea(u,r.oldIndex,1)}return u}(u,c))}),u}(c,h.map(_=>_.payload),r),[]),a=>a.lift(new ge(void 0,void 0)),(0,Ge.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function ea(u,r,a,...c){const h=u.slice();return h.splice(r,a,...c),h}function Hg(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class ha{constructor(r,a,c){this.ref=r,this.query=a,this.afs=c}stateChanges(r){let a=Bg(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(a=a.pipe((0,Ge.U)(c=>c.filter(h=>r.indexOf(h.type)>-1)))),a.pipe((0,Ie.O)(void 0),_e(),(0,Fe.h)(([c,h])=>h.length>0||!c),(0,Ge.U)(([c,h])=>h),pe.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,Le.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=Hg(r);return If(this.query,a,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(r={}){return Cf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(a=>a.payload.docs.map(c=>r.idField?Object.assign(Object.assign({},c.data()),{[r.idField]:c.id}):c.data())),pe.iC)}get(r){return(0,Ce.D)(this.query.get(r)).pipe(pe.f6)}add(r){return this.ref.add(r)}doc(r){return new ta(this.ref.doc(r),this.afs)}}class ta{constructor(r,a){this.ref=r,this.afs=a}set(r,a){return this.ref.set(r,a)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,a){const c=this.ref.collection(r),{ref:h,query:_}=$y(c,a);return new ha(h,_,this.afs)}snapshotChanges(){return function(u,r){return Ug(u,r).pipe((0,Ie.O)(void 0),_e(),(0,Ge.U)(([a,c])=>c.exists?(null==a?void 0:a.exists)?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:a})=>r.idField?Object.assign(Object.assign({},a.data()),{[r.idField]:a.id}):a.data()))}get(r){return(0,Ce.D)(this.ref.get(r)).pipe((0,ve.QV)(this.afs.schedulers.insideAngular))}}class fa{constructor(r,a){this.query=r,this.afs=a}stateChanges(r){return r&&0!==r.length?Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(a=>a.filter(c=>r.indexOf(c.type)>-1)),(0,Fe.h)(a=>a.length>0),pe.iC):Bg(this.query,this.afs.schedulers.outsideAngular).pipe(pe.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,Le.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=Hg(r);return If(this.query,a,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(r={}){return Cf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(c=>c.payload.docs.map(h=>r.idField?Object.assign({[r.idField]:h.id},h.data()):h.data())),pe.iC)}get(r){return(0,Ce.D)(this.query.get(r)).pipe(pe.f6)}}const $g=new C.OlP("angularfire2.enableFirestorePersistence"),Gg=new C.OlP("angularfire2.firestore.persistenceSettings"),Tv=new C.OlP("angularfire2.firestore.settings"),Av=new C.OlP("angularfire2.firestore.use-emulator");function $y(u,r=(a=>a)){return{query:r(u),ref:u}}let Gy=(()=>{class u{constructor(a,c,h,_,T,F,W,ie,ce,Te,Xe,dt,xt,nn,Sn,pi){this.schedulers=W;const Bs=(0,Je.on)(a,F,c),Ua=ce;Te&&(0,Mo.nw)(Bs,F,Xe,xt,nn,Sn,dt,pi),[this.firestore,this.persistenceEnabled$]=(0,pe.cc)(`${Bs.name}.firestore`,"AngularFirestore",Bs.name,()=>{const pa=F.runOutsideAngular(()=>Bs.firestore());if(_&&pa.settings(_),Ua&&pa.useEmulator(...Ua),h&&!(0,et.PM)(T)){const Gd=()=>{try{return(0,Ce.D)(pa.enablePersistence(ie||void 0).then(()=>!0,()=>!1))}catch(Df){return"undefined"!=typeof console&&console.warn(Df),(0,Re.of)(!1)}};return[pa,F.runOutsideAngular(Gd)]}return[pa,(0,Re.of)(!1)]},[_,Ua,h])}collection(a,c){let h;h="string"==typeof a?this.firestore.collection(a):a;const{ref:_,query:T}=$y(h,c),F=this.schedulers.ngZone.run(()=>_);return new ha(F,T,this)}collectionGroup(a,c){const h=c||(T=>T),_=this.firestore.collectionGroup(a);return new fa(h(_),this)}doc(a){let c;c="string"==typeof a?this.firestore.doc(a):a;const h=this.schedulers.ngZone.run(()=>c);return new ta(h,this)}createId(){return this.firestore.collection("_").doc().id}}return u.\u0275fac=function(a){return new(a||u)(C.LFG(Je.Dh),C.LFG(Je.xv,8),C.LFG($g,8),C.LFG(Tv,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(pe.HU),C.LFG(Gg,8),C.LFG(Av,8),C.LFG(Mo.zQ,8),C.LFG(Mo.Qv,8),C.LFG(Mo.L6,8),C.LFG(Mo._Q,8),C.LFG(Mo.rT,8),C.LFG(Mo.lh,8),C.LFG(Mo.f7,8))},u.\u0275prov=C.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),zg=(()=>{class u{constructor(){bv.Z.registerVersion("angularfire",pe.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:u,providers:[{provide:$g,useValue:!0},{provide:Gg,useValue:a}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=C.oAB({type:u}),u.\u0275inj=C.cJS({providers:[Gy]}),u})()},8939:(Rt,ze,G)=>{"use strict";G.d(ze,{hO:()=>he,xv:()=>ue,Dh:()=>_e,GT:()=>pe,on:()=>te,pX:()=>Re});var C=G(3018),I=G(7841),se=G(9126);Rt=G.hmd(Rt);const Ce=["ngOnDestroy"],Re=(Ie,Ge,Le,Fe={})=>new Proxy(Ie,{get:(ve,Je)=>Le.runOutsideAngular(()=>{var et;if(Ie[Je])return(null===(et=null==Fe?void 0:Fe.spy)||void 0===et?void 0:et.get)&&Fe.spy.get(Je,Ie[Je]),Ie[Je];if(Ce.indexOf(Je)>-1)return()=>{};const ut=Ge.toPromise().then(Ke=>{const fe=Ke&&Ke[Je];return"function"==typeof fe?fe.bind(Ke):fe&&fe.then?fe.then(Ze=>Le.run(()=>Ze)):Le.run(()=>fe)});return new Proxy(()=>{},{get:(Ke,fe)=>ut[fe],apply:(Ke,fe,Ze)=>ut.then(on=>{var It;const Ne=on&&on(...Ze);return(null===(It=null==Fe?void 0:Fe.spy)||void 0===It?void 0:It.apply)&&Fe.spy.apply(Je,Ze,Ne),Ne})})})}),pe=(Ie,Ge)=>{Ge.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Fe=>{Object.defineProperty(Ie.prototype,Fe,Object.getOwnPropertyDescriptor(Le.prototype||Le,Fe))})})};class ke{constructor(Ge){return Ge}}const _e=new C.OlP("angularfire2.app.options"),ue=new C.OlP("angularfire2.app.name");function te(Ie,Ge,Le){const ve="object"==typeof Le&&Le||{};ve.name=ve.name||"string"==typeof Le&&Le||"[DEFAULT]";const et=I.Z.apps.filter(ut=>ut&&ut.name===ve.name)[0]||Ge.runOutsideAngular(()=>I.Z.initializeApp(Ie,ve));try{JSON.stringify(Ie)!==JSON.stringify(et.options)&&ae("error",`${et.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ut){}return new ke(et)}const ae=(Ie,...Ge)=>{(0,C.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ge)},ge={provide:ke,useFactory:te,deps:[_e,C.R0b,[new C.FiY,ue]]};let he=(()=>{class Ie{constructor(Le){I.Z.registerVersion("angularfire",se.q4.full,"core"),I.Z.registerVersion("angularfire",se.q4.full,"app-compat"),I.Z.registerVersion("angular",C.q4F.full,Le.toString())}static initializeApp(Le,Fe){return{ngModule:Ie,providers:[{provide:_e,useValue:Le},{provide:ue,useValue:Fe}]}}}return Ie.\u0275fac=function(Le){return new(Le||Ie)(C.LFG(C.Lbi))},Ie.\u0275mod=C.oAB({type:Ie}),Ie.\u0275inj=C.cJS({providers:[ge]}),Ie})()},9126:(Rt,ze,G)=>{"use strict";G.d(ze,{q4:()=>te,iC:()=>Ne,f6:()=>It,HU:()=>ut,cc:()=>he});var C=G(3018);(0,G(5452).registerVersion)("firebase","9.0.1","app");var Re=G(7771),pe=G(3637),ke=G(3342),_e=G(309),ue=G(3101);Rt=G.hmd(Rt);const te=new C.GfV("7.0.3"),ae=!!Rt.hot,ge=(je,...le)=>{(0,C.X6Q)()&&"undefined"!=typeof console&&console[je](...le)};function he(je,le,ot,rt,Zt){const[,gt,_t]=globalThis.\u0275AngularfireInstanceCache.find(Lt=>Lt[0]===je)||[];if(gt)return function(je,le){try{return je.toString()===le.toString()}catch(ot){return je===le}}(Zt,_t)||(ge("error",`${le} was already initialized on the ${ot} Firebase App with different settings.${ae?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Zt,was:_t})),gt;{const Lt=rt();return globalThis.\u0275AngularfireInstanceCache.push([je,Lt,Zt]),Lt}}function ve(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Je{constructor(le,ot=Re.N){this.zone=le,this.delegate=ot}now(){return this.delegate.now()}schedule(le,ot,rt){const Zt=this.zone;return this.delegate.schedule(function(_t){Zt.runGuarded(()=>{le.apply(this,[_t])})},ot,rt)}}class et{constructor(le){this.zone=le,this.task=null}call(le,ot){const rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),ot.pipe((0,ke.b)({next:rt,complete:rt,error:rt})).subscribe(le).add(rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ut=(()=>{class je{constructor(ot){this.ngZone=ot,this.outsideAngular=ot.runOutsideAngular(()=>new Je(Zone.current)),this.insideAngular=ot.run(()=>new Je(Zone.current,pe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return je.\u0275fac=function(ot){return new(ot||je)(C.LFG(C.R0b))},je.\u0275prov=C.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();function Ke(){const je=globalThis.\u0275AngularFireScheduler;if(!je)throw new Error("AngularFireModule has not been provided");return je}function It(je){return je.pipe((0,_e.QV)(Ke().insideAngular))}function Ne(je){return Ke(),function(je){return function(ot){return(ot=ot.lift(new et(je.ngZone))).pipe((0,ue.R)(je.outsideAngular),(0,_e.QV)(je.insideAngular))}}(Ke())(je)}},665:(Rt,ze,G)=>{"use strict";G.d(ze,{Fj:()=>ve,NI:()=>Dt,u:()=>Rs,cw:()=>rn,sg:()=>Fi,u5:()=>V,JJ:()=>gn,JL:()=>Ve,On:()=>Zr,UX:()=>Q,Q7:()=>oi,_Y:()=>gr});var C=G(3018),I=G(8583),se=G(7574),Ce=G(9796),Re=G(8002),pe=G(1555),ke=G(4402);function ue(k,M){return new se.y(x=>{const K=k.length;if(0===K)return void x.complete();const Ae=new Array(K);let bt=0,Ht=0;for(let Kn=0;Kn<K;Kn++){const Ir=(0,ke.D)(k[Kn]);let sr=!1;x.add(Ir.subscribe({next:$n=>{sr||(sr=!0,Ht++),Ae[Kn]=$n},error:$n=>x.error($n),complete:()=>{bt++,(bt===K||!sr)&&(Ht===K&&x.next(M?M.reduce(($n,Yr,Es)=>($n[Yr]=Ae[Es],$n),{}):Ae),x.complete())}}))}})}let te=(()=>{class k{constructor(x,K){this._renderer=x,this._elementRef=K,this.onChange=Ae=>{},this.onTouched=()=>{}}setProperty(x,K){this._renderer.setProperty(this._elementRef.nativeElement,x,K)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return k.\u0275fac=function(x){return new(x||k)(C.Y36(C.Qsj),C.Y36(C.SBq))},k.\u0275dir=C.lG2({type:k}),k})(),ae=(()=>{class k extends te{}return k.\u0275fac=function(){let M;return function(K){return(M||(M=C.n5z(k)))(K||k)}}(),k.\u0275dir=C.lG2({type:k,features:[C.qOj]}),k})();const ge=new C.OlP("NgValueAccessor"),Ge={provide:ge,useExisting:(0,C.Gpc)(()=>ve),multi:!0},Fe=new C.OlP("CompositionEventMode");let ve=(()=>{class k extends te{constructor(x,K,Ae){super(x,K),this._compositionMode=Ae,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const k=(0,I.q)()?(0,I.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(x){this.setProperty("value",null==x?"":x)}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return k.\u0275fac=function(x){return new(x||k)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(Fe,8))},k.\u0275dir=C.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,K){1&x&&C.NdJ("input",function(bt){return K._handleInput(bt.target.value)})("blur",function(){return K.onTouched()})("compositionstart",function(){return K._compositionStart()})("compositionend",function(bt){return K._compositionEnd(bt.target.value)})},features:[C._Bn([Ge]),C.qOj]}),k})();const ut=new C.OlP("NgValidators"),Ke=new C.OlP("NgAsyncValidators");function rt(k){return null!=k}function Zt(k){const M=(0,C.QGY)(k)?(0,ke.D)(k):k;return(0,C.CqO)(M),M}function gt(k){let M={};return k.forEach(x=>{M=null!=x?Object.assign(Object.assign({},M),x):M}),0===Object.keys(M).length?null:M}function _t(k,M){return M.map(x=>x(k))}function an(k){return k.map(M=>function(k){return!k.validate}(M)?M:x=>M.validate(x))}function zt(k){return null!=k?function(k){if(!k)return null;const M=k.filter(rt);return 0==M.length?null:function(x){return gt(_t(x,M))}}(an(k)):null}function pt(k){return null!=k?function(k){if(!k)return null;const M=k.filter(rt);return 0==M.length?null:function(x){return function(...k){if(1===k.length){const M=k[0];if((0,Ce.k)(M))return ue(M,null);if((0,pe.K)(M)&&Object.getPrototypeOf(M)===Object.prototype){const x=Object.keys(M);return ue(x.map(K=>M[K]),x)}}if("function"==typeof k[k.length-1]){const M=k.pop();return ue(k=1===k.length&&(0,Ce.k)(k[0])?k[0]:k,null).pipe((0,Re.U)(x=>M(...x)))}return ue(k,null)}(_t(x,M).map(Zt)).pipe((0,Re.U)(gt))}}(an(k)):null}function Xt(k,M){return null===k?[M]:Array.isArray(k)?[...k,M]:[k,M]}function Yt(k){return k._rawValidators}function _n(k){return k._rawAsyncValidators}function mn(k){return k?Array.isArray(k)?k:[k]:[]}function kn(k,M){return Array.isArray(k)?k.includes(M):k===M}function Yn(k,M){const x=mn(M);return mn(k).forEach(Ae=>{kn(x,Ae)||x.push(Ae)}),x}function un(k,M){return mn(M).filter(x=>!kn(k,x))}let Fn=(()=>{class k{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=zt(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,K){return!!this.control&&this.control.hasError(x,K)}getError(x,K){return this.control?this.control.getError(x,K):null}}return k.\u0275fac=function(x){return new(x||k)},k.\u0275dir=C.lG2({type:k}),k})(),Vt=(()=>{class k extends Fn{get formDirective(){return null}get path(){return null}}return k.\u0275fac=function(){let M;return function(K){return(M||(M=C.n5z(k)))(K||k)}}(),k.\u0275dir=C.lG2({type:k,features:[C.qOj]}),k})();class Rn extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dn{constructor(M){this._cd=M}is(M){var x,K,Ae;return"submitted"===M?!!(null===(x=this._cd)||void 0===x?void 0:x.submitted):!!(null===(Ae=null===(K=this._cd)||void 0===K?void 0:K.control)||void 0===Ae?void 0:Ae[M])}}let gn=(()=>{class k extends Dn{constructor(x){super(x)}}return k.\u0275fac=function(x){return new(x||k)(C.Y36(Rn,2))},k.\u0275dir=C.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,K){2&x&&C.ekj("ng-untouched",K.is("untouched"))("ng-touched",K.is("touched"))("ng-pristine",K.is("pristine"))("ng-dirty",K.is("dirty"))("ng-valid",K.is("valid"))("ng-invalid",K.is("invalid"))("ng-pending",K.is("pending"))},features:[C.qOj]}),k})(),Ve=(()=>{class k extends Dn{constructor(x){super(x)}}return k.\u0275fac=function(x){return new(x||k)(C.Y36(Vt,10))},k.\u0275dir=C.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,K){2&x&&C.ekj("ng-untouched",K.is("untouched"))("ng-touched",K.is("touched"))("ng-pristine",K.is("pristine"))("ng-dirty",K.is("dirty"))("ng-valid",K.is("valid"))("ng-invalid",K.is("invalid"))("ng-pending",K.is("pending"))("ng-submitted",K.is("submitted"))},features:[C.qOj]}),k})();function St(k,M){return[...M.path,k]}function Kt(k,M){qe(k,M),M.valueAccessor.writeValue(k.value),function(k,M){M.valueAccessor.registerOnChange(x=>{k._pendingValue=x,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&bn(k,M)})}(k,M),function(k,M){const x=(K,Ae)=>{M.valueAccessor.writeValue(K),Ae&&M.viewToModelUpdate(K)};k.registerOnChange(x),M._registerOnDestroy(()=>{k._unregisterOnChange(x)})}(k,M),function(k,M){M.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&bn(k,M),"submit"!==k.updateOn&&k.markAsTouched()})}(k,M),function(k,M){if(M.valueAccessor.setDisabledState){const x=K=>{M.valueAccessor.setDisabledState(K)};k.registerOnDisabledChange(x),M._registerOnDestroy(()=>{k._unregisterOnDisabledChange(x)})}}(k,M)}function we(k,M,x=!0){const K=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(K),M.valueAccessor.registerOnTouched(K)),Me(k,M),k&&(M._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function oe(k,M){k.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(M)})}function qe(k,M){const x=Yt(k);null!==M.validator?k.setValidators(Xt(x,M.validator)):"function"==typeof x&&k.setValidators([x]);const K=_n(k);null!==M.asyncValidator?k.setAsyncValidators(Xt(K,M.asyncValidator)):"function"==typeof K&&k.setAsyncValidators([K]);const Ae=()=>k.updateValueAndValidity();oe(M._rawValidators,Ae),oe(M._rawAsyncValidators,Ae)}function Me(k,M){let x=!1;if(null!==k){if(null!==M.validator){const Ae=Yt(k);if(Array.isArray(Ae)&&Ae.length>0){const bt=Ae.filter(Ht=>Ht!==M.validator);bt.length!==Ae.length&&(x=!0,k.setValidators(bt))}}if(null!==M.asyncValidator){const Ae=_n(k);if(Array.isArray(Ae)&&Ae.length>0){const bt=Ae.filter(Ht=>Ht!==M.asyncValidator);bt.length!==Ae.length&&(x=!0,k.setAsyncValidators(bt))}}}const K=()=>{};return oe(M._rawValidators,K),oe(M._rawAsyncValidators,K),x}function bn(k,M){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function gi(k,M){if(!k.hasOwnProperty("model"))return!1;const x=k.model;return!!x.isFirstChange()||!Object.is(M,x.currentValue)}function Ei(k,M){if(!M)return null;let x,K,Ae;return Array.isArray(M),M.forEach(bt=>{bt.constructor===ve?x=bt:function(k){return Object.getPrototypeOf(k.constructor)===ae}(bt)?K=bt:Ae=bt}),Ae||K||x||null}function bi(k,M){const x=k.indexOf(M);x>-1&&k.splice(x,1)}const Nr="VALID",pr="INVALID",Dr="PENDING",Mr="DISABLED";function Mt(k){return(ls(k)?k.validators:k)||null}function Fr(k){return Array.isArray(k)?zt(k):k||null}function Ci(k,M){return(ls(M)?M.asyncValidators:k)||null}function vn(k){return Array.isArray(k)?pt(k):k||null}function ls(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}class br{constructor(M,x){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=M,this._rawAsyncValidators=x,this._composedValidatorFn=Fr(this._rawValidators),this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===Nr}get invalid(){return this.status===pr}get pending(){return this.status==Dr}get disabled(){return this.status===Mr}get enabled(){return this.status!==Mr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._rawValidators=M,this._composedValidatorFn=Fr(M)}setAsyncValidators(M){this._rawAsyncValidators=M,this._composedAsyncValidatorFn=vn(M)}addValidators(M){this.setValidators(Yn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Yn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(un(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(un(M,this._rawAsyncValidators))}hasValidator(M){return kn(this._rawValidators,M)}hasAsyncValidator(M){return kn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=Dr,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const x=this._parentMarkedDirty(M.onlySelf);this.status=Mr,this.errors=null,this._forEachChild(K=>{K.disable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:x})),this._onDisabledChange.forEach(K=>K(!0))}enable(M={}){const x=this._parentMarkedDirty(M.onlySelf);this.status=Nr,this._forEachChild(K=>{K.enable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:x})),this._onDisabledChange.forEach(K=>K(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nr||this.status===Dr)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mr:Nr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=Dr,this._hasOwnPendingAsyncValidator=!0;const x=Zt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(K=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(K,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,x={}){this.errors=M,this._updateControlsErrors(!1!==x.emitEvent)}get(M){return function(k,M,x){if(null==M||(Array.isArray(M)||(M=M.split(".")),Array.isArray(M)&&0===M.length))return null;let K=k;return M.forEach(Ae=>{K=K instanceof rn?K.controls.hasOwnProperty(Ae)?K.controls[Ae]:null:K instanceof Ln&&K.at(Ae)||null}),K}(this,M)}getError(M,x){const K=x?this.get(x):this;return K&&K.errors?K.errors[M]:null}hasError(M,x){return!!this.getError(M,x)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?Mr:this.errors?pr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dr)?Dr:this._anyControlsHaveStatus(pr)?pr:Nr}_anyControlsHaveStatus(M){return this._anyControls(x=>x.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_isBoxedValue(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){ls(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Dt extends br{constructor(M=null,x,K){super(Mt(x),Ci(K,x)),this._onChange=[],this._applyFormState(M),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(M,x={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(K=>K(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(M,x={}){this.setValue(M,x)}reset(M=null,x={}){this._applyFormState(M),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){bi(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){bi(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){this._isBoxedValue(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}}class rn extends br{constructor(M,x,K){super(Mt(x),Ci(K,x)),this.controls=M,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,x){return this.controls[M]?this.controls[M]:(this.controls[M]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(M,x,K={}){this.registerControl(M,x),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}removeControl(M,x={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(M,x,K={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],x&&this.registerControl(M,x),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,x={}){this._checkAllValuesPresent(M),Object.keys(M).forEach(K=>{this._throwIfControlMissing(K),this.controls[K].setValue(M[K],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(M,x={}){null!=M&&(Object.keys(M).forEach(K=>{this.controls[K]&&this.controls[K].patchValue(M[K],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(M={},x={}){this._forEachChild((K,Ae)=>{K.reset(M[Ae],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(M,x,K)=>(M[K]=x instanceof Dt?x.value:x.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(x,K)=>!!K._syncPendingControls()||x);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[M])throw new Error(`Cannot find form control with name: ${M}.`)}_forEachChild(M){Object.keys(this.controls).forEach(x=>{const K=this.controls[x];K&&M(K,x)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const x of Object.keys(this.controls)){const K=this.controls[x];if(this.contains(x)&&M(K))return!0}return!1}_reduceValue(){return this._reduceChildren({},(M,x,K)=>((x.enabled||this.disabled)&&(M[K]=x.value),M))}_reduceChildren(M,x){let K=M;return this._forEachChild((Ae,bt)=>{K=x(K,Ae,bt)}),K}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(M){this._forEachChild((x,K)=>{if(void 0===M[K])throw new Error(`Must supply a value for form control with name: '${K}'.`)})}}class Ln extends br{constructor(M,x,K){super(Mt(x),Ci(K,x)),this.controls=M,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[M]}push(M,x={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(M,x,K={}){this.controls.splice(M,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:K.emitEvent})}removeAt(M,x={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(M,x,K={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),x&&(this.controls.splice(M,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,x={}){this._checkAllValuesPresent(M),M.forEach((K,Ae)=>{this._throwIfControlMissing(Ae),this.at(Ae).setValue(K,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(M,x={}){null!=M&&(M.forEach((K,Ae)=>{this.at(Ae)&&this.at(Ae).patchValue(K,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(M=[],x={}){this._forEachChild((K,Ae)=>{K.reset(M[Ae],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(M=>M instanceof Dt?M.value:M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_syncPendingControls(){let M=this.controls.reduce((x,K)=>!!K._syncPendingControls()||x,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(M))throw new Error(`Cannot find form control at index ${M}`)}_forEachChild(M){this.controls.forEach((x,K)=>{M(x,K)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(x=>x.enabled&&M(x))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_checkAllValuesPresent(M){this._forEachChild((x,K)=>{if(void 0===M[K])throw new Error(`Must supply a value for form control at index: ${K}.`)})}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}}const Hr={provide:Rn,useExisting:(0,C.Gpc)(()=>Zr)},qr=(()=>Promise.resolve(null))();let Zr=(()=>{class k extends Rn{constructor(x,K,Ae,bt){super(),this.control=new Dt,this._registered=!1,this.update=new C.vpe,this._parent=x,this._setValidators(K),this._setAsyncValidators(Ae),this.valueAccessor=Ei(0,bt)}ngOnChanges(x){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in x&&this._updateDisabled(x),gi(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?St(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){qr.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1})})}_updateDisabled(x){const K=x.isDisabled.currentValue,Ae=""===K||K&&"false"!==K;qr.then(()=>{Ae&&!this.control.disabled?this.control.disable():!Ae&&this.control.disabled&&this.control.enable()})}}return k.\u0275fac=function(x){return new(x||k)(C.Y36(Vt,9),C.Y36(ut,10),C.Y36(Ke,10),C.Y36(ge,10))},k.\u0275dir=C.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([Hr]),C.qOj,C.TTD]}),k})(),gr=(()=>{class k{}return k.\u0275fac=function(x){return new(x||k)},k.\u0275dir=C.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})(),ni=(()=>{class k{}return k.\u0275fac=function(x){return new(x||k)},k.\u0275mod=C.oAB({type:k}),k.\u0275inj=C.cJS({}),k})();const mr=new C.OlP("NgModelWithFormControlWarning"),tr={provide:Vt,useExisting:(0,C.Gpc)(()=>Fi)};let Fi=(()=>{class k extends Vt{constructor(x,K){super(),this.validators=x,this.asyncValidators=K,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new C.vpe,this._setValidators(x),this._setAsyncValidators(K)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Me(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const K=this.form.get(x.path);return Kt(K,x),K.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),K}getControl(x){return this.form.get(x.path)}removeControl(x){we(x.control||null,x,!1),bi(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,K){this.form.get(x.path).setValue(K)}onSubmit(x){return this.submitted=!0,function(k,M){k._syncPendingControls(),M.forEach(x=>{const K=x.control;"submit"===K.updateOn&&K._pendingChange&&(x.viewToModelUpdate(K._pendingValue),K._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const K=x.control,Ae=this.form.get(x.path);K!==Ae&&(we(K||null,x),Ae instanceof Dt&&(Kt(Ae,x),x.control=Ae))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const K=this.form.get(x.path);(function(k,M){qe(k,M)})(K,x),K.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const K=this.form.get(x.path);K&&function(k,M){return Me(k,M)}(K,x)&&K.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qe(this.form,this),this._oldForm&&Me(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(x){return new(x||k)(C.Y36(ut,10),C.Y36(Ke,10))},k.\u0275dir=C.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(x,K){1&x&&C.NdJ("submit",function(bt){return K.onSubmit(bt)})("reset",function(){return K.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([tr]),C.qOj,C.TTD]}),k})();const Ii={provide:Rn,useExisting:(0,C.Gpc)(()=>Rs)};let Rs=(()=>{class k extends Rn{constructor(x,K,Ae,bt,Ht){super(),this._ngModelWarningConfig=Ht,this._added=!1,this.update=new C.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(K),this._setAsyncValidators(Ae),this.valueAccessor=Ei(0,bt)}set isDisabled(x){}ngOnChanges(x){this._added||this._setUpControl(),gi(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return k.\u0275fac=function(x){return new(x||k)(C.Y36(Vt,13),C.Y36(ut,10),C.Y36(Ke,10),C.Y36(ge,10),C.Y36(mr,8))},k.\u0275dir=C.lG2({type:k,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[C._Bn([Ii]),C.qOj,C.TTD]}),k._ngModelWarningSentOnce=!1,k})();const Ms={provide:ut,useExisting:(0,C.Gpc)(()=>oi),multi:!0};let oi=(()=>{class k{constructor(){this._required=!1}get required(){return this._required}set required(x){this._required=null!=x&&!1!==x&&"false"!=`${x}`,this._onChange&&this._onChange()}validate(x){return this.required?function(k){return function(k){return null==k||0===k.length}(k.value)?{required:!0}:null}(x):null}registerOnValidatorChange(x){this._onChange=x}}return k.\u0275fac=function(x){return new(x||k)},k.\u0275dir=C.lG2({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(x,K){2&x&&C.uIk("required",K.required?"":null)},inputs:{required:"required"},features:[C._Bn([Ms])]}),k})(),Z=(()=>{class k{}return k.\u0275fac=function(x){return new(x||k)},k.\u0275mod=C.oAB({type:k}),k.\u0275inj=C.cJS({imports:[[ni]]}),k})(),V=(()=>{class k{}return k.\u0275fac=function(x){return new(x||k)},k.\u0275mod=C.oAB({type:k}),k.\u0275inj=C.cJS({imports:[Z]}),k})(),Q=(()=>{class k{static withConfig(x){return{ngModule:k,providers:[{provide:mr,useValue:x.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(x){return new(x||k)},k.\u0275mod=C.oAB({type:k}),k.\u0275inj=C.cJS({imports:[Z]}),k})()},4363:(Rt,ze,G)=>{"use strict";G.d(ze,{F0:()=>Un,yS:()=>zi,Bz:()=>Ea,lC:()=>os});var C=G(8583),I=G(3018),se=G(9765),Ce=G(7971);class Re extends se.xQ{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const w=super._subscribe(E);return w&&!w.closed&&E.next(this._value),w}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ce.N;return this._value}next(E){super.next(this._value=E)}}var pe=G(4869),ke=G(9796),_e=G(7393);class ue extends _e.L{notifyNext(E,w,O,B,Y){this.destination.next(w)}notifyError(E,w){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class te extends _e.L{constructor(E,w,O){super(),this.parent=E,this.outerValue=w,this.outerIndex=O,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ae=G(7444),ge=G(7574);function he(S,E,w,O,B=new te(S,w,O)){if(!B.closed)return E instanceof ge.y?E.subscribe(B):(0,ae.s)(E)(B)}var Ie=G(6693);const Ge={};class Fe{constructor(E){this.resultSelector=E}call(E,w){return w.subscribe(new ve(E,this.resultSelector))}}class ve extends ue{constructor(E,w){super(E),this.resultSelector=w,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(Ge),this.observables.push(E)}_complete(){const E=this.observables,w=E.length;if(0===w)this.destination.complete();else{this.active=w,this.toRespond=w;for(let O=0;O<w;O++)this.add(he(this,E[O],void 0,O))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,w,O){const B=this.values,de=this.toRespond?B[O]===Ge?--this.toRespond:this.toRespond:0;B[O]=w,0===de&&(this.resultSelector?this._tryResultSelector(B):this.destination.next(B.slice()))}_tryResultSelector(E){let w;try{w=this.resultSelector.apply(this,E)}catch(O){return void this.destination.error(O)}this.destination.next(w)}}var Je=G(4402),et=G(9193);function ut(S){return new ge.y(E=>{let w;try{w=S()}catch(B){return void E.error(B)}return(w?(0,Je.D)(w):(0,et.c)()).subscribe(E)})}var Ke=G(5917),fe=G(3410),Ze=G(8071),on=G(2441),It=G(5345);function Ne(S){return function(w){const O=new Ue(S),B=w.lift(O);return O.caught=B}}class Ue{constructor(E){this.selector=E}call(E,w){return w.subscribe(new We(E,this.selector,this.caught))}}class We extends It.Ds{constructor(E,w,O){super(E),this.selector=w,this.caught=O}error(E){if(!this.isStopped){let w;try{w=this.selector(E,this.caught)}catch(Y){return void super.error(Y)}this._unsubscribeAndRecycle();const O=new It.IY(this);this.add(O);const B=(0,It.ft)(w,O);B!==O&&this.add(B)}}}var $e=G(5435),je=G(7108);function le(S){return function(w){return 0===S?(0,et.c)():w.lift(new ot(S))}}class ot{constructor(E){if(this.total=E,this.total<0)throw new je.W}call(E,w){return w.subscribe(new rt(E,this.total))}}class rt extends _e.L{constructor(E,w){super(E),this.total=w,this.ring=new Array,this.count=0}_next(E){const w=this.ring,O=this.total,B=this.count++;w.length<O?w.push(E):w[B%O]=E}_complete(){const E=this.destination;let w=this.count;if(w>0){const O=this.count>=this.total?this.total:this.count,B=this.ring;for(let Y=0;Y<O;Y++){const de=w++%O;E.next(B[de])}}E.complete()}}var Zt=G(4635),gt=G(5242),_t=G(4487),an=G(5319);class zt{constructor(E){this.callback=E}call(E,w){return w.subscribe(new Tt(E,this.callback))}}class Tt extends _e.L{constructor(E,w){super(E),this.add(new an.w(w))}}var pt=G(8002),Xt=G(3190),Yt=G(5257),_n=G(9761),mn=G(2145),kn=G(4612),Yn=G(8049),un=G(9773),Fn=G(3342),Vt=G(1307),Rn=G(3282);class Dn{constructor(E,w){this.id=E,this.url=w}}class en extends Dn{constructor(E,w,O="imperative",B=null){super(E,w),this.navigationTrigger=O,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bt extends Dn{constructor(E,w,O){super(E,w),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gn extends Dn{constructor(E,w,O){super(E,w),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ve extends Dn{constructor(E,w,O){super(E,w),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class re extends Dn{constructor(E,w,O,B){super(E,w),this.urlAfterRedirects=O,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class me extends Dn{constructor(E,w,O,B){super(E,w),this.urlAfterRedirects=O,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends Dn{constructor(E,w,O,B,Y){super(E,w),this.urlAfterRedirects=O,this.state=B,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tt extends Dn{constructor(E,w,O,B){super(E,w),this.urlAfterRedirects=O,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends Dn{constructor(E,w,O,B){super(E,w),this.urlAfterRedirects=O,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Et{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qt{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(E,w,O){this.routerEvent=E,this.position=w,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class Kt{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const w=this.params[E];return Array.isArray(w)?w[0]:w}return null}getAll(E){if(this.has(E)){const w=this.params[E];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function we(S){return new Kt(S)}const oe="ngNavigationCancelingError";function xe(S){const E=Error("NavigationCancelingError: "+S);return E[oe]=!0,E}function Me(S,E,w){const O=w.path.split("/");if(O.length>S.length||"full"===w.pathMatch&&(E.hasChildren()||O.length<S.length))return null;const B={};for(let Y=0;Y<O.length;Y++){const de=O[Y],De=S[Y];if(de.startsWith(":"))B[de.substring(1)]=De;else if(de!==De.path)return null}return{consumed:S.slice(0,O.length),posParams:B}}function Ot(S,E){const w=S?Object.keys(S):void 0,O=E?Object.keys(E):void 0;if(!w||!O||w.length!=O.length)return!1;let B;for(let Y=0;Y<w.length;Y++)if(B=w[Y],!bn(S[B],E[B]))return!1;return!0}function bn(S,E){if(Array.isArray(S)&&Array.isArray(E)){if(S.length!==E.length)return!1;const w=[...S].sort(),O=[...E].sort();return w.every((B,Y)=>O[Y]===B)}return S===E}function Cn(S){return Array.prototype.concat.apply([],S)}function dn(S){return S.length>0?S[S.length-1]:null}function Gt(S,E){for(const w in S)S.hasOwnProperty(w)&&E(S[w],w)}function Mn(S){return(0,I.CqO)(S)?S:(0,I.QGY)(S)?(0,Je.D)(Promise.resolve(S)):(0,Ke.of)(S)}const hn={exact:function _s(S,E,w){if(!vn(S.segments,E.segments)||!Mr(S.segments,E.segments,w)||S.numberOfChildren!==E.numberOfChildren)return!1;for(const O in E.children)if(!S.children[O]||!_s(S.children[O],E.children[O],w))return!1;return!0},subset:pr},$s={exact:function(S,E){return Ot(S,E)},subset:function(S,E){return Object.keys(E).length<=Object.keys(S).length&&Object.keys(E).every(w=>bn(S[w],E[w]))},ignored:()=>!0};function Ei(S,E,w){return hn[w.paths](S.root,E.root,w.matrixParams)&&$s[w.queryParams](S.queryParams,E.queryParams)&&!("exact"===w.fragment&&S.fragment!==E.fragment)}function pr(S,E,w){return Dr(S,E,E.segments,w)}function Dr(S,E,w,O){if(S.segments.length>w.length){const B=S.segments.slice(0,w.length);return!(!vn(B,w)||E.hasChildren()||!Mr(B,w,O))}if(S.segments.length===w.length){if(!vn(S.segments,w)||!Mr(S.segments,w,O))return!1;for(const B in E.children)if(!S.children[B]||!pr(S.children[B],E.children[B],O))return!1;return!0}{const B=w.slice(0,S.segments.length),Y=w.slice(S.segments.length);return!!(vn(S.segments,B)&&Mr(S.segments,B,O)&&S.children[St])&&Dr(S.children[St],E,Y,O)}}function Mr(S,E,w){return E.every((O,B)=>$s[w](S[B].parameters,O.parameters))}class jr{constructor(E,w,O){this.root=E,this.queryParams=w,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=we(this.queryParams)),this._queryParamMap}toString(){return rn.serialize(this)}}class Mt{constructor(E,w){this.segments=E,this.children=w,this.parent=null,Gt(w,(O,B)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ln(this)}}class Fr{constructor(E,w){this.path=E,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=we(this.parameters)),this._parameterMap}toString(){return cn(this)}}function vn(S,E){return S.length===E.length&&S.every((w,O)=>w.path===E[O].path)}class br{}class Dt{parse(E){const w=new On(E);return new jr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(E){var S;return`${`/${dr(E.root,!0)}`}${function(S){const E=Object.keys(S).map(w=>{const O=S[w];return Array.isArray(O)?O.map(B=>`${ln(w)}=${ln(B)}`).join("&"):`${ln(w)}=${ln(O)}`}).filter(w=>!!w);return E.length?`?${E.join("&")}`:""}(E.queryParams)}${"string"==typeof E.fragment?`#${S=E.fragment,encodeURI(S)}`:""}`}}const rn=new Dt;function Ln(S){return S.segments.map(E=>cn(E)).join("/")}function dr(S,E){if(!S.hasChildren())return Ln(S);if(E){const w=S.children[St]?dr(S.children[St],!1):"",O=[];return Gt(S.children,(B,Y)=>{Y!==St&&O.push(`${Y}:${dr(B,!1)}`)}),O.length>0?`${w}(${O.join("//")})`:w}{const w=function(S,E){let w=[];return Gt(S.children,(O,B)=>{B===St&&(w=w.concat(E(O,B)))}),Gt(S.children,(O,B)=>{B!==St&&(w=w.concat(E(O,B)))}),w}(S,(O,B)=>B===St?[dr(S.children[St],!1)]:[`${B}:${dr(O,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[St]?`${Ln(S)}/${w[0]}`:`${Ln(S)}/(${w.join("//")})`}}function Vn(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(S){return Vn(S).replace(/%3B/gi,";")}function Bn(S){return Vn(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mi(S){return decodeURIComponent(S)}function Ss(S){return mi(S.replace(/\+/g,"%20"))}function cn(S){return`${Bn(S.path)}${function(S){return Object.keys(S).map(E=>`;${Bn(E)}=${Bn(S[E])}`).join("")}(S.parameters)}`}const ti=/^[^\/()?;=#]+/;function Hr(S){const E=S.match(ti);return E?E[0]:""}const $r=/^[^=?&#]+/,Zr=/^[^?&#]+/;class On{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(E.length>0||Object.keys(w).length>0)&&(O[St]=new Mt(E,w)),O}parseSegment(){const E=Hr(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new Fr(mi(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const w=Hr(this.remaining);if(!w)return;this.capture(w);let O="";if(this.consumeOptional("=")){const B=Hr(this.remaining);B&&(O=B,this.capture(O))}E[mi(w)]=mi(O)}parseQueryParam(E){const w=function(S){const E=S.match($r);return E?E[0]:""}(this.remaining);if(!w)return;this.capture(w);let O="";if(this.consumeOptional("=")){const de=function(S){const E=S.match(Zr);return E?E[0]:""}(this.remaining);de&&(O=de,this.capture(O))}const B=Ss(w),Y=Ss(O);if(E.hasOwnProperty(B)){let de=E[B];Array.isArray(de)||(de=[de],E[B]=de),de.push(Y)}else E[B]=Y}parseParens(E){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Hr(this.remaining),B=this.remaining[O.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let Y;O.indexOf(":")>-1?(Y=O.substr(0,O.indexOf(":")),this.capture(Y),this.capture(":")):E&&(Y=St);const de=this.parseChildren();w[Y]=1===Object.keys(de).length?de[St]:new Mt([],de),this.consumeOptional("//")}return w}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class ki{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const w=this.pathFromRoot(E);return w.length>1?w[w.length-2]:null}children(E){const w=Jt(E,this._root);return w?w.children.map(O=>O.value):[]}firstChild(E){const w=Jt(E,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(E){const w=Yi(E,this._root);return w.length<2?[]:w[w.length-2].children.map(B=>B.value).filter(B=>B!==E)}pathFromRoot(E){return Yi(E,this._root).map(w=>w.value)}}function Jt(S,E){if(S===E.value)return E;for(const w of E.children){const O=Jt(S,w);if(O)return O}return null}function Yi(S,E){if(S===E.value)return[E];for(const w of E.children){const O=Yi(S,w);if(O.length)return O.unshift(E),O}return[]}class ni{constructor(E,w){this.value=E,this.children=w}toString(){return`TreeNode(${this.value})`}}function Gr(S){const E={};return S&&S.children.forEach(w=>E[w.value.outlet]=w),E}class yi extends ki{constructor(E,w){super(E),this.snapshot=w,Li(this,E)}toString(){return this.snapshot.toString()}}function ri(S,E){const w=function(S,E){const de=new tr([],{},{},"",{},St,E,null,S.root,-1,{});return new Fi("",new ni(de,[]))}(S,E),O=new Re([new Fr("",{})]),B=new Re({}),Y=new Re({}),de=new Re({}),De=new Re(""),st=new mr(O,B,de,De,Y,St,E,w.root);return st.snapshot=w.root,new yi(new ni(st,[]),w)}class mr{constructor(E,w,O,B,Y,de,De,st){this.url=E,this.params=w,this.queryParams=O,this.fragment=B,this.data=Y,this.outlet=de,this.component=De,this._futureSnapshot=st}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(E=>we(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(E=>we(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yr(S,E="emptyOnly"){const w=S.pathFromRoot;let O=0;if("always"!==E)for(O=w.length-1;O>=1;){const B=w[O],Y=w[O-1];if(B.routeConfig&&""===B.routeConfig.path)O--;else{if(Y.component)break;O--}}return function(S){return S.reduce((E,w)=>({params:Object.assign(Object.assign({},E.params),w.params),data:Object.assign(Object.assign({},E.data),w.data),resolve:Object.assign(Object.assign({},E.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(O))}class tr{constructor(E,w,O,B,Y,de,De,st,Pt,Ut,xn){this.url=E,this.params=w,this.queryParams=O,this.fragment=B,this.data=Y,this.outlet=de,this.component=De,this.routeConfig=st,this._urlSegment=Pt,this._lastPathIndex=Ut,this._resolve=xn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=we(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=we(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fi extends ki{constructor(E,w){super(w),this.url=E,Li(this,w)}toString(){return zn(this._root)}}function Li(S,E){E.value._routerState=S,E.children.forEach(w=>Li(S,w))}function zn(S){const E=S.children.length>0?` { ${S.children.map(zn).join(", ")} } `:"";return`${S.value}${E}`}function Qi(S){if(S.snapshot){const E=S.snapshot,w=S._futureSnapshot;S.snapshot=w,Ot(E.queryParams,w.queryParams)||S.queryParams.next(w.queryParams),E.fragment!==w.fragment&&S.fragment.next(w.fragment),Ot(E.params,w.params)||S.params.next(w.params),function(S,E){if(S.length!==E.length)return!1;for(let w=0;w<S.length;++w)if(!Ot(S[w],E[w]))return!1;return!0}(E.url,w.url)||S.url.next(w.url),Ot(E.data,w.data)||S.data.next(w.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Ji(S,E){return Ot(S.params,E.params)&&function(S,E){return vn(S,E)&&S.every((w,O)=>Ot(w.parameters,E[O].parameters))}(S.url,E.url)&&!(!S.parent!=!E.parent)&&(!S.parent||Ji(S.parent,E.parent))}function Ii(S,E,w){if(w&&S.shouldReuseRoute(E.value,w.value.snapshot)){const O=w.value;O._futureSnapshot=E.value;const B=function(S,E,w){return E.children.map(O=>{for(const B of w.children)if(S.shouldReuseRoute(O.value,B.value.snapshot))return Ii(S,O,B);return Ii(S,O)})}(S,E,w);return new ni(O,B)}{if(S.shouldAttach(E.value)){const Y=S.retrieve(E.value);if(null!==Y){const de=Y.route;return Rs(E,de),de}}const O=function(S){return new mr(new Re(S.url),new Re(S.params),new Re(S.queryParams),new Re(S.fragment),new Re(S.data),S.outlet,S.component,S)}(E.value),B=E.children.map(Y=>Ii(S,Y));return new ni(O,B)}}function Rs(S,E){if(S.value.routeConfig!==E.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(S.children.length!==E.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");E.value._futureSnapshot=S.value;for(let w=0;w<S.children.length;++w)Rs(S.children[w],E.children[w])}function Xi(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ui(S){return"object"==typeof S&&null!=S&&S.outlets}function cs(S,E,w,O,B){let Y={};return O&&Gt(O,(de,De)=>{Y[De]=Array.isArray(de)?de.map(st=>`${st}`):`${de}`}),new jr(w.root===S?E:Bi(w.root,S,E),Y,B)}function Bi(S,E,w){const O={};return Gt(S.children,(B,Y)=>{O[Y]=B===E?w:Bi(B,E,w)}),new Mt(S.segments,O)}class Lr{constructor(E,w,O){if(this.isAbsolute=E,this.numberOfDoubleDots=w,this.commands=O,E&&O.length>0&&Xi(O[0]))throw new Error("Root segment cannot have matrix parameters");const B=O.find(Ui);if(B&&B!==dn(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ii{constructor(E,w,O){this.segmentGroup=E,this.processChildren=w,this.index=O}}function Hi(S,E,w){if(S||(S=new Mt([],{})),0===S.segments.length&&S.hasChildren())return Kr(S,E,w);const O=function(S,E,w){let O=0,B=E;const Y={match:!1,pathIndex:0,commandIndex:0};for(;B<S.segments.length;){if(O>=w.length)return Y;const de=S.segments[B],De=w[O];if(Ui(De))break;const st=`${De}`,Pt=O<w.length-1?w[O+1]:null;if(B>0&&void 0===st)break;if(st&&Pt&&"object"==typeof Pt&&void 0===Pt.outlets){if(!oi(st,Pt,de))return Y;O+=2}else{if(!oi(st,{},de))return Y;O++}B++}return{match:!0,pathIndex:B,commandIndex:O}}(S,E,w),B=w.slice(O.commandIndex);if(O.match&&O.pathIndex<S.segments.length){const Y=new Mt(S.segments.slice(0,O.pathIndex),{});return Y.children[St]=new Mt(S.segments.slice(O.pathIndex),S.children),Kr(Y,0,B)}return O.match&&0===B.length?new Mt(S.segments,{}):O.match&&!S.hasChildren()?Di(S,E,w):O.match?Kr(S,0,B):Di(S,E,w)}function Kr(S,E,w){if(0===w.length)return new Mt(S.segments,{});{const O=function(S){return Ui(S[0])?S[0].outlets:{[St]:S}}(w),B={};return Gt(O,(Y,de)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(B[de]=Hi(S.children[de],E,Y))}),Gt(S.children,(Y,de)=>{void 0===O[de]&&(B[de]=Y)}),new Mt(S.segments,B)}}function Di(S,E,w){const O=S.segments.slice(0,E);let B=0;for(;B<w.length;){const Y=w[B];if(Ui(Y)){const st=Ms(Y.outlets);return new Mt(O,st)}if(0===B&&Xi(w[0])){O.push(new Fr(S.segments[E].path,si(w[0]))),B++;continue}const de=Ui(Y)?Y.outlets[St]:`${Y}`,De=B<w.length-1?w[B+1]:null;de&&De&&Xi(De)?(O.push(new Fr(de,si(De))),B+=2):(O.push(new Fr(de,{})),B++)}return new Mt(O,{})}function Ms(S){const E={};return Gt(S,(w,O)=>{"string"==typeof w&&(w=[w]),null!==w&&(E[O]=Di(new Mt([],{}),0,w))}),E}function si(S){const E={};return Gt(S,(w,O)=>E[O]=`${w}`),E}function oi(S,E,w){return S==w.path&&Ot(E,w.parameters)}class ws{constructor(E,w,O,B){this.routeReuseStrategy=E,this.futureState=w,this.currState=O,this.forwardEvent=B}activate(E){const w=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,O,E),Qi(this.futureState.root),this.activateChildRoutes(w,O,E)}deactivateChildRoutes(E,w,O){const B=Gr(w);E.children.forEach(Y=>{const de=Y.value.outlet;this.deactivateRoutes(Y,B[de],O),delete B[de]}),Gt(B,(Y,de)=>{this.deactivateRouteAndItsChildren(Y,O)})}deactivateRoutes(E,w,O){const B=E.value,Y=w?w.value:null;if(B===Y)if(B.component){const de=O.getContext(B.outlet);de&&this.deactivateChildRoutes(E,w,de.children)}else this.deactivateChildRoutes(E,w,O);else Y&&this.deactivateRouteAndItsChildren(w,O)}deactivateRouteAndItsChildren(E,w){this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,w):this.deactivateRouteAndOutlet(E,w)}detachAndStoreRouteSubtree(E,w){const O=w.getContext(E.value.outlet);if(O&&O.outlet){const B=O.outlet.detach(),Y=O.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:B,route:E,contexts:Y})}}deactivateRouteAndOutlet(E,w){const O=w.getContext(E.value.outlet),B=O&&E.value.component?O.children:w,Y=Gr(E);for(const de of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[de],B);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(E,w,O){const B=Gr(w);E.children.forEach(Y=>{this.activateRoutes(Y,B[Y.value.outlet],O),this.forwardEvent(new En(Y.value.snapshot))}),E.children.length&&this.forwardEvent(new lr(E.value.snapshot))}activateRoutes(E,w,O){const B=E.value,Y=w?w.value:null;if(Qi(B),B===Y)if(B.component){const de=O.getOrCreateContext(B.outlet);this.activateChildRoutes(E,w,de.children)}else this.activateChildRoutes(E,w,O);else if(B.component){const de=O.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const De=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),de.children.onOutletReAttached(De.contexts),de.attachRef=De.componentRef,de.route=De.route.value,de.outlet&&de.outlet.attach(De.componentRef,De.route.value),oo(De.route)}else{const De=function(S){for(let E=S.parent;E;E=E.parent){const w=E.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(B.snapshot),st=De?De.module.componentFactoryResolver:null;de.attachRef=null,de.route=B,de.resolver=st,de.outlet&&de.outlet.activateWith(B,st),this.activateChildRoutes(E,null,de.children)}}else this.activateChildRoutes(E,null,O)}}function oo(S){Qi(S.value),S.children.forEach(oo)}class Ti{constructor(E,w){this.routes=E,this.module=w}}function vr(S){return"function"==typeof S}function wr(S){return S instanceof jr}const Z=Symbol("INITIAL_VALUE");function V(){return(0,Xt.w)(S=>function(...S){let E,w;return(0,pe.K)(S[S.length-1])&&(w=S.pop()),"function"==typeof S[S.length-1]&&(E=S.pop()),1===S.length&&(0,ke.k)(S[0])&&(S=S[0]),(0,Ie.n)(S,w).lift(new Fe(E))}(S.map(E=>E.pipe((0,Yt.q)(1),(0,_n.O)(Z)))).pipe((0,mn.R)((E,w)=>{let O=!1;return w.reduce((B,Y,de)=>B!==Z?B:(Y===Z&&(O=!0),O||!1!==Y&&de!==w.length-1&&!wr(Y)?B:Y),E)},Z),(0,$e.h)(E=>E!==Z),(0,pt.U)(E=>wr(E)?E:!0===E),(0,Yt.q)(1)))}let Q=(()=>{class S{}return S.\u0275fac=function(w){return new(w||S)},S.\u0275cmp=I.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,O){1&w&&I._UZ(0,"router-outlet")},directives:function(){return[os]},encapsulation:2}),S})();function be(S,E=""){for(let w=0;w<S.length;w++){const O=S[w];He(O,lt(E,O))}}function He(S,E){S.children&&be(S.children,E)}function lt(S,E){return E?S||E.path?S&&!E.path?`${S}/`:!S&&E.path?E.path:`${S}/${E.path}`:"":S}function k(S){const E=S.children&&S.children.map(k),w=E?Object.assign(Object.assign({},S),{children:E}):Object.assign({},S);return!w.component&&(E||w.loadChildren)&&w.outlet&&w.outlet!==St&&(w.component=Q),w}function M(S){return S.outlet||St}function x(S,E){const w=S.filter(O=>M(O)===E);return w.push(...S.filter(O=>M(O)!==E)),w}const K={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ae(S,E,w){var O;if(""===E.path)return"full"===E.pathMatch&&(S.hasChildren()||w.length>0)?Object.assign({},K):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Y=(E.matcher||Me)(w,S,E);if(!Y)return Object.assign({},K);const de={};Gt(Y.posParams,(st,Pt)=>{de[Pt]=st.path});const De=Y.consumed.length>0?Object.assign(Object.assign({},de),Y.consumed[Y.consumed.length-1].parameters):de;return{matched:!0,consumedSegments:Y.consumed,lastChild:Y.consumed.length,parameters:De,positionalParamSegments:null!==(O=Y.posParams)&&void 0!==O?O:{}}}function bt(S,E,w,O,B="corrected"){if(w.length>0&&function(S,E,w){return w.some(O=>$n(S,E,O)&&M(O)!==St)}(S,w,O)){const de=new Mt(E,function(S,E,w,O){const B={};B[St]=O,O._sourceSegment=S,O._segmentIndexShift=E.length;for(const Y of w)if(""===Y.path&&M(Y)!==St){const de=new Mt([],{});de._sourceSegment=S,de._segmentIndexShift=E.length,B[M(Y)]=de}return B}(S,E,O,new Mt(w,S.children)));return de._sourceSegment=S,de._segmentIndexShift=E.length,{segmentGroup:de,slicedSegments:[]}}if(0===w.length&&function(S,E,w){return w.some(O=>$n(S,E,O))}(S,w,O)){const de=new Mt(S.segments,function(S,E,w,O,B,Y){const de={};for(const De of O)if($n(S,w,De)&&!B[M(De)]){const st=new Mt([],{});st._sourceSegment=S,st._segmentIndexShift="legacy"===Y?S.segments.length:E.length,de[M(De)]=st}return Object.assign(Object.assign({},B),de)}(S,E,w,O,S.children,B));return de._sourceSegment=S,de._segmentIndexShift=E.length,{segmentGroup:de,slicedSegments:w}}const Y=new Mt(S.segments,S.children);return Y._sourceSegment=S,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:w}}function $n(S,E,w){return(!(S.hasChildren()||E.length>0)||"full"!==w.pathMatch)&&""===w.path}function Yr(S,E,w,O){return!!(M(S)===O||O!==St&&$n(E,w,S))&&("**"===S.path||Ae(E,S,w).matched)}function Es(S,E,w){return 0===E.length&&!S.children[w]}class zr{constructor(E){this.segmentGroup=E||null}}class Ai{constructor(E){this.urlTree=E}}function zs(S){return new ge.y(E=>E.error(new zr(S)))}function q(S){return new ge.y(E=>E.error(new Ai(S)))}function $(S){return new ge.y(E=>E.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S}'`)))}class Oe{constructor(E,w,O,B,Y){this.configLoader=w,this.urlSerializer=O,this.urlTree=B,this.config=Y,this.allowRedirects=!0,this.ngModule=E.get(I.h0i)}apply(){const E=bt(this.urlTree.root,[],[],this.config).segmentGroup,w=new Mt(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,w,St).pipe((0,pt.U)(Y=>this.createUrlTree(Wt(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ne(Y=>{if(Y instanceof Ai)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof zr?this.noMatchError(Y):Y}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,St).pipe((0,pt.U)(B=>this.createUrlTree(Wt(B),E.queryParams,E.fragment))).pipe(Ne(B=>{throw B instanceof zr?this.noMatchError(B):B}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,w,O){const B=E.segments.length>0?new Mt([],{[St]:E}):E;return new jr(B,w,O)}expandSegmentGroup(E,w,O,B){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(E,w,O).pipe((0,pt.U)(Y=>new Mt([],Y))):this.expandSegment(E,O,w,O.segments,B,!0)}expandChildren(E,w,O){const B=[];for(const Y of Object.keys(O.children))"primary"===Y?B.unshift(Y):B.push(Y);return(0,Je.D)(B).pipe((0,kn.b)(Y=>{const de=O.children[Y],De=x(w,Y);return this.expandSegmentGroup(E,De,de,Y).pipe((0,pt.U)(st=>({segment:st,outlet:Y})))}),(0,mn.R)((Y,de)=>(Y[de.outlet]=de.segment,Y),{}),function(S,E){const w=arguments.length>=2;return O=>O.pipe(S?(0,$e.h)((B,Y)=>S(B,Y,O)):_t.y,le(1),w?(0,gt.d)(E):(0,Zt.T)(()=>new fe.K))}())}expandSegment(E,w,O,B,Y,de){return(0,Je.D)(O).pipe((0,kn.b)(De=>this.expandSegmentAgainstRoute(E,w,O,De,B,Y,de).pipe(Ne(Pt=>{if(Pt instanceof zr)return(0,Ke.of)(null);throw Pt}))),(0,Yn.P)(De=>!!De),Ne((De,st)=>{if(De instanceof fe.K||"EmptyError"===De.name){if(Es(w,B,Y))return(0,Ke.of)(new Mt([],{}));throw new zr(w)}throw De}))}expandSegmentAgainstRoute(E,w,O,B,Y,de,De){return Yr(B,w,Y,de)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(E,w,B,Y,de):De&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,w,O,B,Y,de):zs(w):zs(w)}expandSegmentAgainstRouteUsingRedirect(E,w,O,B,Y,de){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,O,B,de):this.expandRegularSegmentAgainstRouteUsingRedirect(E,w,O,B,Y,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,w,O,B){const Y=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?q(Y):this.lineralizeSegments(O,Y).pipe((0,un.zg)(de=>{const De=new Mt(de,{});return this.expandSegment(E,De,w,de,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,w,O,B,Y,de){const{matched:De,consumedSegments:st,lastChild:Pt,positionalParamSegments:Ut}=Ae(w,B,Y);if(!De)return zs(w);const xn=this.applyRedirectCommands(st,B.redirectTo,Ut);return B.redirectTo.startsWith("/")?q(xn):this.lineralizeSegments(B,xn).pipe((0,un.zg)(fr=>this.expandSegment(E,w,O,fr.concat(Y.slice(Pt)),de,!1)))}matchSegmentAgainstRoute(E,w,O,B,Y){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,Ke.of)(O._loadedConfig):this.configLoader.load(E.injector,O)).pipe((0,pt.U)(fr=>(O._loadedConfig=fr,new Mt(B,{})))):(0,Ke.of)(new Mt(B,{}));const{matched:de,consumedSegments:De,lastChild:st}=Ae(w,O,B);if(!de)return zs(w);const Pt=B.slice(st);return this.getChildConfig(E,O,B).pipe((0,un.zg)(xn=>{const fr=xn.module,kt=xn.routes,{segmentGroup:vi,slicedSegments:as}=bt(w,De,Pt,kt),Qn=new Mt(vi.segments,vi.children);if(0===as.length&&Qn.hasChildren())return this.expandChildren(fr,kt,Qn).pipe((0,pt.U)(pl=>new Mt(De,pl)));if(0===kt.length&&0===as.length)return(0,Ke.of)(new Mt(De,{}));const pn=M(O)===Y;return this.expandSegment(fr,Qn,kt,as,pn?St:Y,!0).pipe((0,pt.U)(Cs=>new Mt(De.concat(Cs.segments),Cs.children)))}))}getChildConfig(E,w,O){return w.children?(0,Ke.of)(new Ti(w.children,E)):w.loadChildren?void 0!==w._loadedConfig?(0,Ke.of)(w._loadedConfig):this.runCanLoadGuards(E.injector,w,O).pipe((0,un.zg)(B=>{return B?this.configLoader.load(E.injector,w).pipe((0,pt.U)(Y=>(w._loadedConfig=Y,Y))):(S=w,new ge.y(E=>E.error(xe(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`))));var S})):(0,Ke.of)(new Ti([],E))}runCanLoadGuards(E,w,O){const B=w.canLoad;if(!B||0===B.length)return(0,Ke.of)(!0);const Y=B.map(de=>{const De=E.get(de);let st;if((S=De)&&vr(S.canLoad))st=De.canLoad(w,O);else{if(!vr(De))throw new Error("Invalid CanLoad guard");st=De(w,O)}var S;return Mn(st)});return(0,Ke.of)(Y).pipe(V(),(0,Fn.b)(de=>{if(!wr(de))return;const De=xe(`Redirecting to "${this.urlSerializer.serialize(de)}"`);throw De.url=de,De}),(0,pt.U)(de=>!0===de))}lineralizeSegments(E,w){let O=[],B=w.root;for(;;){if(O=O.concat(B.segments),0===B.numberOfChildren)return(0,Ke.of)(O);if(B.numberOfChildren>1||!B.children[St])return $(E.redirectTo);B=B.children[St]}}applyRedirectCommands(E,w,O){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),E,O)}applyRedirectCreatreUrlTree(E,w,O,B){const Y=this.createSegmentGroup(E,w.root,O,B);return new jr(Y,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(E,w){const O={};return Gt(E,(B,Y)=>{if("string"==typeof B&&B.startsWith(":")){const De=B.substring(1);O[Y]=w[De]}else O[Y]=B}),O}createSegmentGroup(E,w,O,B){const Y=this.createSegments(E,w.segments,O,B);let de={};return Gt(w.children,(De,st)=>{de[st]=this.createSegmentGroup(E,De,O,B)}),new Mt(Y,de)}createSegments(E,w,O,B){return w.map(Y=>Y.path.startsWith(":")?this.findPosParam(E,Y,B):this.findOrReturn(Y,O))}findPosParam(E,w,O){const B=O[w.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${E}'. Cannot find '${w.path}'.`);return B}findOrReturn(E,w){let O=0;for(const B of w){if(B.path===E.path)return w.splice(O),B;O++}return E}}function Wt(S){const E={};for(const O of Object.keys(S.children)){const Y=Wt(S.children[O]);(Y.segments.length>0||Y.hasChildren())&&(E[O]=Y)}return function(S){if(1===S.numberOfChildren&&S.children[St]){const E=S.children[St];return new Mt(S.segments.concat(E.segments),E.children)}return S}(new Mt(S.segments,E))}class Or{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class ct{constructor(E,w){this.component=E,this.route=w}}function In(S,E,w){const O=S._root;return rs(O,E?E._root:null,w,[O.value])}function nr(S,E,w){const O=function(S){if(!S)return null;for(let E=S.parent;E;E=E.parent){const w=E.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(E);return(O?O.module.injector:w).get(S)}function rs(S,E,w,O,B={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Gr(E);return S.children.forEach(de=>{(function(S,E,w,O,B={canDeactivateChecks:[],canActivateChecks:[]}){const Y=S.value,de=E?E.value:null,De=w?w.getContext(S.value.outlet):null;if(de&&Y.routeConfig===de.routeConfig){const st=function(S,E,w){if("function"==typeof w)return w(S,E);switch(w){case"pathParamsChange":return!vn(S.url,E.url);case"pathParamsOrQueryParamsChange":return!vn(S.url,E.url)||!Ot(S.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ji(S,E)||!Ot(S.queryParams,E.queryParams);case"paramsChange":default:return!Ji(S,E)}}(de,Y,Y.routeConfig.runGuardsAndResolvers);st?B.canActivateChecks.push(new Or(O)):(Y.data=de.data,Y._resolvedData=de._resolvedData),rs(S,E,Y.component?De?De.children:null:w,O,B),st&&De&&De.outlet&&De.outlet.isActivated&&B.canDeactivateChecks.push(new ct(De.outlet.component,de))}else de&&Os(E,De,B),B.canActivateChecks.push(new Or(O)),rs(S,null,Y.component?De?De.children:null:w,O,B)})(de,Y[de.value.outlet],w,O.concat([de.value]),B),delete Y[de.value.outlet]}),Gt(Y,(de,De)=>Os(de,w.getContext(De),B)),B}function Os(S,E,w){const O=Gr(S),B=S.value;Gt(O,(Y,de)=>{Os(Y,B.component?E?E.children.getContext(de):null:E,w)}),w.canDeactivateChecks.push(new ct(B.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,B))}class is{}function wu(S){return new ge.y(E=>E.error(S))}class ya{constructor(E,w,O,B,Y,de){this.rootComponentType=E,this.config=w,this.urlTree=O,this.url=B,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=de}recognize(){const E=bt(this.urlTree.root,[],[],this.config.filter(de=>void 0===de.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,E,St);if(null===w)return null;const O=new tr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new ni(O,w),Y=new Fi(this.url,B);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(E){const w=E.value,O=yr(w,this.paramsInheritanceStrategy);w.params=Object.freeze(O.params),w.data=Object.freeze(O.data),E.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(E,w,O){return 0===w.segments.length&&w.hasChildren()?this.processChildren(E,w):this.processSegment(E,w,w.segments,O)}processChildren(E,w){const O=[];for(const Y of Object.keys(w.children)){const de=w.children[Y],De=x(E,Y),st=this.processSegmentGroup(De,de,Y);if(null===st)return null;O.push(...st)}const B=Fo(O);return B.sort((E,w)=>E.value.outlet===St?-1:w.value.outlet===St?1:E.value.outlet.localeCompare(w.value.outlet)),B}processSegment(E,w,O,B){for(const Y of E){const de=this.processSegmentAgainstRoute(Y,w,O,B);if(null!==de)return de}return Es(w,O,B)?[]:null}processSegmentAgainstRoute(E,w,O,B){if(E.redirectTo||!Yr(E,w,O,B))return null;let Y,de=[],De=[];if("**"===E.path){const kt=O.length>0?dn(O).parameters:{};Y=new tr(O,kt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lo(E),M(E),E.component,E,Ga(w),va(w)+O.length,za(E))}else{const kt=Ae(w,E,O);if(!kt.matched)return null;de=kt.consumedSegments,De=O.slice(kt.lastChild),Y=new tr(de,kt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lo(E),M(E),E.component,E,Ga(w),va(w)+de.length,za(E))}const st=(S=E).children?S.children:S.loadChildren?S._loadedConfig.routes:[],{segmentGroup:Pt,slicedSegments:Ut}=bt(w,de,De,st.filter(kt=>void 0===kt.redirectTo),this.relativeLinkResolution);var S;if(0===Ut.length&&Pt.hasChildren()){const kt=this.processChildren(st,Pt);return null===kt?null:[new ni(Y,kt)]}if(0===st.length&&0===Ut.length)return[new ni(Y,[])];const xn=M(E)===B,fr=this.processSegment(st,Pt,Ut,xn?St:B);return null===fr?null:[new ni(Y,fr)]}}function _a(S){const E=S.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Fo(S){const E=[],w=new Set;for(const O of S){if(!_a(O)){E.push(O);continue}const B=E.find(Y=>O.value.routeConfig===Y.value.routeConfig);void 0!==B?(B.children.push(...O.children),w.add(B)):E.push(O)}for(const O of w){const B=Fo(O.children);E.push(new ni(O.value,B))}return E.filter(O=>!w.has(O))}function Ga(S){let E=S;for(;E._sourceSegment;)E=E._sourceSegment;return E}function va(S){let E=S,w=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,w+=E._segmentIndexShift?E._segmentIndexShift:0;return w-1}function lo(S){return S.data||{}}function za(S){return S.resolve||{}}function Wa(S){return(0,Xt.w)(E=>{const w=S(E);return w?(0,Je.D)(w).pipe((0,pt.U)(()=>E)):(0,Ke.of)(E)})}class hr extends class{shouldDetach(E){return!1}store(E,w){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,w){return E.routeConfig===w.routeConfig}}{}const Lo=new I.OlP("ROUTES");class Vo{constructor(E,w,O,B){this.loader=E,this.compiler=w,this.onLoadStartListener=O,this.onLoadEndListener=B}load(E,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const B=this.loadModuleFactory(w.loadChildren).pipe((0,pt.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(w);const de=Y.create(E);return new Ti(Cn(de.injector.get(Lo,void 0,I.XFs.Self|I.XFs.Optional)).map(k),de)}),Ne(Y=>{throw w._loader$=void 0,Y}));return w._loader$=new on.c(B,()=>new se.xQ).pipe((0,Vt.x)()),w._loader$}loadModuleFactory(E){return"string"==typeof E?(0,Je.D)(this.loader.load(E)):Mn(E()).pipe((0,un.zg)(w=>w instanceof I.YKP?(0,Ke.of)(w):(0,Je.D)(this.compiler.compileModuleAsync(w))))}}class qa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fs,this.attachRef=null}}class fs{constructor(){this.contexts=new Map}onChildOutletCreated(E,w){const O=this.getOrCreateContext(E);O.outlet=w,this.contexts.set(E,O)}onChildOutletDestroyed(E){const w=this.getContext(E);w&&(w.outlet=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let w=this.getContext(E);return w||(w=new qa,this.contexts.set(E,w)),w}getContext(E){return this.contexts.get(E)||null}}class R{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,w){return E}}function N(S){throw S}function z(S,E,w){return E.parse("/")}function Ee(S,E){return(0,Ke.of)(null)}const ht={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class S{constructor(w,O,B,Y,de,De,st,Pt){this.rootComponentType=w,this.urlSerializer=O,this.rootContexts=B,this.location=Y,this.config=Pt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new se.xQ,this.errorHandler=N,this.malformedUriErrorHandler=z,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ee,afterPreactivation:Ee},this.urlHandlingStrategy=new R,this.routeReuseStrategy=new hr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=de.get(I.h0i),this.console=de.get(I.c2e);const fr=de.get(I.R0b);this.isNgZoneEnabled=fr instanceof I.R0b&&I.R0b.isInAngularZone(),this.resetConfig(Pt),this.currentUrlTree=new jr(new Mt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vo(De,st,kt=>this.triggerEvent(new mt(kt)),kt=>this.triggerEvent(new Et(kt))),this.routerState=ri(this.currentUrlTree,this.rootComponentType),this.transitions=new Re({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const O=this.events;return w.pipe((0,$e.h)(B=>0!==B.id),(0,pt.U)(B=>Object.assign(Object.assign({},B),{extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,Xt.w)(B=>{let Y=!1,de=!1;return(0,Ke.of)(B).pipe((0,Fn.b)(De=>{this.currentNavigation={id:De.id,initialUrl:De.currentRawUrl,extractedUrl:De.extractedUrl,trigger:De.source,extras:De.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Xt.w)(De=>{const st=!this.navigated||De.extractedUrl.toString()!==this.browserUrlTree.toString(),Pt=("reload"===this.onSameUrlNavigation||st)&&this.urlHandlingStrategy.shouldProcessUrl(De.rawUrl);if(Wn(De.source)&&(this.browserUrlTree=De.rawUrl),Pt)return(0,Ke.of)(De).pipe((0,Xt.w)(Ut=>{const xn=this.transitions.getValue();return O.next(new en(Ut.id,this.serializeUrl(Ut.extractedUrl),Ut.source,Ut.restoredState)),xn!==this.transitions.getValue()?et.E:Promise.resolve(Ut)}),function(S,E,w,O){return(0,Xt.w)(B=>function(S,E,w,O,B){return new Oe(S,E,w,O,B).apply()}(S,E,w,B.extractedUrl,O).pipe((0,pt.U)(Y=>Object.assign(Object.assign({},B),{urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fn.b)(Ut=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ut.urlAfterRedirects})}),function(S,E,w,O,B){return(0,un.zg)(Y=>function(S,E,w,O,B="emptyOnly",Y="legacy"){try{const de=new ya(S,E,w,O,B,Y).recognize();return null===de?wu(new is):(0,Ke.of)(de)}catch(de){return wu(de)}}(S,E,Y.urlAfterRedirects,w(Y.urlAfterRedirects),O,B).pipe((0,pt.U)(de=>Object.assign(Object.assign({},Y),{targetSnapshot:de}))))}(this.rootComponentType,this.config,Ut=>this.serializeUrl(Ut),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fn.b)(Ut=>{"eager"===this.urlUpdateStrategy&&(Ut.extras.skipLocationChange||this.setBrowserUrl(Ut.urlAfterRedirects,Ut),this.browserUrlTree=Ut.urlAfterRedirects);const xn=new re(Ut.id,this.serializeUrl(Ut.extractedUrl),this.serializeUrl(Ut.urlAfterRedirects),Ut.targetSnapshot);O.next(xn)}));if(st&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:xn,extractedUrl:fr,source:kt,restoredState:vi,extras:as}=De,Qn=new en(xn,this.serializeUrl(fr),kt,vi);O.next(Qn);const pn=ri(fr,this.rootComponentType).snapshot;return(0,Ke.of)(Object.assign(Object.assign({},De),{targetSnapshot:pn,urlAfterRedirects:fr,extras:Object.assign(Object.assign({},as),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=De.rawUrl,this.browserUrlTree=De.urlAfterRedirects,De.resolve(null),et.E}),Wa(De=>{const{targetSnapshot:st,id:Pt,extractedUrl:Ut,rawUrl:xn,extras:{skipLocationChange:fr,replaceUrl:kt}}=De;return this.hooks.beforePreactivation(st,{navigationId:Pt,appliedUrlTree:Ut,rawUrlTree:xn,skipLocationChange:!!fr,replaceUrl:!!kt})}),(0,Fn.b)(De=>{const st=new me(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot);this.triggerEvent(st)}),(0,pt.U)(De=>Object.assign(Object.assign({},De),{guards:In(De.targetSnapshot,De.currentSnapshot,this.rootContexts)})),function(S,E){return(0,un.zg)(w=>{const{targetSnapshot:O,currentSnapshot:B,guards:{canActivateChecks:Y,canDeactivateChecks:de}}=w;return 0===de.length&&0===Y.length?(0,Ke.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function(S,E,w,O){return(0,Je.D)(S).pipe((0,un.zg)(B=>function(S,E,w,O,B){const Y=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,Ke.of)(!0);const de=Y.map(De=>{const st=nr(De,E,B);let Pt;if(function(S){return S&&vr(S.canDeactivate)}(st))Pt=Mn(st.canDeactivate(S,E,w,O));else{if(!vr(st))throw new Error("Invalid CanDeactivate guard");Pt=Mn(st(S,E,w,O))}return Pt.pipe((0,Yn.P)())});return(0,Ke.of)(de).pipe(V())}(B.component,B.route,w,E,O)),(0,Yn.P)(B=>!0!==B,!0))}(de,O,B,S).pipe((0,un.zg)(De=>De&&function(S){return"boolean"==typeof S}(De)?function(S,E,w,O){return(0,Je.D)(E).pipe((0,kn.b)(B=>(0,Ze.z)(function(S,E){return null!==S&&E&&E(new Qt(S)),(0,Ke.of)(!0)}(B.route.parent,O),function(S,E){return null!==S&&E&&E(new er(S)),(0,Ke.of)(!0)}(B.route,O),function(S,E,w){const O=E[E.length-1],Y=E.slice(0,E.length-1).reverse().map(de=>function(S){const E=S.routeConfig?S.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:S,guards:E}:null}(de)).filter(de=>null!==de).map(de=>ut(()=>{const De=de.guards.map(st=>{const Pt=nr(st,de.node,w);let Ut;if(function(S){return S&&vr(S.canActivateChild)}(Pt))Ut=Mn(Pt.canActivateChild(O,S));else{if(!vr(Pt))throw new Error("Invalid CanActivateChild guard");Ut=Mn(Pt(O,S))}return Ut.pipe((0,Yn.P)())});return(0,Ke.of)(De).pipe(V())}));return(0,Ke.of)(Y).pipe(V())}(S,B.path,w),function(S,E,w){const O=E.routeConfig?E.routeConfig.canActivate:null;if(!O||0===O.length)return(0,Ke.of)(!0);const B=O.map(Y=>ut(()=>{const de=nr(Y,E,w);let De;if(function(S){return S&&vr(S.canActivate)}(de))De=Mn(de.canActivate(E,S));else{if(!vr(de))throw new Error("Invalid CanActivate guard");De=Mn(de(E,S))}return De.pipe((0,Yn.P)())}));return(0,Ke.of)(B).pipe(V())}(S,B.route,w))),(0,Yn.P)(B=>!0!==B,!0))}(O,Y,S,E):(0,Ke.of)(De)),(0,pt.U)(De=>Object.assign(Object.assign({},w),{guardsResult:De})))})}(this.ngModule.injector,De=>this.triggerEvent(De)),(0,Fn.b)(De=>{if(wr(De.guardsResult)){const Pt=xe(`Redirecting to "${this.serializeUrl(De.guardsResult)}"`);throw Pt.url=De.guardsResult,Pt}const st=new it(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot,!!De.guardsResult);this.triggerEvent(st)}),(0,$e.h)(De=>!!De.guardsResult||(this.restoreHistory(De),this.cancelNavigationTransition(De,""),!1)),Wa(De=>{if(De.guards.canActivateChecks.length)return(0,Ke.of)(De).pipe((0,Fn.b)(st=>{const Pt=new tt(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(Pt)}),(0,Xt.w)(st=>{let Pt=!1;return(0,Ke.of)(st).pipe(function(S,E){return(0,un.zg)(w=>{const{targetSnapshot:O,guards:{canActivateChecks:B}}=w;if(!B.length)return(0,Ke.of)(w);let Y=0;return(0,Je.D)(B).pipe((0,kn.b)(de=>function(S,E,w,O){return function(S,E,w,O){const B=Object.keys(S);if(0===B.length)return(0,Ke.of)({});const Y={};return(0,Je.D)(B).pipe((0,un.zg)(de=>function(S,E,w,O){const B=nr(S,E,O);return Mn(B.resolve?B.resolve(E,w):B(E,w))}(S[de],E,w,O).pipe((0,Fn.b)(De=>{Y[de]=De}))),le(1),(0,un.zg)(()=>Object.keys(Y).length===B.length?(0,Ke.of)(Y):et.E))}(S._resolve,S,E,O).pipe((0,pt.U)(Y=>(S._resolvedData=Y,S.data=Object.assign(Object.assign({},S.data),yr(S,w).resolve),null)))}(de.route,O,S,E)),(0,Fn.b)(()=>Y++),le(1),(0,un.zg)(de=>Y===B.length?(0,Ke.of)(w):et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fn.b)({next:()=>Pt=!0,complete:()=>{Pt||(this.restoreHistory(st),this.cancelNavigationTransition(st,"At least one route resolver didn't emit any value."))}}))}),(0,Fn.b)(st=>{const Pt=new At(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);this.triggerEvent(Pt)}))}),Wa(De=>{const{targetSnapshot:st,id:Pt,extractedUrl:Ut,rawUrl:xn,extras:{skipLocationChange:fr,replaceUrl:kt}}=De;return this.hooks.afterPreactivation(st,{navigationId:Pt,appliedUrlTree:Ut,rawUrlTree:xn,skipLocationChange:!!fr,replaceUrl:!!kt})}),(0,pt.U)(De=>{const st=function(S,E,w){const O=Ii(S,E._root,w?w._root:void 0);return new yi(O,E)}(this.routeReuseStrategy,De.targetSnapshot,De.currentRouterState);return Object.assign(Object.assign({},De),{targetRouterState:st})}),(0,Fn.b)(De=>{this.currentUrlTree=De.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,De.rawUrl),this.routerState=De.targetRouterState,"deferred"===this.urlUpdateStrategy&&(De.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,De),this.browserUrlTree=De.urlAfterRedirects)}),((S,E,w)=>(0,pt.U)(O=>(new ws(E,O.targetRouterState,O.currentRouterState,w).activate(S),O)))(this.rootContexts,this.routeReuseStrategy,De=>this.triggerEvent(De)),(0,Fn.b)({next(){Y=!0},complete(){Y=!0}}),function(S){return E=>E.lift(new zt(S))}(()=>{if(!Y&&!de){const De=`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(B),this.cancelNavigationTransition(B,De)):this.cancelNavigationTransition(B,De)}this.currentNavigation=null}),Ne(De=>{if(de=!0,function(S){return S&&S[oe]}(De)){const st=wr(De.url);st||(this.navigated=!0,this.restoreHistory(B,!0));const Pt=new gn(B.id,this.serializeUrl(B.extractedUrl),De.message);O.next(Pt),st?setTimeout(()=>{const Ut=this.urlHandlingStrategy.merge(De.url,this.rawUrlTree),xn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wn(B.source)};this.scheduleNavigation(Ut,"imperative",null,xn,{resolve:B.resolve,reject:B.reject,promise:B.promise})},0):B.resolve(!1)}else{this.restoreHistory(B,!0);const st=new Ve(B.id,this.serializeUrl(B.extractedUrl),De);O.next(st);try{B.resolve(this.errorHandler(De))}catch(Pt){B.reject(Pt)}}return et.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}getTransition(){const w=this.transitions.value;return w.urlAfterRedirects=this.browserUrlTree,w}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const O=this.extractLocationChangeInfoFromEvent(w);this.shouldScheduleNavigation(this.lastLocationChangeInfo,O)&&setTimeout(()=>{const{source:B,state:Y,urlTree:de}=O,De={replaceUrl:!0};if(Y){const st=Object.assign({},Y);delete st.navigationId,delete st.\u0275routerPageId,0!==Object.keys(st).length&&(De.state=st)}this.scheduleNavigation(de,B,Y,De)},0),this.lastLocationChangeInfo=O}))}extractLocationChangeInfoFromEvent(w){var O;return{source:"popstate"===w.type?"popstate":"hashchange",urlTree:this.parseUrl(w.url),state:(null===(O=w.state)||void 0===O?void 0:O.navigationId)?w.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(w,O){if(!w)return!0;const B=O.urlTree.toString()===w.urlTree.toString();return O.transitionId!==w.transitionId||!B||!("hashchange"===O.source&&"popstate"===w.source||"popstate"===O.source&&"hashchange"===w.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){be(w),this.config=w.map(k),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,O={}){const{relativeTo:B,queryParams:Y,fragment:de,queryParamsHandling:De,preserveFragment:st}=O,Pt=B||this.routerState.root,Ut=st?this.currentUrlTree.fragment:de;let xn=null;switch(De){case"merge":xn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Y);break;case"preserve":xn=this.currentUrlTree.queryParams;break;default:xn=Y||null}return null!==xn&&(xn=this.removeEmptyProps(xn)),function(S,E,w,O,B){if(0===w.length)return cs(E.root,E.root,E,O,B);const Y=function(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Lr(!0,0,S);let E=0,w=!1;const O=S.reduce((B,Y,de)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const De={};return Gt(Y.outlets,(st,Pt)=>{De[Pt]="string"==typeof st?st.split("/"):st}),[...B,{outlets:De}]}if(Y.segmentPath)return[...B,Y.segmentPath]}return"string"!=typeof Y?[...B,Y]:0===de?(Y.split("/").forEach((De,st)=>{0==st&&"."===De||(0==st&&""===De?w=!0:".."===De?E++:""!=De&&B.push(De))}),B):[...B,Y]},[]);return new Lr(w,E,O)}(w);if(Y.toRoot())return cs(E.root,new Mt([],{}),E,O,B);const de=function(S,E,w){if(S.isAbsolute)return new ii(E.root,!0,0);if(-1===w.snapshot._lastPathIndex){const Y=w.snapshot._urlSegment;return new ii(Y,Y===E.root,0)}const O=Xi(S.commands[0])?0:1;return function(S,E,w){let O=S,B=E,Y=w;for(;Y>B;){if(Y-=B,O=O.parent,!O)throw new Error("Invalid number of '../'");B=O.segments.length}return new ii(O,!1,B-Y)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+O,S.numberOfDoubleDots)}(Y,E,S),De=de.processChildren?Kr(de.segmentGroup,de.index,Y.commands):Hi(de.segmentGroup,de.index,Y.commands);return cs(de.segmentGroup,De,E,O,B)}(Pt,this.currentUrlTree,w,xn,null!=Ut?Ut:null)}navigateByUrl(w,O={skipLocationChange:!1}){const B=wr(w)?w:this.parseUrl(w),Y=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,O)}navigate(w,O={skipLocationChange:!1}){return function(S){for(let E=0;E<S.length;E++){const w=S[E];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${E}`)}}(w),this.navigateByUrl(this.createUrlTree(w,O),O)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let O;try{O=this.urlSerializer.parse(w)}catch(B){O=this.malformedUriErrorHandler(B,this.urlSerializer,w)}return O}isActive(w,O){let B;if(B=!0===O?Object.assign({},ht):!1===O?Object.assign({},tn):O,wr(w))return Ei(this.currentUrlTree,w,B);const Y=this.parseUrl(w);return Ei(this.currentUrlTree,Y,B)}removeEmptyProps(w){return Object.keys(w).reduce((O,B)=>{const Y=w[B];return null!=Y&&(O[B]=Y),O},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new Bt(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(w,O,B,Y,de){var De,st;if(this.disposed)return Promise.resolve(!1);const Pt=this.getTransition(),Ut=Wn(O)&&Pt&&!Wn(Pt.source),kt=(this.lastSuccessfulId===Pt.id||this.currentNavigation?Pt.rawUrl:Pt.urlAfterRedirects).toString()===w.toString();if(Ut&&kt)return Promise.resolve(!0);let vi,as,Qn;de?(vi=de.resolve,as=de.reject,Qn=de.promise):Qn=new Promise((Cs,pl)=>{vi=Cs,as=pl});const pn=++this.navigationId;let bs;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),bs=B&&B.\u0275routerPageId?B.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?null!==(De=this.browserPageId)&&void 0!==De?De:0:(null!==(st=this.browserPageId)&&void 0!==st?st:0)+1):bs=0,this.setTransition({id:pn,targetPageId:bs,source:O,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:Y,resolve:vi,reject:as,promise:Qn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qn.catch(Cs=>Promise.reject(Cs))}setBrowserUrl(w,O){const B=this.urlSerializer.serialize(w),Y=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(B)||O.extras.replaceUrl?this.location.replaceState(B,"",Y):this.location.go(B,"",Y)}restoreHistory(w,O=!1){var B,Y;if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)||0===de?this.currentUrlTree===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)&&0===de&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(de)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,O){const B=new gn(w.id,this.serializeUrl(w.extractedUrl),O);this.triggerEvent(B),w.resolve(!1)}generateNgRouterState(w,O){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:O}:{navigationId:w}}}return S.\u0275fac=function(w){return new(w||S)(I.LFG(I.DyG),I.LFG(br),I.LFG(fs),I.LFG(C.Ye),I.LFG(I.zs3),I.LFG(I.v3s),I.LFG(I.Sil),I.LFG(void 0))},S.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac}),S})();function Wn(S){return"imperative"!==S}let zi=(()=>{class S{constructor(w,O,B){this.router=w,this.route=O,this.locationStrategy=B,this.commands=[],this.onChanges=new se.xQ,this.subscription=w.events.subscribe(Y=>{Y instanceof Bt&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:[]}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,O,B,Y,de){if(0!==w||O||B||Y||de||"string"==typeof this.target&&"_self"!=this.target)return!0;const De={skipLocationChange:Zs(this.skipLocationChange),replaceUrl:Zs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,De),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zs(this.preserveFragment)})}}return S.\u0275fac=function(w){return new(w||S)(I.Y36(Un),I.Y36(mr),I.Y36(C.S$))},S.\u0275dir=I.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,O){1&w&&I.NdJ("click",function(Y){return O.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&w&&(I.Ikx("href",O.href,I.LSH),I.uIk("target",O.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[I.TTD]}),S})();function Zs(S){return""===S||!!S}let os=(()=>{class S{constructor(w,O,B,Y,de){this.parentContexts=w,this.location=O,this.resolver=B,this.changeDetector=de,this.activated=null,this._activatedRoute=null,this.activateEvents=new I.vpe,this.deactivateEvents=new I.vpe,this.name=Y||St,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,w}attach(w,O){this.activated=w,this._activatedRoute=O,this.location.insert(w.hostView)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const de=(O=O||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),De=this.parentContexts.getOrCreateContext(this.name).children,st=new ci(w,De,this.location.injector);this.activated=this.location.createComponent(de,this.location.length,st),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(w){return new(w||S)(I.Y36(fs),I.Y36(I.s_b),I.Y36(I._Vd),I.$8M("name"),I.Y36(I.sBO))},S.\u0275dir=I.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),S})();class ci{constructor(E,w,O){this.route=E,this.childContexts=w,this.parent=O}get(E,w){return E===mr?this.route:E===fs?this.childContexts:this.parent.get(E,w)}}class Xl{}class Cu{preload(E,w){return(0,Ke.of)(null)}}let sa=(()=>{class S{constructor(w,O,B,Y,de){this.router=w,this.injector=Y,this.preloadingStrategy=de,this.loader=new Vo(O,B,Pt=>w.triggerEvent(new mt(Pt)),Pt=>w.triggerEvent(new Et(Pt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.h)(w=>w instanceof Bt),(0,kn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(I.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,O){const B=[];for(const Y of O)if(Y.loadChildren&&!Y.canLoad&&Y._loadedConfig){const de=Y._loadedConfig;B.push(this.processRoutes(de.module,de.routes))}else Y.loadChildren&&!Y.canLoad?B.push(this.preloadConfig(w,Y)):Y.children&&B.push(this.processRoutes(w,Y.children));return(0,Je.D)(B).pipe((0,Rn.J)(),(0,pt.U)(Y=>{}))}preloadConfig(w,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,Ke.of)(O._loadedConfig):this.loader.load(w.injector,O)).pipe((0,un.zg)(Y=>(O._loadedConfig=Y,this.processRoutes(Y.module,Y.routes)))))}}return S.\u0275fac=function(w){return new(w||S)(I.LFG(Un),I.LFG(I.v3s),I.LFG(I.Sil),I.LFG(I.zs3),I.LFG(Xl))},S.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac}),S})(),Co=(()=>{class S{constructor(w,O,B={}){this.router=w,this.viewportScroller=O,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Bt&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof qn&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,O){this.router.triggerEvent(new qn(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(w){return new(w||S)(I.LFG(Un),I.LFG(C.EM),I.LFG(void 0))},S.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac}),S})();const ho=new I.OlP("ROUTER_CONFIGURATION"),Io=new I.OlP("ROUTER_FORROOT_GUARD"),Ys=[C.Ye,{provide:br,useClass:Dt},{provide:Un,useFactory:function(S,E,w,O,B,Y,de,De={},st,Pt){const Ut=new Un(null,S,E,w,O,B,Y,Cn(de));return st&&(Ut.urlHandlingStrategy=st),Pt&&(Ut.routeReuseStrategy=Pt),function(S,E){S.errorHandler&&(E.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(E.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(E.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(E.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(E.urlUpdateStrategy=S.urlUpdateStrategy)}(De,Ut),De.enableTracing&&Ut.events.subscribe(xn=>{var fr,kt;null===(fr=console.group)||void 0===fr||fr.call(console,`Router Event: ${xn.constructor.name}`),console.log(xn.toString()),console.log(xn),null===(kt=console.groupEnd)||void 0===kt||kt.call(console)}),Ut},deps:[br,fs,C.Ye,I.zs3,I.v3s,I.Sil,Lo,ho,[class{},new I.FiY],[class{},new I.FiY]]},fs,{provide:mr,useFactory:function(S){return S.routerState.root},deps:[Un]},{provide:I.v3s,useClass:I.EAV},sa,Cu,class{preload(E,w){return w().pipe(Ne(()=>(0,Ke.of)(null)))}},{provide:ho,useValue:{enableTracing:!1}}];function Bo(){return new I.PXZ("Router",Un)}let Ea=(()=>{class S{constructor(w,O){}static forRoot(w,O){return{ngModule:S,providers:[Ys,Qs(w),{provide:Io,useFactory:jo,deps:[[Un,new I.FiY,new I.tp0]]},{provide:ho,useValue:O||{}},{provide:C.S$,useFactory:Jr,deps:[C.lw,[new I.tBr(C.mr),new I.FiY],ho]},{provide:Co,useFactory:jf,deps:[Un,C.EM,ho]},{provide:Xl,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:Cu},{provide:I.PXZ,multi:!0,useFactory:Bo},[Sr,{provide:I.ip1,multi:!0,useFactory:Ho,deps:[Sr]},{provide:jt,useFactory:Ka,deps:[Sr]},{provide:I.tb,multi:!0,useExisting:jt}]]}}static forChild(w){return{ngModule:S,providers:[Qs(w)]}}}return S.\u0275fac=function(w){return new(w||S)(I.LFG(Io,8),I.LFG(Un,8))},S.\u0275mod=I.oAB({type:S}),S.\u0275inj=I.cJS({}),S})();function jf(S,E,w){return w.scrollOffset&&E.setOffset(w.scrollOffset),new Co(S,E,w)}function Jr(S,E,w={}){return w.useHash?new C.Do(S,E):new C.b0(S,E)}function jo(S){return"guarded"}function Qs(S){return[{provide:I.deG,multi:!0,useValue:S},{provide:Lo,multi:!0,useValue:S}]}let Sr=(()=>{class S{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new se.xQ}appInitializer(){return this.injector.get(C.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const B=new Promise(De=>O=De),Y=this.injector.get(Un),de=this.injector.get(ho);return"disabled"===de.initialNavigation?(Y.setUpLocationChangeListener(),O(!0)):"enabled"===de.initialNavigation||"enabledBlocking"===de.initialNavigation?(Y.hooks.afterPreactivation=()=>this.initNavigation?(0,Ke.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),Y.initialNavigation()):O(!0),B})}bootstrapListener(w){const O=this.injector.get(ho),B=this.injector.get(sa),Y=this.injector.get(Co),de=this.injector.get(Un),De=this.injector.get(I.z2F);w===De.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&de.initialNavigation(),B.setUpPreloading(),Y.init(),de.resetRootComponentType(De.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(w){return new(w||S)(I.LFG(I.zs3))},S.\u0275prov=I.Yz7({token:S,factory:S.\u0275fac}),S})();function Ho(S){return S.appInitializer.bind(S)}function Ka(S){return S.bootstrapListener.bind(S)}const jt=new I.OlP("Router Initializer")},4486:(Rt,ze,G)=>{"use strict";G.d(ze,{Z:()=>Le});var C=G(4685),I=G(6034),se=G(5452),Ce=G(300);class Re{constructor(ve,Je){this._delegate=ve,this.firebase=Je,(0,se._addComponent)(ve,new I.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(ve,Je=se._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(ve);return!ut.isInitialized()&&"EXPLICIT"===(null===(et=ut.getComponent())||void 0===et?void 0:et.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Je})}_removeServiceInstance(ve,Je=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Je)}_addComponent(ve){(0,se._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,se._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function ue(){const Fe=function(Fe){const ve={},Je={__esModule:!0,initializeApp:function(It,Ne={}){const Ue=se.initializeApp(It,Ne);if((0,C.r3)(ve,Ue.name))return ve[Ue.name];const We=new Fe(Ue,Je);return ve[Ue.name]=We,We},app:ut,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function(It){const Ne=It.name,Ue=Ne.replace("-compat","");if(se._registerComponent(It)&&"PUBLIC"===It.type){const We=($e=ut())=>{if("function"!=typeof $e[Ue])throw ke.create("invalid-app-argument",{appName:Ne});return $e[Ue]()};void 0!==It.serviceProps&&(0,C.ZB)(We,It.serviceProps),Je[Ue]=We,Fe.prototype[Ue]=function(...$e){return this._getService.bind(this,Ne).apply(this,It.multipleInstances?$e:[])}}return"PUBLIC"===It.type?Je[Ue]:null},removeApp:function(It){delete ve[It]},useAsService:function(It,Ne){return"serverAuth"===Ne?null:Ne},modularAPIs:se}};function ut(It){if(!(0,C.r3)(ve,It=It||se._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:It});return ve[It]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function(){return Object.keys(ve).map(It=>ve[It])}}),ut.App=Fe,Je}(Re);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function(Je){(0,C.ZB)(Fe,Je)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),Fe}(),ae=new Ce.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=te;(0,se.registerVersion)("@firebase/app-compat","0.1.1",undefined);const Le=Ge},5452:(Rt,ze,G)=>{"use strict";G.r(ze),G.d(ze,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>kn,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>an,_addOrOverwriteComponent:()=>yn,_apps:()=>_t,_clearComponents:()=>Xt,_components:()=>Lt,_getProvider:()=>Tt,_registerComponent:()=>zt,_removeServiceInstance:()=>pt,deleteApp:()=>Vt,getApp:()=>un,getApps:()=>Fn,initializeApp:()=>Yn,onLog:()=>en,registerVersion:()=>Dn,setLogLevel:()=>Bt});var C=G(8239),I=G(6034),se=G(300),Ce=G(4685);class Re{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(me=>{if(function(Ve){const re=Ve.getComponent();return"VERSION"===(null==re?void 0:re.type)}(me)){const it=me.getImmediate();return`${it.library}/${it.version}`}return null}).filter(me=>me).join(" ")}}const ke="@firebase/app",ue=new se.Yd("@firebase/app"),Zt="[DEFAULT]",gt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Lt=new Map;function an(Ve,re){try{Ve.container.addComponent(re)}catch(me){ue.debug(`Component ${re.name} failed to register with FirebaseApp ${Ve.name}`,me)}}function yn(Ve,re){Ve.container.addOrOverwriteComponent(re)}function zt(Ve){const re=Ve.name;if(Lt.has(re))return ue.debug(`There were multiple attempts to register component ${re}.`),!1;Lt.set(re,Ve);for(const me of _t.values())an(me,Ve);return!0}function Tt(Ve,re){return Ve.container.getProvider(re)}function pt(Ve,re,me=Zt){Tt(Ve,re).clearInstance(me)}function Xt(){Lt.clear()}const _n=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mn{constructor(re,me,it){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},me),this._name=me.name,this._automaticDataCollectionEnabled=me.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new I.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const kn="9.0.0";function Yn(Ve,re={}){"object"!=typeof re&&(re={name:re});const me=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},re),it=me.name;if("string"!=typeof it||!it)throw _n.create("bad-app-name",{appName:String(it)});const tt=_t.get(it);if(tt){if((0,Ce.vZ)(Ve,tt.options)&&(0,Ce.vZ)(me,tt.config))return tt;throw _n.create("duplicate-app",{appName:it})}const At=new I.H0(it);for(const Et of Lt.values())At.addComponent(Et);const mt=new mn(Ve,me,At);return _t.set(it,mt),mt}function un(Ve=Zt){const re=_t.get(Ve);if(!re)throw _n.create("no-app",{appName:Ve});return re}function Fn(){return Array.from(_t.values())}function Vt(Ve){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,C.Z)(function*(Ve){const re=Ve.name;_t.has(re)&&(_t.delete(re),yield Promise.all(Ve.container.getProviders().map(me=>me.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function Dn(Ve,re,me){var it;let tt=null!==(it=gt[Ve])&&void 0!==it?it:Ve;me&&(tt+=`-${me}`);const At=tt.match(/\s|\//),mt=re.match(/\s|\//);if(At||mt){const Et=[`Unable to register library "${tt}" with version "${re}":`];return At&&Et.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),At&&mt&&Et.push("and"),mt&&Et.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void ue.warn(Et.join(" "))}zt(new I.wA(`${tt}-version`,()=>({library:tt,version:re}),"VERSION"))}function en(Ve,re){if(null!==Ve&&"function"!=typeof Ve)throw _n.create("invalid-log-argument");(0,se.Am)(Ve,re)}function Bt(Ve){(0,se.Ub)(Ve)}zt(new I.wA("platform-logger",re=>new Re(re),"PRIVATE")),Dn(ke,"0.7.0",undefined),Dn("fire-js","")},6034:(Rt,ze,G)=>{"use strict";G.d(ze,{wA:()=>se,H0:()=>_e});var C=G(4762),I=G(4685),se=function(){function ue(te,ae,ge){this.name=te,this.instanceFactory=ae,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ue.prototype.setInstantiationMode=function(te){return this.instantiationMode=te,this},ue.prototype.setMultipleInstances=function(te){return this.multipleInstances=te,this},ue.prototype.setServiceProps=function(te){return this.serviceProps=te,this},ue.prototype.setInstanceCreatedCallback=function(te){return this.onInstanceCreated=te,this},ue}(),Ce="[DEFAULT]",Re=function(){function ue(te,ae){this.name=te,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ue.prototype.get=function(te){var ae=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ae)){var ge=new I.BH;if(this.instancesDeferred.set(ae,ge),this.isInitialized(ae)||this.shouldAutoInitialize())try{var he=this.getOrInitializeService({instanceIdentifier:ae});he&&ge.resolve(he)}catch(Ie){}}return this.instancesDeferred.get(ae).promise},ue.prototype.getImmediate=function(te){var ae,ge=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),he=null!==(ae=null==te?void 0:te.optional)&&void 0!==ae&&ae;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(he)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Ie){if(he)return null;throw Ie}},ue.prototype.getComponent=function(){return this.component},ue.prototype.setComponent=function(te){var ae,ge;if(te.name!==this.name)throw Error("Mismatching Component "+te.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=te,this.shouldAutoInitialize()){if(function(ue){return"EAGER"===ue.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(et){}try{for(var he=(0,C.XA)(this.instancesDeferred.entries()),Ie=he.next();!Ie.done;Ie=he.next()){var Ge=(0,C.CR)(Ie.value,2),Fe=Ge[1],ve=this.normalizeInstanceIdentifier(Ge[0]);try{var Je=this.getOrInitializeService({instanceIdentifier:ve});Fe.resolve(Je)}catch(et){}}}catch(et){ae={error:et}}finally{try{Ie&&!Ie.done&&(ge=he.return)&&ge.call(he)}finally{if(ae)throw ae.error}}}},ue.prototype.clearInstance=function(te){void 0===te&&(te=Ce),this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)},ue.prototype.delete=function(){return(0,C.mG)(this,void 0,void 0,function(){var te;return(0,C.Jh)(this,function(ae){switch(ae.label){case 0:return te=Array.from(this.instances.values()),[4,Promise.all((0,C.ev)((0,C.ev)([],(0,C.CR)(te.filter(function(ge){return"INTERNAL"in ge}).map(function(ge){return ge.INTERNAL.delete()}))),(0,C.CR)(te.filter(function(ge){return"_delete"in ge}).map(function(ge){return ge._delete()}))))];case 1:return ae.sent(),[2]}})})},ue.prototype.isComponentSet=function(){return null!=this.component},ue.prototype.isInitialized=function(te){return void 0===te&&(te=Ce),this.instances.has(te)},ue.prototype.getOptions=function(te){return void 0===te&&(te=Ce),this.instancesOptions.get(te)||{}},ue.prototype.initialize=function(te){var ae,ge;void 0===te&&(te={});var he=te.options,Ie=void 0===he?{}:he,Ge=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Ge))throw Error(this.name+"("+Ge+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Le=this.getOrInitializeService({instanceIdentifier:Ge,options:Ie});try{for(var Fe=(0,C.XA)(this.instancesDeferred.entries()),ve=Fe.next();!ve.done;ve=Fe.next()){var Je=(0,C.CR)(ve.value,2),ut=Je[1];Ge===this.normalizeInstanceIdentifier(Je[0])&&ut.resolve(Le)}}catch(fe){ae={error:fe}}finally{try{ve&&!ve.done&&(ge=Fe.return)&&ge.call(Fe)}finally{if(ae)throw ae.error}}return Le},ue.prototype.onInit=function(te,ae){var ge,he=this.normalizeInstanceIdentifier(ae),Ie=null!==(ge=this.onInitCallbacks.get(he))&&void 0!==ge?ge:new Set;Ie.add(te),this.onInitCallbacks.set(he,Ie);var Ge=this.instances.get(he);return Ge&&te(Ge,he),function(){Ie.delete(te)}},ue.prototype.invokeOnInitCallbacks=function(te,ae){var ge,he,Ie=this.onInitCallbacks.get(ae);if(Ie)try{for(var Ge=(0,C.XA)(Ie),Le=Ge.next();!Le.done;Le=Ge.next()){var Fe=Le.value;try{Fe(te,ae)}catch(ve){}}}catch(ve){ge={error:ve}}finally{try{Le&&!Le.done&&(he=Ge.return)&&he.call(Ge)}finally{if(ge)throw ge.error}}},ue.prototype.getOrInitializeService=function(te){var ae=te.instanceIdentifier,ge=te.options,he=void 0===ge?{}:ge,Ie=this.instances.get(ae);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:pe(ae),options:he}),this.instances.set(ae,Ie),this.instancesOptions.set(ae,he),this.invokeOnInitCallbacks(Ie,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Ie)}catch(Ge){}return Ie||null},ue.prototype.normalizeInstanceIdentifier=function(te){return void 0===te&&(te=Ce),this.component?this.component.multipleInstances?te:Ce:te},ue.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ue}();function pe(ue){return ue===Ce?void 0:ue}var _e=function(){function ue(te){this.name=te,this.providers=new Map}return ue.prototype.addComponent=function(te){var ae=this.getProvider(te.name);if(ae.isComponentSet())throw new Error("Component "+te.name+" has already been registered with "+this.name);ae.setComponent(te)},ue.prototype.addOrOverwriteComponent=function(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)},ue.prototype.getProvider=function(te){if(this.providers.has(te))return this.providers.get(te);var ae=new Re(te,this);return this.providers.set(te,ae),ae},ue.prototype.getProviders=function(){return Array.from(this.providers.values())},ue}()},300:(Rt,ze,G)=>{"use strict";function C(){for(var ge=0,he=0,Ie=arguments.length;he<Ie;he++)ge+=arguments[he].length;var Ge=Array(ge),Le=0;for(he=0;he<Ie;he++)for(var Fe=arguments[he],ve=0,Je=Fe.length;ve<Je;ve++,Le++)Ge[Le]=Fe[ve];return Ge}G.d(ze,{in:()=>Ce,Yd:()=>ue,Ub:()=>te,Am:()=>ae});var I,se=[],Ce=(()=>{return(ge=Ce||(Ce={}))[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",Ce;var ge})(),Re={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},pe=Ce.INFO,ke=((I={})[Ce.DEBUG]="log",I[Ce.VERBOSE]="log",I[Ce.INFO]="info",I[Ce.WARN]="warn",I[Ce.ERROR]="error",I),_e=function(ge,he){for(var Ie=[],Ge=2;Ge<arguments.length;Ge++)Ie[Ge-2]=arguments[Ge];if(!(he<ge.logLevel)){var Le=(new Date).toISOString(),Fe=ke[he];if(!Fe)throw new Error("Attempted to log a message with an invalid logType (value: "+he+")");console[Fe].apply(console,C(["["+Le+"]  "+ge.name+":"],Ie))}},ue=function(){function ge(he){this.name=he,this._logLevel=pe,this._logHandler=_e,this._userLogHandler=null,se.push(this)}return Object.defineProperty(ge.prototype,"logLevel",{get:function(){return this._logLevel},set:function(he){if(!(he in Ce))throw new TypeError('Invalid value "'+he+'" assigned to `logLevel`');this._logLevel=he},enumerable:!1,configurable:!0}),ge.prototype.setLogLevel=function(he){this._logLevel="string"==typeof he?Re[he]:he},Object.defineProperty(ge.prototype,"logHandler",{get:function(){return this._logHandler},set:function(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(he){this._userLogHandler=he},enumerable:!1,configurable:!0}),ge.prototype.debug=function(){for(var he=[],Ie=0;Ie<arguments.length;Ie++)he[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ce.DEBUG],he)),this._logHandler.apply(this,C([this,Ce.DEBUG],he))},ge.prototype.log=function(){for(var he=[],Ie=0;Ie<arguments.length;Ie++)he[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ce.VERBOSE],he)),this._logHandler.apply(this,C([this,Ce.VERBOSE],he))},ge.prototype.info=function(){for(var he=[],Ie=0;Ie<arguments.length;Ie++)he[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ce.INFO],he)),this._logHandler.apply(this,C([this,Ce.INFO],he))},ge.prototype.warn=function(){for(var he=[],Ie=0;Ie<arguments.length;Ie++)he[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ce.WARN],he)),this._logHandler.apply(this,C([this,Ce.WARN],he))},ge.prototype.error=function(){for(var he=[],Ie=0;Ie<arguments.length;Ie++)he[Ie]=arguments[Ie];this._userLogHandler&&this._userLogHandler.apply(this,C([this,Ce.ERROR],he)),this._logHandler.apply(this,C([this,Ce.ERROR],he))},ge}();function te(ge){se.forEach(function(he){he.setLogLevel(ge)})}function ae(ge,he){for(var Ie=function(ve){var Je=null;he&&he.level&&(Je=Re[he.level]),ve.userLogHandler=null===ge?null:function(et,ut){for(var Ke=[],fe=2;fe<arguments.length;fe++)Ke[fe-2]=arguments[fe];var Ze=Ke.map(function(on){if(null==on)return null;if("string"==typeof on)return on;if("number"==typeof on||"boolean"==typeof on)return on.toString();if(on instanceof Error)return on.message;try{return JSON.stringify(on)}catch(It){return null}}).filter(function(on){return on}).join(" ");ut>=(null!=Je?Je:et.logLevel)&&ge({level:Ce[ut].toLowerCase(),message:Ze,args:Ke,type:et.name})}},Ge=0,Le=se;Ge<Le.length;Ge++)Ie(Le[Ge])}},4685:(Rt,ze,G)=>{"use strict";G.d(ze,{BH:()=>Ie,LL:()=>ot,ZR:()=>le,tV:()=>te,r3:()=>pt,Sg:()=>Ge,ne:()=>Rn,vZ:()=>mn,ZB:()=>ge,pd:()=>Fn,m9:()=>Kt,z$:()=>Le,jU:()=>Je,ru:()=>et,d:()=>Ke,xb:()=>Yt,w1:()=>fe,hl:()=>Ne,uI:()=>Fe,UG:()=>ve,b$:()=>ut,G6:()=>It,Mn:()=>Ze,xO:()=>Yn,zd:()=>un});var C=G(4762),Re=function(we){for(var oe=[],xe=0,qe=0;qe<we.length;qe++){var Me=we.charCodeAt(qe);Me<128?oe[xe++]=Me:Me<2048?(oe[xe++]=Me>>6|192,oe[xe++]=63&Me|128):55296==(64512&Me)&&qe+1<we.length&&56320==(64512&we.charCodeAt(qe+1))?(Me=65536+((1023&Me)<<10)+(1023&we.charCodeAt(++qe)),oe[xe++]=Me>>18|240,oe[xe++]=Me>>12&63|128,oe[xe++]=Me>>6&63|128,oe[xe++]=63&Me|128):(oe[xe++]=Me>>12|224,oe[xe++]=Me>>6&63|128,oe[xe++]=63&Me|128)}return oe},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(we,oe){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var xe=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[],Me=0;Me<we.length;Me+=3){var nt=we[Me],Ot=Me+1<we.length,bn=Ot?we[Me+1]:0,Cn=Me+2<we.length,dn=Cn?we[Me+2]:0,Mn=(15&bn)<<2|dn>>6,gi=63&dn;Cn||(gi=64,Ot||(Mn=64)),qe.push(xe[nt>>2],xe[(3&nt)<<4|bn>>4],xe[Mn],xe[gi])}return qe.join("")},encodeString:function(we,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(we):this.encodeByteArray(Re(we),oe)},decodeString:function(we,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(we):function(we){for(var oe=[],xe=0,qe=0;xe<we.length;){var Me=we[xe++];if(Me<128)oe[qe++]=String.fromCharCode(Me);else if(Me>191&&Me<224){var nt=we[xe++];oe[qe++]=String.fromCharCode((31&Me)<<6|63&nt)}else if(Me>239&&Me<365){var Cn=((7&Me)<<18|(63&(nt=we[xe++]))<<12|(63&(Ot=we[xe++]))<<6|63&we[xe++])-65536;oe[qe++]=String.fromCharCode(55296+(Cn>>10)),oe[qe++]=String.fromCharCode(56320+(1023&Cn))}else{nt=we[xe++];var Ot=we[xe++];oe[qe++]=String.fromCharCode((15&Me)<<12|(63&nt)<<6|63&Ot)}}return oe.join("")}(this.decodeStringToByteArray(we,oe))},decodeStringToByteArray:function(we,oe){this.init_();for(var xe=oe?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[],Me=0;Me<we.length;){var nt=xe[we.charAt(Me++)],bn=Me<we.length?xe[we.charAt(Me)]:0,dn=++Me<we.length?xe[we.charAt(Me)]:64,Gt=++Me<we.length?xe[we.charAt(Me)]:64;if(++Me,null==nt||null==bn||null==dn||null==Gt)throw Error();qe.push(nt<<2|bn>>4),64!==dn&&(qe.push(bn<<4&240|dn>>2),64!==Gt&&qe.push(dn<<6&192|Gt))}return qe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}},ue=function(we){return function(we){var oe=Re(we);return ke.encodeByteArray(oe,!0)}(we).replace(/\./g,"")},te=function(we){try{return ke.decodeString(we,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function ge(we,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return oe}for(var qe in oe)!oe.hasOwnProperty(qe)||!he(qe)||(we[qe]=ge(we[qe],oe[qe]));return we}function he(we){return"__proto__"!==we}var Ie=function(){function we(){var oe=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(xe,qe){oe.resolve=xe,oe.reject=qe})}return we.prototype.wrapCallback=function(oe){var xe=this;return function(qe,Me){qe?xe.reject(qe):xe.resolve(Me),"function"==typeof oe&&(xe.promise.catch(function(){}),1===oe.length?oe(qe):oe(qe,Me))}},we}();function Ge(we,oe){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var qe=oe||"demo-project",Me=we.iat||0,nt=we.sub||we.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ot=(0,C.pi)({iss:"https://securetoken.google.com/"+qe,aud:qe,iat:Me,exp:Me+3600,auth_time:Me,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},we);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ot)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(we){return!1}}function Je(){return"object"==typeof self&&self.self===self}function et(){var we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){return Le().indexOf("Electron/")>=0}function fe(){var we=Le();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function Ze(){return Le().indexOf("MSAppHost/")>=0}function It(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){return"indexedDB"in self&&null!=indexedDB}var le=function(we){function oe(xe,qe,Me){var nt=we.call(this,qe)||this;return nt.code=xe,nt.customData=Me,nt.name="FirebaseError",Object.setPrototypeOf(nt,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(nt,ot.prototype.create),nt}return(0,C.ZT)(oe,we),oe}(Error),ot=function(){function we(oe,xe,qe){this.service=oe,this.serviceName=xe,this.errors=qe}return we.prototype.create=function(oe){for(var xe=[],qe=1;qe<arguments.length;qe++)xe[qe-1]=arguments[qe];var Me=xe[0]||{},nt=this.service+"/"+oe,Ot=this.errors[oe],bn=Ot?rt(Ot,Me):"Error",Cn=this.serviceName+": "+bn+" ("+nt+").",dn=new le(nt,Cn,Me);return dn},we}();function rt(we,oe){return we.replace(Zt,function(xe,qe){var Me=oe[qe];return null!=Me?String(Me):"<"+qe+"?>"})}var Zt=/\{\$([^}]+)}/g;function pt(we,oe){return Object.prototype.hasOwnProperty.call(we,oe)}function Yt(we){for(var oe in we)if(Object.prototype.hasOwnProperty.call(we,oe))return!1;return!0}function mn(we,oe){if(we===oe)return!0;for(var xe=Object.keys(we),qe=Object.keys(oe),Me=0,nt=xe;Me<nt.length;Me++){if(!qe.includes(Ot=nt[Me]))return!1;var bn=we[Ot],Cn=oe[Ot];if(kn(bn)&&kn(Cn)){if(!mn(bn,Cn))return!1}else if(bn!==Cn)return!1}for(var dn=0,cr=qe;dn<cr.length;dn++){var Ot;if(!xe.includes(Ot=cr[dn]))return!1}return!0}function kn(we){return null!==we&&"object"==typeof we}function Yn(we){for(var oe=[],xe=function(Cn,dn){Array.isArray(dn)?dn.forEach(function(cr){oe.push(encodeURIComponent(Cn)+"="+encodeURIComponent(cr))}):oe.push(encodeURIComponent(Cn)+"="+encodeURIComponent(dn))},qe=0,Me=Object.entries(we);qe<Me.length;qe++){var nt=Me[qe];xe(nt[0],nt[1])}return oe.length?"&"+oe.join("&"):""}function un(we){var oe={};return we.replace(/^\?/,"").split("&").forEach(function(qe){if(qe){var Me=qe.split("="),Ot=Me[1];oe[decodeURIComponent(Me[0])]=decodeURIComponent(Ot)}}),oe}function Fn(we){var oe=we.indexOf("?");if(!oe)return"";var xe=we.indexOf("#",oe);return we.substring(oe,xe>0?xe:void 0)}function Rn(we,oe){var xe=new Dn(we,oe);return xe.subscribe.bind(xe)}!function(){function we(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var oe=1;oe<this.blockSize;++oe)this.pad_[oe]=0;this.reset()}we.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},we.prototype.compress_=function(oe,xe){xe||(xe=0);var qe=this.W_;if("string"==typeof oe)for(var Me=0;Me<16;Me++)qe[Me]=oe.charCodeAt(xe)<<24|oe.charCodeAt(xe+1)<<16|oe.charCodeAt(xe+2)<<8|oe.charCodeAt(xe+3),xe+=4;else for(Me=0;Me<16;Me++)qe[Me]=oe[xe]<<24|oe[xe+1]<<16|oe[xe+2]<<8|oe[xe+3],xe+=4;for(Me=16;Me<80;Me++)qe[Me]=4294967295&((nt=qe[Me-3]^qe[Me-8]^qe[Me-14]^qe[Me-16])<<1|nt>>>31);var Gt,Mn,Ot=this.chain_[0],bn=this.chain_[1],Cn=this.chain_[2],dn=this.chain_[3],cr=this.chain_[4];for(Me=0;Me<80;Me++){Me<40?Me<20?(Gt=dn^bn&(Cn^dn),Mn=1518500249):(Gt=bn^Cn^dn,Mn=1859775393):Me<60?(Gt=bn&Cn|dn&(bn|Cn),Mn=2400959708):(Gt=bn^Cn^dn,Mn=3395469782);var nt=(Ot<<5|Ot>>>27)+Gt+cr+Mn+qe[Me]&4294967295;cr=dn,dn=Cn,Cn=4294967295&(bn<<30|bn>>>2),bn=Ot,Ot=nt}this.chain_[0]=this.chain_[0]+Ot&4294967295,this.chain_[1]=this.chain_[1]+bn&4294967295,this.chain_[2]=this.chain_[2]+Cn&4294967295,this.chain_[3]=this.chain_[3]+dn&4294967295,this.chain_[4]=this.chain_[4]+cr&4294967295},we.prototype.update=function(oe,xe){if(null!=oe){void 0===xe&&(xe=oe.length);for(var qe=xe-this.blockSize,Me=0,nt=this.buf_,Ot=this.inbuf_;Me<xe;){if(0===Ot)for(;Me<=qe;)this.compress_(oe,Me),Me+=this.blockSize;if("string"==typeof oe){for(;Me<xe;)if(nt[Ot]=oe.charCodeAt(Me),++Me,++Ot===this.blockSize){this.compress_(nt),Ot=0;break}}else for(;Me<xe;)if(nt[Ot]=oe[Me],++Me,++Ot===this.blockSize){this.compress_(nt),Ot=0;break}}this.inbuf_=Ot,this.total_+=xe}},we.prototype.digest=function(){var oe=[],xe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var qe=this.blockSize-1;qe>=56;qe--)this.buf_[qe]=255&xe,xe/=256;this.compress_(this.buf_);var Me=0;for(qe=0;qe<5;qe++)for(var nt=24;nt>=0;nt-=8)oe[Me]=this.chain_[qe]>>nt&255,++Me;return oe}}();var Dn=function(){function we(oe,xe){var qe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(function(){oe(qe)}).catch(function(Me){qe.error(Me)})}return we.prototype.next=function(oe){this.forEachObserver(function(xe){xe.next(oe)})},we.prototype.error=function(oe){this.forEachObserver(function(xe){xe.error(oe)}),this.close(oe)},we.prototype.complete=function(){this.forEachObserver(function(oe){oe.complete()}),this.close()},we.prototype.subscribe=function(oe,xe,qe){var nt,Me=this;if(void 0===oe&&void 0===xe&&void 0===qe)throw new Error("Missing Observer.");void 0===(nt=function(we,oe){if("object"!=typeof we||null===we)return!1;for(var xe=0,qe=["next","error","complete"];xe<qe.length;xe++){var Me=qe[xe];if(Me in we&&"function"==typeof we[Me])return!0}return!1}(oe)?oe:{next:oe,error:xe,complete:qe}).next&&(nt.next=gn),void 0===nt.error&&(nt.error=gn),void 0===nt.complete&&(nt.complete=gn);var Ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Me.finalError?nt.error(Me.finalError):nt.complete()}catch(bn){}}),this.observers.push(nt),Ot},we.prototype.unsubscribeOne=function(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},we.prototype.forEachObserver=function(oe){if(!this.finalized)for(var xe=0;xe<this.observers.length;xe++)this.sendOne(xe,oe)},we.prototype.sendOne=function(oe,xe){var qe=this;this.task.then(function(){if(void 0!==qe.observers&&void 0!==qe.observers[oe])try{xe(qe.observers[oe])}catch(Me){"undefined"!=typeof console&&console.error&&console.error(Me)}})},we.prototype.close=function(oe){var xe=this;this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(function(){xe.observers=void 0,xe.onNoObservers=void 0}))},we}();function gn(){}function Kt(we){return we&&we._delegate?we._delegate:we}},7841:(Rt,ze,G)=>{"use strict";G.d(ze,{Z:()=>C.Z});var C=G(4486);C.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(Rt,ze,G)=>{"use strict";G.r(ze);var C=G(8239),I=G(4486),se=G(4685),Ce=G(5452),Re=G(4762),pe=G(300),ke=G(6034);const Ge=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=new se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new pe.Yd("@firebase/auth");function et(b,...g){Je.logLevel<=pe.in.ERROR&&Je.error(`Auth (${Ce.SDK_VERSION}): ${b}`,...g)}function ut(b,...g){throw fe(b,...g)}function Ke(b,...g){return fe(b,...g)}function fe(b,...g){if("string"!=typeof b){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(m,...D)}return Fe.create(b,...g)}function Ze(b,g,...m){if(!b)throw fe(g,...m)}function on(b){const g="INTERNAL ASSERTION FAILED: "+b;throw et(g),new Error(g)}function It(b,g){b||on(g)}const Ne=new Map;function Ue(b){It(b instanceof Function,"Expected a class definition");let g=Ne.get(b);return g?(It(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Ne.set(b,g),g)}function je(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function le(){return"http:"===ot()||"https:"===ot()}function ot(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class gt{constructor(g,m){this.shortDelay=g,this.longDelay=m,It(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,se.uI)()||(0,se.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,se.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _t(b,g){It(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Lt{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void on("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void on("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void on("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},yn=new gt(3e4,6e4);function zt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Tt(b,g,m,D){return pt.apply(this,arguments)}function pt(){return(pt=(0,C.Z)(function*(b,g,m,D,j={}){return Xt(b,j,()=>{let ee={},Pe={};D&&("GET"===g?Pe=D:ee={body:JSON.stringify(D)});const Ye=(0,se.xO)(Object.assign({key:b.config.apiKey},Pe)).slice(1),vt=new(Lt.headers());return vt.set("Content-Type","application/json"),vt.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&vt.set("X-Firebase-Locale",b.languageCode),Lt.fetch()(kn(b,b.config.apiHost,m,Ye),Object.assign({method:g,headers:vt,referrerPolicy:"no-referrer"},ee))})})).apply(this,arguments)}function Xt(b,g,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,C.Z)(function*(b,g,m){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},an),g);try{const j=new Yn(b),ee=yield Promise.race([m(),j.promise]);j.clearNetworkTimeout();const Pe=yield ee.json();if("needConfirmation"in Pe)throw un(b,"account-exists-with-different-credential",Pe);if(ee.ok&&!("errorMessage"in Pe))return Pe;{const vt=(ee.ok?Pe.errorMessage:Pe.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===vt)throw un(b,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===vt)throw un(b,"email-already-in-use",Pe);ut(b,D[vt]||vt.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(j){if(j instanceof se.ZR)throw j;ut(b,"network-request-failed")}})).apply(this,arguments)}function _n(b,g,m,D){return mn.apply(this,arguments)}function mn(){return(mn=(0,C.Z)(function*(b,g,m,D,j={}){const ee=yield Tt(b,g,m,D,j);return"mfaPendingCredential"in ee&&ut(b,"multi-factor-auth-required",{serverResponse:ee}),ee})).apply(this,arguments)}function kn(b,g,m,D){const j=`${g}${m}?${D}`;return b.config.emulator?_t(b.config,j):`${b.config.apiScheme}://${j}`}class Yn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(Ke(this.auth,"timeout")),yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(b,g,m){const D={appName:b.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const j=Ke(b,g,D);return j.customData._tokenResponse=m,j}function Vt(){return(Vt=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Rn(b,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function en(b,g){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function gn(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function me(){return(me=(0,C.Z)(function*(b,g=!1){const m=(0,se.m9)(b),D=yield m.getIdToken(g),j=tt(D);Ze(j&&j.exp&&j.auth_time&&j.iat,m.auth,"internal-error");const ee="object"==typeof j.firebase?j.firebase:void 0,Pe=null==ee?void 0:ee.sign_in_provider;return{claims:j,token:D,authTime:gn(it(j.auth_time)),issuedAtTime:gn(it(j.iat)),expirationTime:gn(it(j.exp)),signInProvider:Pe||null,signInSecondFactor:(null==ee?void 0:ee.sign_in_second_factor)||null}})).apply(this,arguments)}function it(b){return 1e3*Number(b)}function tt(b){const[g,m,D]=b.split(".");if(void 0===g||void 0===m||void 0===D)return et("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,se.tV)(m);return j?JSON.parse(j):(et("Failed to decode base64 JWT payload"),null)}catch(j){return et("Caught error parsing JWT payload as JSON",j),null}}function mt(b,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,C.Z)(function*(b,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof se.ZR&&Qt(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}function Qt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class lr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const j=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,C.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,C.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class er{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=gn(this.lastLoginAt),this.creationTime=gn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function En(b){return qn.apply(this,arguments)}function qn(){return(qn=(0,C.Z)(function*(b){var g;const m=b.auth,D=yield b.getIdToken(),j=yield mt(b,en(m,{idToken:D}));Ze(null==j?void 0:j.users.length,m,"internal-error");const ee=j.users[0];b._notifyReloadListener(ee);const Pe=(null===(g=ee.providerUserInfo)||void 0===g?void 0:g.length)?oe(ee.providerUserInfo):[],Ye=we(b.providerData,Pe),qt=!!b.isAnonymous&&!(b.email&&ee.passwordHash||(null==Ye?void 0:Ye.length)),$t={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:Ye,metadata:new er(ee.createdAt,ee.lastLoginAt),isAnonymous:qt};Object.assign(b,$t)})).apply(this,arguments)}function Kt(){return(Kt=(0,C.Z)(function*(b){const g=(0,se.m9)(b);yield En(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function we(b,g){return[...b.filter(D=>!g.some(j=>j.providerId===D.providerId)),...g]}function oe(b){return b.map(g=>{var{providerId:m}=g,D=(0,Re._T)(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function qe(){return(qe=(0,C.Z)(function*(b,g){const m=yield Xt(b,{},()=>{const D=(0,se.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:j,apiKey:ee}=b.config,Pe=kn(b,j,"/v1/token",`key=${ee}`);return Lt.fetch()(Pe,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ze(g.idToken,"internal-error"),Ze(void 0!==g.idToken,"internal-error"),Ze(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(b){const g=tt(b);return Ze(g,"internal-error"),Ze(void 0!==g.exp,"internal-error"),Ze(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,C.Z)(function*(){return Ze(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,C.Z)(function*(){const{accessToken:j,refreshToken:ee,expiresIn:Pe}=yield function(b,g){return qe.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(j,ee,Number(Pe))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:j,expirationTime:ee}=m,Pe=new Me;return D&&(Ze("string"==typeof D,"internal-error",{appName:g}),Pe.refreshToken=D),j&&(Ze("string"==typeof j,"internal-error",{appName:g}),Pe.accessToken=j),ee&&(Ze("number"==typeof ee,"internal-error",{appName:g}),Pe.expirationTime=ee),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Me,this.toJSON())}_performRefresh(){return on("not implemented")}}function nt(b,g){Ze("string"==typeof b||void 0===b,"internal-error",{appName:g})}class Ot{constructor(g){var{uid:m,auth:D,stsTokenManager:j}=g,ee=(0,Re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.metadata=new er(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,C.Z)(function*(){const D=yield mt(m,m.stsTokenManager.getToken(m.auth,g));return Ze(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function(b){return me.apply(this,arguments)}(this,g)}reload(){return function(b){return Kt.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ze(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ot(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,C.Z)(function*(){let j=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),j=!0),m&&(yield En(D)),yield D.auth._persistUserIfCurrent(D),j&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,C.Z)(function*(){const m=yield g.getIdToken();return yield mt(g,function(b,g){return Vt.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,j,ee,Pe,Ye,vt,Ft,qt;const $t=null!==(D=m.displayName)&&void 0!==D?D:void 0,kr=null!==(j=m.email)&&void 0!==j?j:void 0,Ni=null!==(ee=m.phoneNumber)&&void 0!==ee?ee:void 0,yo=null!==(Pe=m.photoURL)&&void 0!==Pe?Pe:void 0,qi=null!==(Ye=m.tenantId)&&void 0!==Ye?Ye:void 0,bc=null!==(vt=m._redirectEventId)&&void 0!==vt?vt:void 0,dd=null!==(Ft=m.createdAt)&&void 0!==Ft?Ft:void 0,hd=null!==(qt=m.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:ft,emailVerified:Cc,isAnonymous:ro,providerData:fd,stsTokenManager:qu}=m;Ze(ft&&qu,g,"internal-error");const au=Me.fromJSON(this.name,qu);Ze("string"==typeof ft,g,"internal-error"),nt($t,g.name),nt(kr,g.name),Ze("boolean"==typeof Cc,g,"internal-error"),Ze("boolean"==typeof ro,g,"internal-error"),nt(Ni,g.name),nt(yo,g.name),nt(qi,g.name),nt(bc,g.name),nt(dd,g.name),nt(hd,g.name);const Ra=new Ot({uid:ft,auth:g,email:kr,emailVerified:Cc,displayName:$t,isAnonymous:ro,photoURL:yo,phoneNumber:Ni,tenantId:qi,stsTokenManager:au,createdAt:dd,lastLoginAt:hd});return fd&&Array.isArray(fd)&&(Ra.providerData=fd.map(ms=>Object.assign({},ms))),bc&&(Ra._redirectEventId=bc),Ra}static _fromIdTokenResponse(g,m,D=!1){return(0,C.Z)(function*(){const j=new Me;j.updateFromServerResponse(m);const ee=new Ot({uid:m.localId,auth:g,stsTokenManager:j,isAnonymous:D});return yield En(ee),ee})()}}const Cn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(m,D){var j=this;return(0,C.Z)(function*(){j.storage[m]=D})()}_get(m){var D=this;return(0,C.Z)(function*(){const j=D.storage[m];return void 0===j?null:j})()}_remove(m){var D=this;return(0,C.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return b.type="NONE",b})();function dn(b,g,m){return`firebase:${b}:${g}:${m}`}class cr{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:j,name:ee}=this.auth;this.fullUserKey=dn(this.userKey,j.apiKey,ee),this.fullPersistenceKey=dn("persistence",j.apiKey,ee),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,C.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Ot._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,C.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,C.Z)(function*(){if(!m.length)return new cr(Ue(Cn),g,D);const j=(yield Promise.all(m.map(function(){var Ft=(0,C.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let ee=j[0]||Ue(Cn);const Pe=dn(D,g.config.apiKey,g.name);let Ye=null;for(const Ft of m)try{const qt=yield Ft._get(Pe);if(qt){const $t=Ot._fromJSON(g,qt);Ft!==ee&&(Ye=$t),ee=Ft;break}}catch(qt){}const vt=j.filter(Ft=>Ft._shouldAllowMigration);return ee._shouldAllowMigration&&vt.length?(ee=vt[0],Ye&&(yield ee._set(Pe,Ye.toJSON())),yield Promise.all(m.map(function(){var Ft=(0,C.Z)(function*(qt){if(qt!==ee)try{yield qt._remove(Pe)}catch($t){}});return function(qt){return Ft.apply(this,arguments)}}())),new cr(ee,g,D)):new cr(ee,g,D)})()}}function Gt(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if($s(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Mn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(bi(g))return"Blackberry";if(_s(g))return"Webos";if(gi(g))return"Safari";if((g.includes("chrome/")||hn(g))&&!g.includes("edge/"))return"Chrome";if(Ei(g))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Mn(b=(0,se.z$)()){return/firefox\//i.test(b)}function gi(b=(0,se.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function hn(b=(0,se.z$)()){return/crios\//i.test(b)}function $s(b=(0,se.z$)()){return/iemobile/i.test(b)}function Ei(b=(0,se.z$)()){return/android/i.test(b)}function bi(b=(0,se.z$)()){return/blackberry/i.test(b)}function _s(b=(0,se.z$)()){return/webos/i.test(b)}function Nr(b=(0,se.z$)()){return/iphone|ipad|ipod/i.test(b)}function jr(b=(0,se.z$)()){return Nr(b)||Ei(b)||_s(b)||bi(b)||/windows phone/i.test(b)||$s(b)}function Fr(b,g=[]){let m;switch(b){case"Browser":m=Gt((0,se.z$)());break;case"Worker":m=`${Gt((0,se.z$)())}-${b}`;break;default:m=b}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${Ce.SDK_VERSION}/${D}`}class Ci{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=Ue(m)),this._initializationPromise=this.queue((0,C.Z)(function*(){var j;D._deleted||(D.persistenceManager=yield cr.create(D,g),!D._deleted&&((null===(j=D._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(m),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,C.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,C.Z)(function*(){var D;let j=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ee=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,Pe=null==j?void 0:j._redirectEventId,Ye=yield m.tryRedirectSignIn(g);(!ee||ee===Pe)&&(null==Ye?void 0:Ye.user)&&(j=Ye.user)}return j?j._redirectEventId?(Ze(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===j._redirectEventId?m.directlySetCurrentUser(j):m.reloadAndSetCurrentUserOrClear(j)):m.reloadAndSetCurrentUserOrClear(j):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,C.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(j){yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,C.Z)(function*(){try{yield En(g)}catch(D){if("auth/network-request-failed"!==D.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,C.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,C.Z)(function*(){const D=g?(0,se.m9)(g):null;return D&&Ze(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,C.Z)(function*(){if(!m._deleted)return g&&Ze(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,C.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,C.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,C.Z)(function*(){yield m.assertedPersistence.setPersistence(Ue(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new se.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,C.Z)(function*(){const j=yield D.getOrInitRedirectPersistenceManager(m);return null===g?j.removeCurrentUser():j.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,C.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&Ue(g)||m._popupRedirectResolver;Ze(D,m,"argument-error"),m.redirectPersistenceManager=yield cr.create(m,[Ue(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,C.Z)(function*(){var D,j;return m._isInitialized&&(yield m.queue((0,C.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(j=m.redirectUser)||void 0===j?void 0:j._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,C.Z)(function*(){if(g===m.currentUser)return m.queue((0,C.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,j){if(this._deleted)return()=>{};const ee="function"==typeof m?m:m.next.bind(m),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(Pe,this,"internal-error"),Pe.then(()=>ee(this.currentUser)),"function"==typeof m?g.addObserver(m,D,j):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,C.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function vn(b){return(0,se.m9)(b)}class ls{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,se.ne)(m=>this.observer=m)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dt(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Ln(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Vn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return on("not implemented")}_getIdTokenResponse(g){return on("not implemented")}_linkToIdToken(g,m){return on("not implemented")}_getReauthenticationResolver(g){return on("not implemented")}}function ln(b,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:resetPassword",zt(b,g))})).apply(this,arguments)}function Bn(b,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ss(b,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:update",zt(b,g))})).apply(this,arguments)}function Pi(){return(Pi=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signInWithPassword",zt(b,g))})).apply(this,arguments)}function ti(b,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:sendOobCode",zt(b,g))})).apply(this,arguments)}function $r(b,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,C.Z)(function*(b,g){return ti(b,g)})).apply(this,arguments)}function Zr(b,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,C.Z)(function*(b,g){return ti(b,g)})).apply(this,arguments)}function On(b,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,C.Z)(function*(b,g){return ti(b,g)})).apply(this,arguments)}function Jt(b,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,C.Z)(function*(b,g){return ti(b,g)})).apply(this,arguments)}function Gr(){return(Gr=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signInWithEmailLink",zt(b,g))})).apply(this,arguments)}function ri(){return(ri=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signInWithEmailLink",zt(b,g))})).apply(this,arguments)}class ir extends Vn{constructor(g,m,D,j=null){super("password",D),this._email=g,this._password=m,this._tenantId=j}static _fromEmailAndPassword(g,m){return new ir(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new ir(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,C.Z)(function*(){switch(m.signInMethod){case"password":return function(b,g){return Pi.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(b,g){return Gr.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:ut(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,C.Z)(function*(){switch(D.signInMethod){case"password":return Bn(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(b,g){return ri.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:ut(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function mr(b,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signInWithIdp",zt(b,g))})).apply(this,arguments)}class tr extends Vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new tr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):ut("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:j}=m,ee=(0,Re._T)(m,["providerId","signInMethod"]);if(!D||!j)return null;const Pe=new tr(D,j);return Object.assign(Pe,ee),Pe}_getIdTokenResponse(g){return mr(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,mr(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,mr(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,se.xO)(m)}return g}}function Fi(b,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:sendVerificationCode",zt(b,g))})).apply(this,arguments)}function Qi(){return(Qi=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signInWithPhoneNumber",zt(b,g))})).apply(this,arguments)}function vs(){return(vs=(0,C.Z)(function*(b,g){const m=yield _n(b,"POST","/v1/accounts:signInWithPhoneNumber",zt(b,g));if(m.temporaryProof)throw un(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ii={USER_NOT_FOUND:"user-not-found"};function _r(){return(_r=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signInWithPhoneNumber",zt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ii)})).apply(this,arguments)}class Vi extends Vn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Vi({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Vi({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(b,g){return Qi.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(b,g){return vs.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(b,g){return _r.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:j}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:j}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:j,temporaryProof:ee}=g;return D||m||j||ee?new Vi({verificationId:m,verificationCode:D,phoneNumber:j,temporaryProof:ee}):null}}class Ui{constructor(g){var m,D,j,ee,Pe,Ye;const vt=(0,se.zd)((0,se.pd)(g)),Ft=null!==(m=vt.apiKey)&&void 0!==m?m:null,qt=null!==(D=vt.oobCode)&&void 0!==D?D:null,$t=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=vt.mode)&&void 0!==j?j:null);Ze(Ft&&qt&&$t,"argument-error"),this.apiKey=Ft,this.operation=$t,this.code=qt,this.continueUrl=null!==(ee=vt.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Pe=vt.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(Ye=vt.tenantId)&&void 0!==Ye?Ye:null}static parseLink(g){const m=function(b){const g=(0,se.zd)((0,se.pd)(b)).link,m=g?(0,se.zd)((0,se.pd)(g)).deep_link_id:null,D=(0,se.zd)((0,se.pd)(b)).deep_link_id;return(D?(0,se.zd)((0,se.pd)(D)).link:null)||D||m||g||b}(g);try{return new Ui(m)}catch(D){return null}}}let Bi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,D){return ir._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const j=Ui.parseLink(D);return Ze(j,"argument-error"),ir._fromEmailAndCode(m,j.code,j.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Lr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ji extends Lr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ii extends ji{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Ze("providerId"in m&&"signInMethod"in m,"argument-error"),tr._fromParams(m)}credential(g){return this._credential(g)}_credential(g){return Ze(g.idToken||g.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ii.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ii.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:j,pendingToken:ee,nonce:Pe,providerId:Ye}=g;if(!D&&!j&&!m&&!ee||!Ye)return null;try{return new ii(Ye)._credential({idToken:m,accessToken:D,rawNonce:Pe,pendingToken:ee})}catch(vt){return null}}}let Gs=(()=>{class b extends ji{constructor(){super("facebook.com")}static credential(m){return tr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(D){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),es=(()=>{class b extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return tr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:j}=m;if(!D&&!j)return null;try{return b.credential(D,j)}catch(ee){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ts=(()=>{class b extends ji{constructor(){super("github.com")}static credential(m){return tr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(D){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Kr extends Vn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return mr(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,mr(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,mr(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:j,pendingToken:ee}=m;return D&&j&&ee&&D===j?new Kr(D,ee):null}static _create(g,m){return new Kr(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ms=(()=>{class b extends ji{constructor(){super("twitter.com")}static credential(m,D){return tr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:j}=m;if(!D||!j)return null;try{return b.credential(D,j)}catch(ee){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function si(b,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signUp",zt(b,g))})).apply(this,arguments)}class Tr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,j=!1){return(0,C.Z)(function*(){const ee=yield Ot._fromIdTokenResponse(g,D,j),Pe=ws(D);return new Tr({user:ee,providerId:Pe,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,C.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const j=ws(D);return new Tr({user:g,providerId:j,_tokenResponse:D,operationType:m})})()}}function ws(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function $i(){return($i=(0,C.Z)(function*(b){var g;const m=vn(b);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Tr({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield si(m,{returnSecureToken:!0}),j=yield Tr._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(j.user),j})).apply(this,arguments)}class Ti extends se.ZR{constructor(g,m,D,j){var ee;super(m.code,m.message),this.operationType=D,this.user=j,this.name="FirebaseError",Object.setPrototypeOf(this,Ti.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,D,j){return new Ti(g,m,D,j)}}function vr(b,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Ti._fromErrorAndOperation(b,ee,g,D):ee})}function ai(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function ns(){return(ns=(0,C.Z)(function*(b,g){const m=(0,se.m9)(b);yield L(!0,m,g);const{providerUserInfo:D}=yield Rn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),j=ai(D||[]);return m.providerData=m.providerData.filter(ee=>j.has(ee.providerId)),j.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Vr(b,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,C.Z)(function*(b,g,m=!1){const D=yield mt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),m);return Tr._forOperation(b,"link",D)})).apply(this,arguments)}function L(b,g,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,C.Z)(function*(b,g,m){yield En(g);const j=!1===b?"provider-already-linked":"no-such-provider";Ze(ai(g.providerData).has(m)===b,g.auth,j)})).apply(this,arguments)}function V(b,g){return Q.apply(this,arguments)}function Q(){return(Q=(0,C.Z)(function*(b,g,m=!1){const{auth:D}=b,j="reauthenticate";try{const ee=yield mt(b,vr(D,j,g,b),m);Ze(ee.idToken,D,"internal-error");const Pe=tt(ee.idToken);Ze(Pe,D,"internal-error");const{sub:Ye}=Pe;return Ze(b.uid===Ye,D,"user-mismatch"),Tr._forOperation(b,j,ee)}catch(ee){throw"auth/user-not-found"===(null==ee?void 0:ee.code)&&ut(D,"user-mismatch"),ee}})).apply(this,arguments)}function be(b,g){return He.apply(this,arguments)}function He(){return(He=(0,C.Z)(function*(b,g,m=!1){const D="signIn",j=yield vr(b,D,g),ee=yield Tr._fromIdTokenResponse(b,D,j);return m||(yield b._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function lt(b,g){return k.apply(this,arguments)}function k(){return(k=(0,C.Z)(function*(b,g){return be(vn(b),g)})).apply(this,arguments)}function M(b,g){return x.apply(this,arguments)}function x(){return(x=(0,C.Z)(function*(b,g){const m=(0,se.m9)(b);return yield L(!1,m,g.providerId),Vr(m,g)})).apply(this,arguments)}function K(b,g){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,C.Z)(function*(b,g){return V((0,se.m9)(b),g)})).apply(this,arguments)}function bt(b,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,C.Z)(function*(b,g){return _n(b,"POST","/v1/accounts:signInWithCustomToken",zt(b,g))})).apply(this,arguments)}function Ir(){return(Ir=(0,C.Z)(function*(b,g){const m=vn(b),D=yield bt(m,{token:g,returnSecureToken:!0}),j=yield Tr._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(j.user),j})).apply(this,arguments)}class sr{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?$n._fromServerResponse(g,m):ut(g,"internal-error")}}class $n extends sr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new $n(m)}}function Yr(b,g,m){var D;Ze((null===(D=m.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),Ze(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ze(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iosBundleId=m.iOS.bundleId),m.android&&(Ze(m.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function zr(){return(zr=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b),j={requestType:"PASSWORD_RESET",email:g};m&&Yr(D,j,m),yield Zr(D,j)})).apply(this,arguments)}function zs(){return(zs=(0,C.Z)(function*(b,g,m){yield ln((0,se.m9)(b),{oobCode:g,newPassword:m})})).apply(this,arguments)}function $(){return($=(0,C.Z)(function*(b,g){yield Ss((0,se.m9)(b),{oobCode:g})})).apply(this,arguments)}function U(b,g){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(b,g){const m=(0,se.m9)(b),D=yield ln(m,{oobCode:g}),j=D.requestType;switch(Ze(j,m,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ze(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ze(D.mfaInfo,m,"internal-error");default:Ze(D.email,m,"internal-error")}let ee=null;return D.mfaInfo&&(ee=sr._fromServerResponse(vn(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ee},operation:j}})).apply(this,arguments)}function yt(){return(yt=(0,C.Z)(function*(b,g){const{data:m}=yield U((0,se.m9)(b),g);return m.email})).apply(this,arguments)}function Hn(){return(Hn=(0,C.Z)(function*(b,g,m){const D=vn(b),j=yield si(D,{returnSecureToken:!0,email:g,password:m}),ee=yield Tr._fromIdTokenResponse(D,"signIn",j);return yield D._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function In(){return(In=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b),j={requestType:"EMAIL_SIGNIN",email:g};Ze(m.handleCodeInApp,D,"argument-error"),m&&Yr(D,j,m),yield On(D,j)})).apply(this,arguments)}function Ws(){return(Ws=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b),j=Bi.credentialWithLink(g,m||je());return Ze(j._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),lt(D,j)})).apply(this,arguments)}function rs(b,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:createAuthUri",zt(b,g))})).apply(this,arguments)}function Os(){return(Os=(0,C.Z)(function*(b,g){const D={identifier:g,continueUri:le()?je():"http://localhost"},{signinMethods:j}=yield rs((0,se.m9)(b),D);return j||[]})).apply(this,arguments)}function ra(){return(ra=(0,C.Z)(function*(b,g){const m=(0,se.m9)(b),j={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Yr(m.auth,j,g);const{email:ee}=yield $r(m.auth,j);ee!==b.email&&(yield b.reload())})).apply(this,arguments)}function ds(){return(ds=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};m&&Yr(D.auth,ee,m);const{email:Pe}=yield Jt(D.auth,ee);Pe!==b.email&&(yield b.reload())})).apply(this,arguments)}function Qr(b,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,C.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hs(){return(hs=(0,C.Z)(function*(b,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,se.m9)(b),ee={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Pe=yield mt(D,Qr(D.auth,ee));D.displayName=Pe.displayName||null,D.photoURL=Pe.photoUrl||null;const Ye=D.providerData.find(({providerId:vt})=>"password"===vt);Ye&&(Ye.displayName=D.displayName,Ye.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Pe)})).apply(this,arguments)}function Ar(b,g,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,C.Z)(function*(b,g,m){const{auth:D}=b,ee={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(ee.email=g),m&&(ee.password=m);const Pe=yield mt(b,Bn(D,ee));yield b._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class uo{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class _a extends uo{constructor(g,m,D,j){super(g,m,D),this.username=j}}class Fo extends uo{constructor(g,m){super(g,"facebook.com",m)}}class $a extends _a{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ga extends uo{constructor(g,m){super(g,"google.com",m)}}class va extends _a{constructor(g,m,D){super(g,"twitter.com",m,D)}}function lo(b){const{user:g,_tokenResponse:m}=b;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(b){var g,m;if(!b)return null;const{providerId:D}=b,j=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ee=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&(null==b?void 0:b.idToken)){const Pe=null===(m=null===(g=tt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Pe)return new uo(ee,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!D)return null;switch(D){case"facebook.com":return new Fo(ee,j);case"github.com":return new $a(ee,j);case"google.com":return new Ga(ee,j);case"twitter.com":return new va(ee,j,b.screenName||null);case"custom":case"anonymous":return new uo(ee,null);default:return new uo(ee,D,j)}}(m)}class li{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new li("enroll",g)}static _fromMfaPendingCredential(g){return new li("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return li._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(D=g.multiFactorSession)||void 0===D?void 0:D.idToken)return li._fromIdtoken(g.multiFactorSession.idToken)}return null}}class hr{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=vn(g),j=(m.serverResponse.mfaInfo||[]).map(Pe=>sr._fromServerResponse(D,Pe));Ze(m.serverResponse.mfaPendingCredential,D,"internal-error");const ee=li._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new hr(ee,j,function(){var Pe=(0,C.Z)(function*(Ye){const vt=yield Ye._process(D,ee);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const Ft=Object.assign(Object.assign({},m.serverResponse),{idToken:vt.idToken,refreshToken:vt.refreshToken});switch(m.operationType){case"signIn":const qt=yield Tr._fromIdTokenResponse(D,m.operationType,Ft);return yield D._updateCurrentUser(qt.user),qt;case"reauthenticate":return Ze(m.user,D,"internal-error"),Tr._forOperation(m.user,m.operationType,Ft);default:ut(D,"internal-error")}});return function(Ye){return Pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,C.Z)(function*(){return m.signInResolver(g)})()}}function Vo(b,g){return Tt(b,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:b.tenantId},g))}class ss{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>sr._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new ss(g)}getSession(){var g=this;return(0,C.Z)(function*(){return li._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var D=this;return(0,C.Z)(function*(){const j=g,ee=yield D.getSession(),Pe=yield mt(D.user,j._process(D.user.auth,ee,m));return yield D.user._updateTokensIfNecessary(Pe),D.user.reload()})()}unenroll(g){var m=this;return(0,C.Z)(function*(){const D="string"==typeof g?g:g.uid,j=yield m.user.getIdToken(),ee=yield mt(m.user,function(b,g){return Tt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:b.tenantId},g))}(m.user.auth,{idToken:j,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Pe})=>Pe!==D),yield m.user._updateTokensIfNecessary(ee);try{yield m.user.reload()}catch(Pe){if("auth/user-token-expired"!==Pe.code)throw Pe}})()}}const R=new WeakMap,z="__sak";class Ee{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(z,"1"),this.storage.removeItem(z),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const Wn=(()=>{class b extends Ee{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,se.z$)();return gi(b)||Nr(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=jr(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const j=this.storage.getItem(D),ee=this.localCache[D];j!==ee&&m(D,ee,j)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Ye,vt,Ft)=>{this.notifyListeners(Ye,Ft)});const j=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(j);if(m.newValue!==Ye)null!==m.newValue?this.storage.setItem(j,m.newValue):this.storage.removeItem(j);else if(this.localCache[j]===m.newValue&&!D)return}const ee=()=>{const Ye=this.storage.getItem(j);!D&&this.localCache[j]===Ye||this.notifyListeners(j,Ye)},Pe=this.storage.getItem(j);(0,se.w1)()&&10===document.documentMode&&Pe!==m.newValue&&m.newValue!==m.oldValue?setTimeout(ee,10):ee()}notifyListeners(m,D){this.localCache[m]=D;const j=this.listeners[m];if(j)for(const ee of Array.from(j))ee(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var j=()=>super._set,ee=this;return(0,C.Z)(function*(){yield j().call(ee,m,D),ee.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,j=this;return(0,C.Z)(function*(){const ee=yield D().call(j,m);return j.localCache[m]=JSON.stringify(ee),ee})()}_remove(m){var D=()=>super._remove,j=this;return(0,C.Z)(function*(){yield D().call(j,m),delete j.localCache[m]})()}}return b.type="LOCAL",b})(),zi=(()=>{class b extends Ee{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return b.type="SESSION",b})();let bu=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(ee=>ee.isListeningto(m));if(D)return D;const j=new b(m);return this.receivers.push(j),j}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,C.Z)(function*(){const j=m,{eventId:ee,eventType:Pe,data:Ye}=j.data,vt=D.handlersMap[Pe];if(!(null==vt?void 0:vt.size))return;j.ports[0].postMessage({status:"ack",eventId:ee,eventType:Pe});const Ft=Array.from(vt).map(function(){var $t=(0,C.Z)(function*(kr){return kr(j.origin,Ye)});return function(kr){return $t.apply(this,arguments)}}()),qt=yield function(b){return Promise.all(b.map(function(){var g=(0,C.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(Ft);j.ports[0].postMessage({status:"done",eventId:ee,eventType:Pe,response:qt})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Uo(b="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return b+m}class os{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var j=this;return(0,C.Z)(function*(){const ee="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Pe,Ye;return new Promise((vt,Ft)=>{const qt=Uo("",20);ee.port1.start();const $t=setTimeout(()=>{Ft(new Error("unsupported_event"))},D);Ye={messageChannel:ee,onMessage(kr){const Ni=kr;if(Ni.data.eventId===qt)switch(Ni.data.status){case"ack":clearTimeout($t),Pe=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),vt(Ni.data.response);break;default:clearTimeout($t),clearTimeout(Pe),Ft(new Error("invalid_response"))}}},j.handlers.add(Ye),ee.port1.addEventListener("message",Ye.onMessage),j.target.postMessage({eventType:g,eventId:qt,data:m},[ee.port2])}).finally(()=>{Ye&&j.removeMessageHandler(Ye)})})()}}function ci(){return window}function Ks(){return void 0!==ci().WorkerGlobalScope&&"function"==typeof ci().importScripts}function sa(){return(sa=(0,C.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const ho="firebaseLocalStorageDb",Za="firebaseLocalStorage",Ys="fbase_key";class Bo{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ea(b,g){return b.transaction([Za],g?"readwrite":"readonly").objectStore(Za)}function Jr(){const b=indexedDB.open(ho,1);return new Promise((g,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(Za,{keyPath:Ys})}catch(j){m(j)}}),b.addEventListener("success",(0,C.Z)(function*(){const D=b.result;D.objectStoreNames.contains(Za)?g(D):(D.close(),yield function(){const b=indexedDB.deleteDatabase(ho);return new Bo(b).toPromise()}(),g(yield Jr()))}))})}function jo(b,g,m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,C.Z)(function*(b,g,m){const D=Ea(b,!0).put({[Ys]:g,value:m});return new Bo(D).toPromise()})).apply(this,arguments)}function oa(){return(oa=(0,C.Z)(function*(b,g){const m=Ea(b,!1).get(g),D=yield new Bo(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ct(b,g){const m=Ea(b,!0).delete(g);return new Bo(m).toPromise()}const jt=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,C.Z)(function*(){return m.db||(m.db=yield Jr()),m.db})()}_withRetries(m){var D=this;return(0,C.Z)(function*(){let j=0;for(;;)try{const ee=yield D._openDb();return yield m(ee)}catch(ee){if(j++>3)throw ee;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,C.Z)(function*(){return Ks()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,C.Z)(function*(){m.receiver=bu._getInstance(Ks()?self:null),m.receiver._subscribe("keyChanged",function(){var D=(0,C.Z)(function*(j,ee){return{keyProcessed:(yield m._poll()).includes(ee.key)}});return function(j,ee){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,C.Z)(function*(j,ee){return["keyChanged"]});return function(j,ee){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,C.Z)(function*(){var D,j;if(m.activeServiceWorker=yield function(){return sa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new os(m.activeServiceWorker);const ee=yield m.sender._send("ping",{},800);!ee||(null===(D=ee[0])||void 0===D?void 0:D.fulfilled)&&(null===(j=ee[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,C.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Jr();return yield jo(m,z,"1"),yield Ct(m,z),!0}catch(m){}return!1})()}_withPendingWrite(m){var D=this;return(0,C.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var j=this;return(0,C.Z)(function*(){return j._withPendingWrite((0,C.Z)(function*(){return yield j._withRetries(ee=>jo(ee,m,D)),j.localCache[m]=D,j.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,C.Z)(function*(){const j=yield D._withRetries(ee=>function(b,g){return oa.apply(this,arguments)}(ee,m));return D.localCache[m]=j,j})()}_remove(m){var D=this;return(0,C.Z)(function*(){return D._withPendingWrite((0,C.Z)(function*(){return yield D._withRetries(j=>Ct(j,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,C.Z)(function*(){const D=yield m._withRetries(Pe=>{const Ye=Ea(Pe,!1).getAll();return new Bo(Ye).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const j=[],ee=new Set;for(const{fbase_key:Pe,value:Ye}of D)ee.add(Pe),JSON.stringify(m.localCache[Pe])!==JSON.stringify(Ye)&&(m.notifyListeners(Pe,Ye),j.push(Pe));for(const Pe of Object.keys(m.localCache))m.localCache[Pe]&&!ee.has(Pe)&&(m.notifyListeners(Pe,null),j.push(Pe));return j})()}notifyListeners(m,D){this.localCache[m]=D;const j=this.listeners[m];if(j)for(const ee of Array.from(j))ee(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function fn(b,g){return Tt(b,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:b.tenantId},g))}function E(){return(E=(0,C.Z)(function*(b){return(yield Tt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function O(b){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=g,D.onerror=j=>{const ee=Ke("internal-error");ee.customData=j,m(ee)},D.type="text/javascript",D.charset="UTF-8",function(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(D)})}function B(b){return`__${b}${Math.floor(1e6*Math.random())}`}const De=1e12;class st{constructor(g){this.auth=g,this.counter=De,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new Pt(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||De;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||De))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,C.Z)(function*(){var D;return null===(D=m._widgets.get(g||De))||void 0===D||D.execute(),""})()}}class Pt{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof g?document.getElementById(g):g;Ze(j,"argument-error",{appName:m}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xn=B("rcb"),fr=new gt(3e4,6e4);class vi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ci().grecaptcha}load(g,m=""){return Ze((b=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(ci().grecaptcha):new Promise((D,j)=>{const ee=ci().setTimeout(()=>{j(Ke(g,"network-request-failed"))},fr.get());ci()[xn]=()=>{ci().clearTimeout(ee),delete ci()[xn];const Ye=ci().grecaptcha;if(!Ye)return void j(Ke(g,"internal-error"));const vt=Ye.render;Ye.render=(Ft,qt)=>{const $t=vt(Ft,qt);return this.counter++,$t},this.hostLanguage=m,D(Ye)},O(`https://www.google.com/recaptcha/api.js??${(0,se.xO)({onload:xn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ee),j(Ke(g,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!ci().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qn{load(g){return(0,C.Z)(function*(){return new st(g)})()}clearedOneInstance(){}}const pn="recaptcha",bs={theme:"light",type:"image"};class Cs{constructor(g,m=Object.assign({},bs),D){this.parameters=m,this.type=pn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(D),this.isInvisible="invisible"===this.parameters.size,Ze("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof g?document.getElementById(g):g;Ze(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qn:new vi,this.validateStartingState()}verify(){var g=this;return(0,C.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(ee=>{const Pe=Ye=>{!Ye||(g.tokenChangeListeners.delete(Pe),ee(Ye))};g.tokenChangeListeners.add(Pe),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ze(!this.parameters.sitekey,this.auth,"argument-error"),Ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ze("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=ci()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){Ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,C.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,C.Z)(function*(){Ze(le()&&!Ks(),g.auth,"internal-error"),yield function(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(b){return E.apply(this,arguments)}(g.auth);Ze(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ya{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Vi._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function qc(){return(qc=(0,C.Z)(function*(b,g,m){const D=vn(b),j=yield Zc(D,g,(0,se.m9)(m));return new Ya(j,ee=>lt(D,ee))})).apply(this,arguments)}function ba(){return(ba=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b);yield L(!1,D,"phone");const j=yield Zc(D.auth,g,(0,se.m9)(m));return new Ya(j,ee=>M(D,ee))})).apply(this,arguments)}function Si(){return(Si=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b),j=yield Zc(D.auth,g,(0,se.m9)(m));return new Ya(j,ee=>K(D,ee))})).apply(this,arguments)}function Zc(b,g,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,C.Z)(function*(b,g,m){var D;const j=yield m.verify();try{let ee;if(Ze("string"==typeof j,b,"argument-error"),Ze(m.type===pn,b,"argument-error"),ee="string"==typeof g?{phoneNumber:g}:g,"session"in ee){const Pe=ee.session;if("phoneNumber"in ee)return Ze("enroll"===Pe.type,b,"internal-error"),(yield Vo(b,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Ze("signin"===Pe.type,b,"internal-error");const Ye=(null===(D=ee.multiFactorHint)||void 0===D?void 0:D.uid)||ee.multiFactorUid;return Ze(Ye,b,"missing-multi-factor-info"),(yield fn(b,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:Ye,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield Fi(b,{phoneNumber:ee.phoneNumber,recaptchaToken:j});return Pe}}finally{m._reset()}})).apply(this,arguments)}function Qa(){return(Qa=(0,C.Z)(function*(b,g){yield Vr((0,se.m9)(b),g)})).apply(this,arguments)}let Iu=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=vn(m)}verifyPhoneNumber(m,D){return Zc(this.auth,m,(0,se.m9)(D))}static credential(m,D){return Vi._fromVerification(m,D)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:j}=m;return D&&j?Vi._fromTokenResponse(D,j):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ja(b,g){return g?Ue(g):(Ze(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Du extends Vn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return mr(g,this._buildIdpRequest())}_linkToIdToken(g,m){return mr(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return mr(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Tu(b){return be(b.auth,new Du(b),b.bypassAuthState)}function Ca(b){const{auth:g,user:m}=b;return Ze(m,g,"internal-error"),V(m,new Du(b),b.bypassAuthState)}function Hf(b){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,C.Z)(function*(b){const{auth:g,user:m}=b;return Ze(m,g,"internal-error"),Vr(m,new Du(b),b.bypassAuthState)})).apply(this,arguments)}class Do{constructor(g,m,D,j,ee=!1){this.auth=g,this.resolver=D,this.user=j,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,C.Z)(function*(D,j){g.pendingPromise={resolve:D,reject:j};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ee){g.reject(ee)}});return function(D,j){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,C.Z)(function*(){const{urlResponse:D,sessionId:j,postBody:ee,tenantId:Pe,error:Ye,type:vt}=g;if(Ye)return void m.reject(Ye);const Ft={auth:m.auth,requestUri:D,sessionId:j,tenantId:Pe||void 0,postBody:ee||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(vt)(Ft))}catch(qt){m.reject(qt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Tu;case"linkViaPopup":case"linkViaRedirect":return Hf;case"reauthViaPopup":case"reauthViaRedirect":return Ca;default:ut(this.auth,"internal-error")}}resolve(g){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Js=new gt(2e3,1e4);function Ia(){return(Ia=(0,C.Z)(function*(b,g,m){const D=vn(b);Ze(g instanceof Lr,b,"argument-error");const j=Ja(D,m);return new po(D,"signInViaPopup",g,j).executeNotNull()})).apply(this,arguments)}function Ps(){return(Ps=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b);Ze(g instanceof Lr,D.auth,"argument-error");const j=Ja(D.auth,m);return new po(D.auth,"reauthViaPopup",g,j,D).executeNotNull()})).apply(this,arguments)}function fo(){return(fo=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b);Ze(g instanceof Lr,D.auth,"argument-error");const j=Ja(D.auth,m);return new po(D.auth,"linkViaPopup",g,j,D).executeNotNull()})).apply(this,arguments)}let po=(()=>{class b extends Do{constructor(m,D,j,ee,Pe){super(m,D,ee,Pe),this.provider=j,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,C.Z)(function*(){const D=yield m.execute();return Ze(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,C.Z)(function*(){It(1===m.filter.length,"Popup operations only handle one event");const D=Uo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(j=>{m.reject(j)}),m.resolver._isIframeWebStorageSupported(m.auth,j=>{j||m.reject(Ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,j;this.pollId=(null===(j=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Js.get())};m()}}return b.currentPopupAction=null,b})();const rc=new Map;class Xd extends Do{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,C.Z)(function*(){let D=rc.get(m.auth._key());if(!D){try{const ee=(yield function(b,g){return Su.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(ee)}catch(j){D=()=>Promise.reject(j)}rc.set(m.auth._key(),D)}return D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,C.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const j=yield D.auth._redirectUserForId(g.eventId);if(j)return D.user=j,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Su(){return(Su=(0,C.Z)(function*(b,g){const m=eh(g),D="true"===(yield Da(b)._get(m));return yield Da(b)._remove(m),D})).apply(this,arguments)}function Ri(b,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,C.Z)(function*(b,g){return Da(b)._set(eh(g),"true")})).apply(this,arguments)}function Da(b){return Ue(b._redirectPersistence)}function eh(b){return dn("pendingRedirect",b.config.apiKey,b.name)}function Ru(){return(Ru=(0,C.Z)(function*(b,g,m){const D=vn(b);Ze(g instanceof Lr,b,"argument-error");const j=Ja(D,m);return yield Ri(j,D),j._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Yc(){return(Yc=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b);Ze(g instanceof Lr,D.auth,"argument-error");const j=Ja(D.auth,m);yield Ri(j,D.auth);const ee=yield th(D);return j._openRedirect(D.auth,g,"reauthViaRedirect",ee)})).apply(this,arguments)}function Nu(){return(Nu=(0,C.Z)(function*(b,g,m){const D=(0,se.m9)(b);Ze(g instanceof Lr,D.auth,"argument-error");const j=Ja(D.auth,m);yield L(!1,D,g.providerId),yield Ri(j,D.auth);const ee=yield th(D);return j._openRedirect(D.auth,g,"linkViaRedirect",ee)})).apply(this,arguments)}function Xa(){return(Xa=(0,C.Z)(function*(b,g){return yield vn(b)._initializationPromise,Mu(b,g,!1)})).apply(this,arguments)}function Mu(b,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,C.Z)(function*(b,g,m=!1){const D=vn(b),j=Ja(D,g),Pe=yield new Xd(D,j,m).execute();return Pe&&!m&&(delete Pe.user._redirectEventId,yield D._persistUserIfCurrent(Pe.user),yield D._setRedirectUser(null,g)),Pe})).apply(this,arguments)}function th(b){return eu.apply(this,arguments)}function eu(){return(eu=(0,C.Z)(function*(b){const g=Uo(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class ua{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ml(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!ml(g)){const j=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(Ke(this.auth,j))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zf(g))}saveEventToCache(g){this.cachedEventUids.add(zf(g)),this.lastProcessedEventTime=Date.now()}}function zf(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function ml({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ds(b){return oc.apply(this,arguments)}function oc(){return(oc=(0,C.Z)(function*(b,g={}){return Tt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yl=/^https?/;function To(){return(To=(0,C.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Ds(b);for(const m of g)try{if(tu(m))return}catch(D){}ut(b,"unauthorized-domain")})).apply(this,arguments)}function tu(b){const g=je(),{protocol:m,hostname:D}=new URL(g);if(b.startsWith("chrome-extension://")){const Pe=new URL(b);return""===Pe.hostname&&""===D?"chrome-extension:"===m&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Pe.hostname===D}if(!yl.test(m))return!1;if(Pr.test(b))return D===b;const j=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(D)}const Xc=new gt(3e4,6e4);function Aa(){const b=ci().___jsl;if(null==b?void 0:b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let ac=null;function $o(b){return ac=ac||function(b){return new Promise((g,m)=>{var D,j,ee;function Pe(){Aa(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Aa(),m(Ke(b,"network-request-failed"))},timeout:Xc.get()})}if(null===(j=null===(D=ci().gapi)||void 0===D?void 0:D.iframes)||void 0===j?void 0:j.Iframe)g(gapi.iframes.getContext());else{if(!(null===(ee=ci().gapi)||void 0===ee?void 0:ee.load)){const Ye=B("iframefcb");return ci()[Ye]=()=>{gapi.load?Pe():m(Ke(b,"network-request-failed"))},O(`https://apis.google.com/js/api.js?onload=${Ye}`)}Pe()}}).catch(g=>{throw ac=null,g})}(b),ac}const Go=new gt(5e3,15e3),nh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uc(b){const g=b.config;Ze(g.authDomain,b,"auth-domain-config-required");const m=g.emulator?_t(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:b.name,v:Ce.SDK_VERSION},j=rh.get(b.config.apiHost);j&&(D.eid=j);const ee=b._getFrameworks();return ee.length&&(D.fw=ee.join(",")),`${m}?${(0,se.xO)(D).slice(1)}`}function vl(){return(vl=(0,C.Z)(function*(b){const g=yield $o(b),m=ci().gapi;return Ze(m,b,"internal-error"),g.open({where:document.body,url:uc(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nh,dontclear:!0},D=>new Promise(function(){var j=(0,C.Z)(function*(ee,Pe){yield D.restyle({setHideOnLeave:!1});const Ye=Ke(b,"network-request-failed"),vt=ci().setTimeout(()=>{Pe(Ye)},Go.get());function Ft(){ci().clearTimeout(vt),ee(D)}D.ping(Ft).then(Ft,()=>{Pe(Ye)})});return function(ee,Pe){return j.apply(this,arguments)}}()))})).apply(this,arguments)}const lc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function cc(b,g,m,D,j,ee){Ze(b.config.authDomain,b,"auth-domain-config-required"),Ze(b.config.apiKey,b,"invalid-api-key");const Pe={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:D,v:Ce.SDK_VERSION,eventId:j};if(g instanceof Lr){g.setDefaultLanguage(b.languageCode),Pe.providerId=g.providerId||"",(0,se.xb)(g.getCustomParameters())||(Pe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[vt,Ft]of Object.entries(ee||{}))Pe[vt]=Ft}if(g instanceof ji){const vt=g.getScopes().filter(Ft=>""!==Ft);vt.length>0&&(Pe.scopes=vt.join(","))}b.tenantId&&(Pe.tid=b.tenantId);const Ye=Pe;for(const vt of Object.keys(Ye))void 0===Ye[vt]&&delete Ye[vt];return`${function({config:b}){return b.emulator?_t(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,se.xO)(Ye).slice(1)}`}const zo="webStorageSupport";class Uu extends class{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return on("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Uu(g)}_finalizeEnroll(g,m,D){return function(b,g){return Tt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:b.tenantId},g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(b,g){return Tt(b,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:b.tenantId},g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class nd{constructor(){}static assertion(g){return Uu._fromCredential(g)}}var b;class sh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,C.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{var j;g((null===(j=D)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ks(){return window}function hc(){return(hc=(0,C.Z)(function*(b,g,m){var D;const{BuildInfo:j}=ks();It(g.sessionId,"AuthEvent did not contain a session ID");const ee=yield lh(g.sessionId),Pe={};return Nr()?Pe.ibi=j.packageName:Ei()?Pe.apn=j.packageName:ut(b,"operation-not-supported-in-this-environment"),j.displayName&&(Pe.appDisplayName=j.displayName),Pe.sessionId=ee,cc(b,m,g.type,void 0,null!==(D=g.eventId)&&void 0!==D?D:void 0,Pe)})).apply(this,arguments)}function to(){return(to=(0,C.Z)(function*(b){const{BuildInfo:g}=ks(),m={};Nr()?m.iosBundleId=g.packageName:Ei()?m.androidPackageName=g.packageName:ut(b,"operation-not-supported-in-this-environment"),yield Ds(b,m)})).apply(this,arguments)}function Gn(){return(Gn=(0,C.Z)(function*(b,g,m){const{cordova:D}=ks();let j=()=>{};try{yield new Promise((ee,Pe)=>{let Ye=null;function vt(){var $t;ee();const kr=null===($t=D.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof kr&&kr(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ft(){Ye||(Ye=window.setTimeout(()=>{Pe(Ke(b,"redirect-cancelled-by-user"))},2e3))}function qt(){"visible"===(null==document?void 0:document.visibilityState)&&Ft()}g.addPassiveListener(vt),document.addEventListener("resume",Ft,!1),Ei()&&document.addEventListener("visibilitychange",qt,!1),j=()=>{g.removePassiveListener(vt),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",qt,!1),Ye&&window.clearTimeout(Ye)}})}finally{j()}})).apply(this,arguments)}function lh(b){return hi.apply(this,arguments)}function hi(){return(hi=(0,C.Z)(function*(b){const g=fc(b),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function fc(b){if(It(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),m=new Uint8Array(g);for(let D=0;D<b.length;D++)m[D]=b.charCodeAt(D);return m}b="Browser",(0,Ce._registerComponent)(new ke.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),{apiKey:j,authDomain:ee}=D.options;return(Pe=>{Ze(j&&!j.includes(":"),"invalid-api-key",{appName:Pe.name}),Ze(!(null==ee?void 0:ee.includes(":")),"argument-error",{appName:Pe.name});const Ye={apiKey:j,authDomain:ee,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(b)},vt=new Ci(Pe,Ye);return function(b,g){const m=(null==g?void 0:g.persistence)||[],D=(Array.isArray(m)?m:[m]).map(Ue);(null==g?void 0:g.errorMap)&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(D,null==g?void 0:g.popupRedirectResolver)}(vt,m),vt})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new ke.wA("auth-internal",g=>{const m=vn(g.getProvider("auth").getImmediate());return new sh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/auth","0.17.1",void 0);class Xr extends ua{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,C.Z)(function*(){yield g.initPromise})()}}function no(b){return dh.apply(this,arguments)}function dh(){return(dh=(0,C.Z)(function*(b){const g=yield Cl()._get(mo(b));return g&&(yield Cl()._remove(mo(b))),g})).apply(this,arguments)}function bl(){const b=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const D=Math.floor(Math.random()*g.length);b.push(g.charAt(D))}return b.join("")}function Cl(){return Ue(Wn)}function mo(b){return dn("authEvent",b.config.apiKey,b.name)}function Sa(b){if(!(null==b?void 0:b.includes("?")))return{};const[g,...m]=b.split("?");return(0,se.zd)(m.join("?"))}function fh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ke("no-auth-event")}}function yc(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function gh(b=(0,se.z$)()){return!("file:"!==yc()&&"ionic:"!==yc()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function ei(){try{const b=self.localStorage,g=Uo();if(b)return b.setItem(g,"1"),b.removeItem(g),!function(b=(0,se.z$)()){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,se.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,se.hl)()}catch(b){return Hu()&&(0,se.hl)()}return!1}function Hu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $u(){return("http:"===yc()||"https:"===yc()||(0,se.ru)()||gh())&&!((0,se.b$)()||(0,se.UG)())&&ei()&&!Hu()}function Gu(){return gh()&&"undefined"!=typeof document}function zu(){return(zu=(0,C.Z)(function*(){return!!Gu()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const Fs={LOCAL:"local",NONE:"none",SESSION:"session"},Ao=Ze,_c="persistence";function vc(b){return ud.apply(this,arguments)}function ud(){return(ud=(0,C.Z)(function*(b){yield b._initializationPromise;const g=Dl(),m=dn(_c,b.config.apiKey,b.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,b._getPersistence())})).apply(this,arguments)}function Dl(){return"undefined"!=typeof window?window:null}const Jf=Ze;class su{constructor(){this.browserResolver=Ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zi,this._completeRedirectFn=Mu}_openPopup(g,m,D,j){var ee=this;return(0,C.Z)(function*(){var Pe;It(null===(Pe=ee.eventManagers[g._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const Ye=cc(g,m,D,je(),j);return function(b,g,m,D=500,j=600){const ee=Math.max((window.screen.availHeight-j)/2,0).toString(),Pe=Math.max((window.screen.availWidth-D)/2,0).toString();let Ye="";const vt=Object.assign(Object.assign({},lc),{width:D.toString(),height:j.toString(),top:ee,left:Pe}),Ft=(0,se.z$)().toLowerCase();m&&(Ye=hn(Ft)?"_blank":m),Mn(Ft)&&(g=g||"http://localhost",vt.scrollbars="yes");const qt=Object.entries(vt).reduce((kr,[Ni,yo])=>`${kr}${Ni}=${yo},`,"");if(function(b=(0,se.z$)()){var g;return Nr(b)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ft)&&"_self"!==Ye)return function(b,g){const m=document.createElement("a");m.href=b,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",Ye),new nu(null);const $t=window.open(g||"",Ye,qt);Ze($t,b,"popup-blocked");try{$t.focus()}catch(kr){}return new nu($t)}(g,Ye,Uo())})()}_openRedirect(g,m,D,j){var ee=this;return(0,C.Z)(function*(){return yield ee._originValidation(g),b=cc(g,m,D,je(),j),ci().location.href=b,new Promise(()=>{});var b})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:j,promise:ee}=this.eventManagers[m];return j?Promise.resolve(j):(It(ee,"If manager is not set, promise should be"),ee)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D}initAndGetManager(g){var m=this;return(0,C.Z)(function*(){const D=yield function(b){return vl.apply(this,arguments)}(g),j=new ua(g);return D.register("authEvent",ee=>(Ze(null==ee?void 0:ee.authEvent,g,"invalid-auth-event"),{status:j.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:j},m.iframes[g._key()]=D,j})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(zo,{type:zo},j=>{var ee;const Pe=null===(ee=null==j?void 0:j[0])||void 0===ee?void 0:ee[zo];void 0!==Pe&&m(!!Pe),ut(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(b){return To.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return jr()||gi()||Nr()}}),this.cordovaResolver=Ue(class{constructor(){this._redirectPersistence=zi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mu}_initialize(g){var m=this;return(0,C.Z)(function*(){const D=g._key();let j=m.eventManagers.get(D);return j||(j=new Xr(g),m.eventManagers.set(D,j),m.attachCallbackListeners(g,j)),j})()}_openPopup(g){ut(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,D,j){var ee=this;return(0,C.Z)(function*(){!function(b){var g,m,D,j,ee,Pe,Ye,vt,Ft,qt;const $t=ks();Ze("function"==typeof(null===(g=null==$t?void 0:$t.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ze(void 0!==(null===(m=null==$t?void 0:$t.BuildInfo)||void 0===m?void 0:m.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ze("function"==typeof(null===(ee=null===(j=null===(D=null==$t?void 0:$t.cordova)||void 0===D?void 0:D.plugins)||void 0===j?void 0:j.browsertab)||void 0===ee?void 0:ee.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ze("function"==typeof(null===(vt=null===(Ye=null===(Pe=null==$t?void 0:$t.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===vt?void 0:vt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ze("function"==typeof(null===(qt=null===(Ft=null==$t?void 0:$t.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===qt?void 0:qt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Pe=yield ee._initialize(g);yield Pe.initialized(),Pe.resetRedirect(),rc.clear(),yield ee._originValidation(g);const Ye=function(b,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:bl(),postBody:null,tenantId:b.tenantId,error:Ke(b,"no-auth-event")}}(g,D,j);yield function(b,g){return Cl()._set(mo(b),g)}(g,Ye);const vt=yield function(b,g,m){return hc.apply(this,arguments)}(g,Ye,m),Ft=yield function(b){const{cordova:g}=ks();return new Promise(m=>{g.plugins.browsertab.isAvailable(D=>{let j=null;D?g.plugins.browsertab.openUrl(b):j=g.InAppBrowser.open(b,function(b=(0,se.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),m(j)})})}(vt);return function(b,g,m){return Gn.apply(this,arguments)}(g,Pe,Ft)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(b){return to.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:D,handleOpenURL:j,BuildInfo:ee}=ks(),Pe=setTimeout((0,C.Z)(function*(){yield no(g),m.onEvent(fh())}),500),Ye=function(){var qt=(0,C.Z)(function*($t){clearTimeout(Pe);const kr=yield no(g);let Ni=null;kr&&(null==$t?void 0:$t.url)&&(Ni=function(b,g){var m,D;const j=function(b){const g=Sa(b),m=g.link?decodeURIComponent(g.link):void 0,D=Sa(m).link,j=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Sa(j).link||j||D||m||b}(g);if(j.includes("/__/auth/callback")){const ee=Sa(j),Pe=ee.firebaseError?function(b){try{return JSON.parse(b)}catch(g){return null}}(decodeURIComponent(ee.firebaseError)):null,Ye=null===(D=null===(m=null==Pe?void 0:Pe.code)||void 0===m?void 0:m.split("auth/"))||void 0===D?void 0:D[1],vt=Ye?Ke(Ye):null;return vt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:j,postBody:null}}return null}(kr,$t.url)),m.onEvent(Ni||fh())});return function(kr){return qt.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Ye);const vt=j,Ft=`${ee.packageName.toLowerCase()}://`;ks().handleOpenURL=function(){var qt=(0,C.Z)(function*($t){if($t.toLowerCase().startsWith(Ft)&&Ye({url:$t}),"function"==typeof vt)try{vt($t)}catch(kr){console.error(kr)}});return function($t){return qt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zi,this._completeRedirectFn=Mu}_initialize(g){var m=this;return(0,C.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,D,j){var ee=this;return(0,C.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(g,m,D,j)})()}_openRedirect(g,m,D,j){var ee=this;return(0,C.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(g,m,D,j)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Gu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,C.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return zu.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function ou(b){return b.unwrap()}function wc(b){return Ec(b)}function vh(b,g){var m;const D=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Wu(b,function(b,g){var m;const D=(0,se.m9)(b),j=g;return Ze(g.operationType,D,"argument-error"),Ze(null===(m=j.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),hr._fromError(D,j)}(b,g));else if(D){const j=Ec(g),ee=g;j&&(ee.credential=j,ee.tenantId=D.tenantId||void 0,ee.email=D.email||void 0,ee.phoneNumber=D.phoneNumber||void 0)}}function Ec(b){const{_tokenResponse:g}=b instanceof se.ZR?b.customData:b;if(!g)return null;if(!(b instanceof se.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Iu.credentialFromResult(b);const m=g.providerId;if(!m||"password"===m)return null;let D;switch(m){case"google.com":D=es;break;case"facebook.com":D=Gs;break;case"github.com":D=ts;break;case"twitter.com":D=Ms;break;default:const{oauthIdToken:j,oauthAccessToken:ee,oauthTokenSecret:Pe,pendingToken:Ye,nonce:vt}=g;return ee||Pe||j||Ye?Ye?m.startsWith("saml.")?Kr._create(m,Ye):tr._fromParams({providerId:m,signInMethod:m,pendingToken:Ye,idToken:j,accessToken:ee}):new ii(m).credential({idToken:j,accessToken:ee,rawNonce:vt}):null}return b instanceof se.ZR?D.credentialFromError(b):D.credentialFromResult(b)}function ur(b,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,C.Z)(function*(b,g){let m;try{m=yield g}catch(ee){throw ee instanceof se.ZR&&vh(b,ee),ee}const{operationType:D,user:j}=m;return{operationType:D,credential:wc(m),additionalUserInfo:lo(m),user:Ts.getOrCreate(j)}})).apply(this,arguments)}function Tl(b,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,C.Z)(function*(b,g){const m=yield g;return{verificationId:m.verificationId,confirm:D=>ur(b,m.confirm(D))}})).apply(this,arguments)}class Wu{constructor(g,m){this.resolver=m,this.auth=function(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return ur(ou(this.auth),this.resolver.resolveSignIn(g))}}class Ts{constructor(g){this._delegate=g,this.multiFactor=function(b){const g=(0,se.m9)(b);return R.has(g)||R.set(g,ss._fromUser(g)),R.get(g)}(g)}static getOrCreate(g){return Ts.USER_MAP.has(g)||Ts.USER_MAP.set(g,new Ts(g)),Ts.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,C.Z)(function*(){return ur(m.auth,M(m._delegate,g))})()}linkWithPhoneNumber(g,m){var D=this;return(0,C.Z)(function*(){return Tl(D.auth,function(b,g,m){return ba.apply(this,arguments)}(D._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,C.Z)(function*(){return ur(m.auth,function(b,g,m){return fo.apply(this,arguments)}(m._delegate,g,su))})()}linkWithRedirect(g){var m=this;return(0,C.Z)(function*(){return yield vc(vn(m.auth)),function(b,g,m){return function(b,g,m){return Nu.apply(this,arguments)}(b,g,m)}(m._delegate,g,su)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,C.Z)(function*(){return ur(m.auth,K(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return Tl(this.auth,function(b,g,m){return Si.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return ur(this.auth,function(b,g,m){return Ps.apply(this,arguments)}(this._delegate,g,su))}reauthenticateWithRedirect(g){var m=this;return(0,C.Z)(function*(){return yield vc(vn(m.auth)),function(b,g,m){return function(b,g,m){return Yc.apply(this,arguments)}(b,g,m)}(m._delegate,g,su)})()}sendEmailVerification(g){return function(b,g){return ra.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,C.Z)(function*(){return yield function(b,g){return ns.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(b,g){return Ar((0,se.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function(b,g){return Ar((0,se.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(b,g){return Qa.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(b,g){return hs.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(b,g,m){return ds.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ts.USER_MAP=new WeakMap;const Al=Ze;let cd=(()=>{class b{constructor(m,D){if(this.app=m,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=m.options;Al(j,"invalid-api-key",{appName:m.name});let ee=[Cn];if("undefined"!=typeof window){ee=function(b,g){const m=Dl();if(!(null==m?void 0:m.sessionStorage))return[];const D=dn(_c,b,g);switch(m.sessionStorage.getItem(D)){case Fs.NONE:return[Cn];case Fs.LOCAL:return[jt,zi];case Fs.SESSION:return[zi];default:return[]}}(j,m.name);for(const Ye of[jt,Wn,zi])ee.includes(Ye)||ee.push(Ye)}Al(j,"invalid-api-key",{appName:m.name});const Pe="undefined"!=typeof window?su:void 0;this._delegate=D.initialize({options:{persistence:ee,popupRedirectResolver:Pe}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ts.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,D){!function(b,g,m){const D=vn(b);Ze(D._canInitEmulator,D,"emulator-config-failed"),Ze(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const j=!!(null==m?void 0:m.disableWarnings),ee=Dt(g),{host:Pe,port:Ye}=function(b){const g=Dt(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(D);if(j){const ee=j[1];return{host:ee,port:Ln(D.substr(ee.length+1))}}{const[ee,Pe]=D.split(":");return{host:ee,port:Ln(Pe)}}}(g);D.config.emulator={url:`${ee}//${Pe}${null===Ye?"":`:${Ye}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Pe,port:Ye,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:j})}),function(b){function g(){const m=document.createElement("p"),D=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!b&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}(j)}(this._delegate,m,D)}applyActionCode(m){return function(b,g){return $.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return U(this._delegate,m)}confirmPasswordReset(m,D){return function(b,g,m){return zs.apply(this,arguments)}(this._delegate,m,D)}createUserWithEmailAndPassword(m,D){var j=this;return(0,C.Z)(function*(){return ur(j._delegate,function(b,g,m){return Hn.apply(this,arguments)}(j._delegate,m,D))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(b,g){return Os.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(b,g){const m=Ui.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,C.Z)(function*(){Al($u(),m._delegate,"operation-not-supported-in-this-environment");const D=yield function(b,g){return Xa.apply(this,arguments)}(m._delegate,su);return D?ur(m._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(b,g){vn(b)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,D,j){const{next:ee,error:Pe,complete:Ye}=wh(m,D,j);return this._delegate.onAuthStateChanged(ee,Pe,Ye)}onIdTokenChanged(m,D,j){const{next:ee,error:Pe,complete:Ye}=wh(m,D,j);return this._delegate.onIdTokenChanged(ee,Pe,Ye)}sendSignInLinkToEmail(m,D){return function(b,g,m){return In.apply(this,arguments)}(this._delegate,m,D)}sendPasswordResetEmail(m,D){return function(b,g,m){return zr.apply(this,arguments)}(this._delegate,m,D||void 0)}setPersistence(m){var D=this;return(0,C.Z)(function*(){let j;switch(function(b,g){Ao(Object.values(Fs).includes(g),b,"invalid-persistence-type"),(0,se.b$)()?Ao(g!==Fs.SESSION,b,"unsupported-persistence-type"):(0,se.UG)()?Ao(g===Fs.NONE,b,"unsupported-persistence-type"):Hu()?Ao(g===Fs.NONE||g===Fs.LOCAL&&(0,se.hl)(),b,"unsupported-persistence-type"):Ao(g===Fs.NONE||ei(),b,"unsupported-persistence-type")}(D._delegate,m),m){case Fs.SESSION:j=zi;break;case Fs.LOCAL:j=(yield Ue(jt)._isAvailable())?jt:Wn;break;case Fs.NONE:j=Cn;break;default:return ut("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ur(this._delegate,function(b){return $i.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ur(this._delegate,lt(this._delegate,m))}signInWithCustomToken(m){return ur(this._delegate,function(b,g){return Ir.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,D){return ur(this._delegate,function(b,g,m){return lt((0,se.m9)(b),Bi.credential(g,m))}(this._delegate,m,D))}signInWithEmailLink(m,D){return ur(this._delegate,function(b,g,m){return Ws.apply(this,arguments)}(this._delegate,m,D))}signInWithPhoneNumber(m,D){return Tl(this._delegate,function(b,g,m){return qc.apply(this,arguments)}(this._delegate,m,D))}signInWithPopup(m){var D=this;return(0,C.Z)(function*(){return Al($u(),D._delegate,"operation-not-supported-in-this-environment"),ur(D._delegate,function(b,g,m){return Ia.apply(this,arguments)}(D._delegate,m,su))})()}signInWithRedirect(m){var D=this;return(0,C.Z)(function*(){return Al($u(),D._delegate,"operation-not-supported-in-this-environment"),yield vc(D._delegate),function(b,g,m){return function(b,g,m){return Ru.apply(this,arguments)}(b,g,m)}(D._delegate,m,su)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(b,g){return yt.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Fs,b})();function wh(b,g,m){let D=b;"function"!=typeof b&&({next:D,error:g,complete:m}=b);const j=D;return{next:Pe=>j(Pe&&Ts.getOrCreate(Pe)),error:g,complete:m}}class Sl{constructor(){this.providerId="phone",this._delegate=new Iu(ou(I.Z.auth()))}static credential(g,m){return Iu.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Sl.PHONE_SIGN_IN_METHOD=Iu.PHONE_SIGN_IN_METHOD,Sl.PROVIDER_ID=Iu.PROVIDER_ID;const So=Ze;class Xf{constructor(g,m,D=I.Z.app()){var j;So(null===(j=D.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Cs(g,m,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new ke.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),D=g.getProvider("auth");return new cd(m,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bi,FacebookAuthProvider:Gs,GithubAuthProvider:ts,GoogleAuthProvider:es,OAuthProvider:ii,PhoneAuthProvider:Sl,PhoneMultiFactorGenerator:nd,RecaptchaVerifier:Xf,TwitterAuthProvider:Ms,Auth:cd,AuthCredential:Vn,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.1.1")}(I.Z)},7574:(Rt,ze,G)=>{"use strict";G.d(ze,{y:()=>ae});var C=G(7393),se=G(9181),Ce=G(6490),pe=G(6554),ke=G(4487);var te=G(2494);let ae=(()=>{class he{constructor(Ge){this._isScalar=!1,Ge&&(this._subscribe=Ge)}lift(Ge){const Le=new he;return Le.source=this,Le.operator=Ge,Le}subscribe(Ge,Le,Fe){const{operator:ve}=this,Je=function(he,Ie,Ge){if(he){if(he instanceof C.L)return he;if(he[se.b])return he[se.b]()}return he||Ie||Ge?new C.L(he,Ie,Ge):new C.L(Ce.c)}(Ge,Le,Fe);if(Je.add(ve?ve.call(Je,this.source):this.source||te.v.useDeprecatedSynchronousErrorHandling&&!Je.syncErrorThrowable?this._subscribe(Je):this._trySubscribe(Je)),te.v.useDeprecatedSynchronousErrorHandling&&Je.syncErrorThrowable&&(Je.syncErrorThrowable=!1,Je.syncErrorThrown))throw Je.syncErrorValue;return Je}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Le){te.v.useDeprecatedSynchronousErrorHandling&&(Ge.syncErrorThrown=!0,Ge.syncErrorValue=Le),function(he){for(;he;){const{closed:Ie,destination:Ge,isStopped:Le}=he;if(Ie||Le)return!1;he=Ge&&Ge instanceof C.L?Ge:null}return!0}(Ge)?Ge.error(Le):console.warn(Le)}}forEach(Ge,Le){return new(Le=ge(Le))((Fe,ve)=>{let Je;Je=this.subscribe(et=>{try{Ge(et)}catch(ut){ve(ut),Je&&Je.unsubscribe()}},ve,Fe)})}_subscribe(Ge){const{source:Le}=this;return Le&&Le.subscribe(Ge)}[pe.L](){return this}pipe(...Ge){return 0===Ge.length?this:function(he){return 0===he.length?ke.y:1===he.length?he[0]:function(Ge){return he.reduce((Le,Fe)=>Fe(Le),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=ge(Ge))((Le,Fe)=>{let ve;this.subscribe(Je=>ve=Je,Je=>Fe(Je),()=>Le(ve))})}}return he.create=Ie=>new he(Ie),he})();function ge(he){if(he||(he=te.v.Promise||Promise),!he)throw new Error("no Promise impl found");return he}},6490:(Rt,ze,G)=>{"use strict";G.d(ze,{c:()=>se});var C=G(2494),I=G(4449);const se={closed:!0,next(Ce){},error(Ce){if(C.v.useDeprecatedSynchronousErrorHandling)throw Ce;(0,I.z)(Ce)},complete(){}}},9765:(Rt,ze,G)=>{"use strict";G.d(ze,{Yc:()=>ke,xQ:()=>_e});var C=G(7574),I=G(7393),se=G(5319),Ce=G(7971),Re=G(8858),pe=G(9181);class ke extends I.L{constructor(ae){super(ae),this.destination=ae}}let _e=(()=>{class te extends C.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[pe.b](){return new ke(this)}lift(ge){const he=new ue(this,this);return he.operator=ge,he}next(ge){if(this.closed)throw new Ce.N;if(!this.isStopped){const{observers:he}=this,Ie=he.length,Ge=he.slice();for(let Le=0;Le<Ie;Le++)Ge[Le].next(ge)}}error(ge){if(this.closed)throw new Ce.N;this.hasError=!0,this.thrownError=ge,this.isStopped=!0;const{observers:he}=this,Ie=he.length,Ge=he.slice();for(let Le=0;Le<Ie;Le++)Ge[Le].error(ge);this.observers.length=0}complete(){if(this.closed)throw new Ce.N;this.isStopped=!0;const{observers:ge}=this,he=ge.length,Ie=ge.slice();for(let Ge=0;Ge<he;Ge++)Ie[Ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ge){if(this.closed)throw new Ce.N;return super._trySubscribe(ge)}_subscribe(ge){if(this.closed)throw new Ce.N;return this.hasError?(ge.error(this.thrownError),se.w.EMPTY):this.isStopped?(ge.complete(),se.w.EMPTY):(this.observers.push(ge),new Re.W(this,ge))}asObservable(){const ge=new C.y;return ge.source=this,ge}}return te.create=(ae,ge)=>new ue(ae,ge),te})();class ue extends _e{constructor(ae,ge){super(),this.destination=ae,this.source=ge}next(ae){const{destination:ge}=this;ge&&ge.next&&ge.next(ae)}error(ae){const{destination:ge}=this;ge&&ge.error&&this.destination.error(ae)}complete(){const{destination:ae}=this;ae&&ae.complete&&this.destination.complete()}_subscribe(ae){const{source:ge}=this;return ge?this.source.subscribe(ae):se.w.EMPTY}}},8858:(Rt,ze,G)=>{"use strict";G.d(ze,{W:()=>I});var C=G(5319);class I extends C.w{constructor(Ce,Re){super(),this.subject=Ce,this.subscriber=Re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ce=this.subject,Re=Ce.observers;if(this.subject=null,!Re||0===Re.length||Ce.isStopped||Ce.closed)return;const pe=Re.indexOf(this.subscriber);-1!==pe&&Re.splice(pe,1)}}},7393:(Rt,ze,G)=>{"use strict";G.d(ze,{L:()=>ke});var C=G(9105),I=G(6490),se=G(5319),Ce=G(9181),Re=G(2494),pe=G(4449);class ke extends se.w{constructor(te,ae,ge){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=I.c;break;case 1:if(!te){this.destination=I.c;break}if("object"==typeof te){te instanceof ke?(this.syncErrorThrowable=te.syncErrorThrowable,this.destination=te,te.add(this)):(this.syncErrorThrowable=!0,this.destination=new _e(this,te));break}default:this.syncErrorThrowable=!0,this.destination=new _e(this,te,ae,ge)}}[Ce.b](){return this}static create(te,ae,ge){const he=new ke(te,ae,ge);return he.syncErrorThrowable=!1,he}next(te){this.isStopped||this._next(te)}error(te){this.isStopped||(this.isStopped=!0,this._error(te))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(te){this.destination.next(te)}_error(te){this.destination.error(te),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:te}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=te,this}}class _e extends ke{constructor(te,ae,ge,he){super(),this._parentSubscriber=te;let Ie,Ge=this;(0,C.m)(ae)?Ie=ae:ae&&(Ie=ae.next,ge=ae.error,he=ae.complete,ae!==I.c&&(Ge=Object.create(ae),(0,C.m)(Ge.unsubscribe)&&this.add(Ge.unsubscribe.bind(Ge)),Ge.unsubscribe=this.unsubscribe.bind(this))),this._context=Ge,this._next=Ie,this._error=ge,this._complete=he}next(te){if(!this.isStopped&&this._next){const{_parentSubscriber:ae}=this;Re.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?this.__tryOrSetError(ae,this._next,te)&&this.unsubscribe():this.__tryOrUnsub(this._next,te)}}error(te){if(!this.isStopped){const{_parentSubscriber:ae}=this,{useDeprecatedSynchronousErrorHandling:ge}=Re.v;if(this._error)ge&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,this._error,te),this.unsubscribe()):(this.__tryOrUnsub(this._error,te),this.unsubscribe());else if(ae.syncErrorThrowable)ge?(ae.syncErrorValue=te,ae.syncErrorThrown=!0):(0,pe.z)(te),this.unsubscribe();else{if(this.unsubscribe(),ge)throw te;(0,pe.z)(te)}}}complete(){if(!this.isStopped){const{_parentSubscriber:te}=this;if(this._complete){const ae=()=>this._complete.call(this._context);Re.v.useDeprecatedSynchronousErrorHandling&&te.syncErrorThrowable?(this.__tryOrSetError(te,ae),this.unsubscribe()):(this.__tryOrUnsub(ae),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(te,ae){try{te.call(this._context,ae)}catch(ge){if(this.unsubscribe(),Re.v.useDeprecatedSynchronousErrorHandling)throw ge;(0,pe.z)(ge)}}__tryOrSetError(te,ae,ge){if(!Re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ae.call(this._context,ge)}catch(he){return Re.v.useDeprecatedSynchronousErrorHandling?(te.syncErrorValue=he,te.syncErrorThrown=!0,!0):((0,pe.z)(he),!0)}return!1}_unsubscribe(){const{_parentSubscriber:te}=this;this._context=null,this._parentSubscriber=null,te.unsubscribe()}}},5319:(Rt,ze,G)=>{"use strict";G.d(ze,{w:()=>pe});var C=G(9796),I=G(1555),se=G(9105);const Re=(()=>{function _e(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((te,ae)=>`${ae+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return _e.prototype=Object.create(Error.prototype),_e})();class pe{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:te,_ctorUnsubscribe:ae,_unsubscribe:ge,_subscriptions:he}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,te instanceof pe)te.remove(this);else if(null!==te)for(let Ie=0;Ie<te.length;++Ie)te[Ie].remove(this);if((0,se.m)(ge)){ae&&(this._unsubscribe=void 0);try{ge.call(this)}catch(Ie){ue=Ie instanceof Re?ke(Ie.errors):[Ie]}}if((0,C.k)(he)){let Ie=-1,Ge=he.length;for(;++Ie<Ge;){const Le=he[Ie];if((0,I.K)(Le))try{Le.unsubscribe()}catch(Fe){ue=ue||[],Fe instanceof Re?ue=ue.concat(ke(Fe.errors)):ue.push(Fe)}}}if(ue)throw new Re(ue)}add(ue){let te=ue;if(!ue)return pe.EMPTY;switch(typeof ue){case"function":te=new pe(ue);case"object":if(te===this||te.closed||"function"!=typeof te.unsubscribe)return te;if(this.closed)return te.unsubscribe(),te;if(!(te instanceof pe)){const he=te;te=new pe,te._subscriptions=[he]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:ae}=te;if(null===ae)te._parentOrParents=this;else if(ae instanceof pe){if(ae===this)return te;te._parentOrParents=[ae,this]}else{if(-1!==ae.indexOf(this))return te;ae.push(this)}const ge=this._subscriptions;return null===ge?this._subscriptions=[te]:ge.push(te),te}remove(ue){const te=this._subscriptions;if(te){const ae=te.indexOf(ue);-1!==ae&&te.splice(ae,1)}}}var _e;function ke(_e){return _e.reduce((ue,te)=>ue.concat(te instanceof Re?te.errors:te),[])}pe.EMPTY=((_e=new pe).closed=!0,_e)},2494:(Rt,ze,G)=>{"use strict";G.d(ze,{v:()=>I});let C=!1;const I={Promise:void 0,set useDeprecatedSynchronousErrorHandling(se){if(se){const Ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ce.stack)}else C&&console.log("RxJS: Back to a better error behavior. Thank you. <3");C=se},get useDeprecatedSynchronousErrorHandling(){return C}}},5345:(Rt,ze,G)=>{"use strict";G.d(ze,{IY:()=>Ce,Ds:()=>pe,ft:()=>_e});var C=G(7393),I=G(7574),se=G(7444);class Ce extends C.L{constructor(te){super(),this.parent=te}_next(te){this.parent.notifyNext(te)}_error(te){this.parent.notifyError(te),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class pe extends C.L{notifyNext(te){this.destination.next(te)}notifyError(te){this.destination.error(te)}notifyComplete(){this.destination.complete()}}function _e(ue,te){if(te.closed)return;if(ue instanceof I.y)return ue.subscribe(te);let ae;try{ae=(0,se.s)(ue)(te)}catch(ge){te.error(ge)}return ae}},2441:(Rt,ze,G)=>{"use strict";G.d(ze,{c:()=>Re,N:()=>pe});var C=G(9765),I=G(7574),se=G(5319),Ce=G(1307);class Re extends I.y{constructor(ae,ge){super(),this.source=ae,this.subjectFactory=ge,this._refCount=0,this._isComplete=!1}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ae=this._connection;return ae||(this._isComplete=!1,ae=this._connection=new se.w,ae.add(this.source.subscribe(new ke(this.getSubject(),this))),ae.closed&&(this._connection=null,ae=se.w.EMPTY)),ae}refCount(){return(0,Ce.x)()(this)}}const pe=(()=>{const te=Re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}}})();class ke extends C.Yc{constructor(ae,ge){super(ae),this.connectable=ge}_error(ae){this._unsubscribe(),super._error(ae)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ae=this.connectable;if(ae){this.connectable=null;const ge=ae._connection;ae._refCount=0,ae._subject=null,ae._connection=null,ge&&ge.unsubscribe()}}}},8071:(Rt,ze,G)=>{"use strict";G.d(ze,{z:()=>Ce});var C=G(5917),I=G(3282);function Ce(...Re){return(0,I.J)(1)((0,C.of)(...Re))}},9193:(Rt,ze,G)=>{"use strict";G.d(ze,{E:()=>I,c:()=>se});var C=G(7574);const I=new C.y(Re=>Re.complete());function se(Re){return Re?function(Re){return new C.y(pe=>Re.schedule(()=>pe.complete()))}(Re):I}},4402:(Rt,ze,G)=>{"use strict";G.d(ze,{D:()=>Ge});var C=G(7574),I=G(7444),se=G(5319),Ce=G(6554),ke=G(4087),_e=G(377),ae=G(4072),ge=G(9489);function Ge(Le,Fe){return Fe?function(Le,Fe){if(null!=Le){if(function(Le){return Le&&"function"==typeof Le[Ce.L]}(Le))return function(Le,Fe){return new C.y(ve=>{const Je=new se.w;return Je.add(Fe.schedule(()=>{const et=Le[Ce.L]();Je.add(et.subscribe({next(ut){Je.add(Fe.schedule(()=>ve.next(ut)))},error(ut){Je.add(Fe.schedule(()=>ve.error(ut)))},complete(){Je.add(Fe.schedule(()=>ve.complete()))}}))})),Je})}(Le,Fe);if((0,ae.t)(Le))return function(Le,Fe){return new C.y(ve=>{const Je=new se.w;return Je.add(Fe.schedule(()=>Le.then(et=>{Je.add(Fe.schedule(()=>{ve.next(et),Je.add(Fe.schedule(()=>ve.complete()))}))},et=>{Je.add(Fe.schedule(()=>ve.error(et)))}))),Je})}(Le,Fe);if((0,ge.z)(Le))return(0,ke.r)(Le,Fe);if(function(Le){return Le&&"function"==typeof Le[_e.hZ]}(Le)||"string"==typeof Le)return function(Le,Fe){if(!Le)throw new Error("Iterable cannot be null");return new C.y(ve=>{const Je=new se.w;let et;return Je.add(()=>{et&&"function"==typeof et.return&&et.return()}),Je.add(Fe.schedule(()=>{et=Le[_e.hZ](),Je.add(Fe.schedule(function(){if(ve.closed)return;let ut,Ke;try{const fe=et.next();ut=fe.value,Ke=fe.done}catch(fe){return void ve.error(fe)}Ke?ve.complete():(ve.next(ut),this.schedule())}))})),Je})}(Le,Fe)}throw new TypeError((null!==Le&&typeof Le||Le)+" is not observable")}(Le,Fe):Le instanceof C.y?Le:new C.y((0,I.s)(Le))}},6693:(Rt,ze,G)=>{"use strict";G.d(ze,{n:()=>Ce});var C=G(7574),I=G(5015),se=G(4087);function Ce(Re,pe){return pe?(0,se.r)(Re,pe):new C.y((0,I.V)(Re))}},6682:(Rt,ze,G)=>{"use strict";G.d(ze,{T:()=>Re});var C=G(7574),I=G(4869),se=G(3282),Ce=G(6693);function Re(...pe){let ke=Number.POSITIVE_INFINITY,_e=null,ue=pe[pe.length-1];return(0,I.K)(ue)?(_e=pe.pop(),pe.length>1&&"number"==typeof pe[pe.length-1]&&(ke=pe.pop())):"number"==typeof ue&&(ke=pe.pop()),null===_e&&1===pe.length&&pe[0]instanceof C.y?pe[0]:(0,se.J)(ke)((0,Ce.n)(pe,_e))}},5917:(Rt,ze,G)=>{"use strict";G.d(ze,{of:()=>Ce});var C=G(4869),I=G(6693),se=G(4087);function Ce(...Re){let pe=Re[Re.length-1];return(0,C.K)(pe)?(Re.pop(),(0,se.r)(Re,pe)):(0,I.n)(Re)}},4612:(Rt,ze,G)=>{"use strict";G.d(ze,{b:()=>I});var C=G(9773);function I(se,Ce){return(0,C.zg)(se,Ce,1)}},5242:(Rt,ze,G)=>{"use strict";G.d(ze,{d:()=>I});var C=G(7393);function I(Re=null){return pe=>pe.lift(new se(Re))}class se{constructor(pe){this.defaultValue=pe}call(pe,ke){return ke.subscribe(new Ce(pe,this.defaultValue))}}class Ce extends C.L{constructor(pe,ke){super(pe),this.defaultValue=ke,this.isEmpty=!0}_next(pe){this.isEmpty=!1,this.destination.next(pe)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Rt,ze,G)=>{"use strict";G.d(ze,{h:()=>I});var C=G(7393);function I(Re,pe){return function(_e){return _e.lift(new se(Re,pe))}}class se{constructor(pe,ke){this.predicate=pe,this.thisArg=ke}call(pe,ke){return ke.subscribe(new Ce(pe,this.predicate,this.thisArg))}}class Ce extends C.L{constructor(pe,ke,_e){super(pe),this.predicate=ke,this.thisArg=_e,this.count=0}_next(pe){let ke;try{ke=this.predicate.call(this.thisArg,pe,this.count++)}catch(_e){return void this.destination.error(_e)}ke&&this.destination.next(pe)}}},8049:(Rt,ze,G)=>{"use strict";G.d(ze,{P:()=>ke});var C=G(3410),I=G(5435),se=G(5257),Ce=G(5242),Re=G(4635),pe=G(4487);function ke(_e,ue){const te=arguments.length>=2;return ae=>ae.pipe(_e?(0,I.h)((ge,he)=>_e(ge,he,ae)):pe.y,(0,se.q)(1),te?(0,Ce.d)(ue):(0,Re.T)(()=>new C.K))}},8002:(Rt,ze,G)=>{"use strict";G.d(ze,{U:()=>I});var C=G(7393);function I(Re,pe){return function(_e){if("function"!=typeof Re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _e.lift(new se(Re,pe))}}class se{constructor(pe,ke){this.project=pe,this.thisArg=ke}call(pe,ke){return ke.subscribe(new Ce(pe,this.project,this.thisArg))}}class Ce extends C.L{constructor(pe,ke,_e){super(pe),this.project=ke,this.count=0,this.thisArg=_e||this}_next(pe){let ke;try{ke=this.project.call(this.thisArg,pe,this.count++)}catch(_e){return void this.destination.error(_e)}this.destination.next(ke)}}},3282:(Rt,ze,G)=>{"use strict";G.d(ze,{J:()=>se});var C=G(9773),I=G(4487);function se(Ce=Number.POSITIVE_INFINITY){return(0,C.zg)(I.y,Ce)}},9773:(Rt,ze,G)=>{"use strict";G.d(ze,{zg:()=>Ce});var C=G(8002),I=G(4402),se=G(5345);function Ce(_e,ue,te=Number.POSITIVE_INFINITY){return"function"==typeof ue?ae=>ae.pipe(Ce((ge,he)=>(0,I.D)(_e(ge,he)).pipe((0,C.U)((Ie,Ge)=>ue(ge,Ie,he,Ge))),te)):("number"==typeof ue&&(te=ue),ae=>ae.lift(new Re(_e,te)))}class Re{constructor(ue,te=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=te}call(ue,te){return te.subscribe(new pe(ue,this.project,this.concurrent))}}class pe extends se.Ds{constructor(ue,te,ae=Number.POSITIVE_INFINITY){super(ue),this.project=te,this.concurrent=ae,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let te;const ae=this.index++;try{te=this.project(ue,ae)}catch(ge){return void this.destination.error(ge)}this.active++,this._innerSub(te)}_innerSub(ue){const te=new se.IY(this),ae=this.destination;ae.add(te);const ge=(0,se.ft)(ue,te);ge!==te&&ae.add(ge)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Rt,ze,G)=>{"use strict";G.d(ze,{ht:()=>ae,QV:()=>ue});var C=G(7393),I=G(9193),se=G(5917),Ce=G(7574);class _e{constructor(Ie,Ge,Le){this.kind=Ie,this.value=Ge,this.error=Le,this.hasValue="N"===Ie}observe(Ie){switch(this.kind){case"N":return Ie.next&&Ie.next(this.value);case"E":return Ie.error&&Ie.error(this.error);case"C":return Ie.complete&&Ie.complete()}}do(Ie,Ge,Le){switch(this.kind){case"N":return Ie&&Ie(this.value);case"E":return Ge&&Ge(this.error);case"C":return Le&&Le()}}accept(Ie,Ge,Le){return Ie&&"function"==typeof Ie.next?this.observe(Ie):this.do(Ie,Ge,Le)}toObservable(){switch(this.kind){case"N":return(0,se.of)(this.value);case"E":return he=this.error,new Ce.y(Ge=>Ge.error(he));case"C":return(0,I.c)()}var he;throw new Error("unexpected notification kind value")}static createNext(Ie){return void 0!==Ie?new _e("N",Ie):_e.undefinedValueNotification}static createError(Ie){return new _e("E",void 0,Ie)}static createComplete(){return _e.completeNotification}}function ue(he,Ie=0){return function(Le){return Le.lift(new te(he,Ie))}}_e.completeNotification=new _e("C"),_e.undefinedValueNotification=new _e("N",void 0);class te{constructor(Ie,Ge=0){this.scheduler=Ie,this.delay=Ge}call(Ie,Ge){return Ge.subscribe(new ae(Ie,this.scheduler,this.delay))}}class ae extends C.L{constructor(Ie,Ge,Le=0){super(Ie),this.scheduler=Ge,this.delay=Le}static dispatch(Ie){const{notification:Ge,destination:Le}=Ie;Ge.observe(Le),this.unsubscribe()}scheduleMessage(Ie){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new ge(Ie,this.destination)))}_next(Ie){this.scheduleMessage(_e.createNext(Ie))}_error(Ie){this.scheduleMessage(_e.createError(Ie)),this.unsubscribe()}_complete(){this.scheduleMessage(_e.createComplete()),this.unsubscribe()}}class ge{constructor(Ie,Ge){this.notification=Ie,this.destination=Ge}}},1307:(Rt,ze,G)=>{"use strict";G.d(ze,{x:()=>I});var C=G(7393);function I(){return function(pe){return pe.lift(new se(pe))}}class se{constructor(pe){this.connectable=pe}call(pe,ke){const{connectable:_e}=this;_e._refCount++;const ue=new Ce(pe,_e),te=ke.subscribe(ue);return ue.closed||(ue.connection=_e.connect()),te}}class Ce extends C.L{constructor(pe,ke){super(pe),this.connectable=ke}_unsubscribe(){const{connectable:pe}=this;if(!pe)return void(this.connection=null);this.connectable=null;const ke=pe._refCount;if(ke<=0)return void(this.connection=null);if(pe._refCount=ke-1,ke>1)return void(this.connection=null);const{connection:_e}=this,ue=pe._connection;this.connection=null,ue&&(!_e||ue===_e)&&ue.unsubscribe()}}},2145:(Rt,ze,G)=>{"use strict";G.d(ze,{R:()=>I});var C=G(7393);function I(Re,pe){let ke=!1;return arguments.length>=2&&(ke=!0),function(ue){return ue.lift(new se(Re,pe,ke))}}class se{constructor(pe,ke,_e=!1){this.accumulator=pe,this.seed=ke,this.hasSeed=_e}call(pe,ke){return ke.subscribe(new Ce(pe,this.accumulator,this.seed,this.hasSeed))}}class Ce extends C.L{constructor(pe,ke,_e,ue){super(pe),this.accumulator=ke,this._seed=_e,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(pe){this.hasSeed=!0,this._seed=pe}_next(pe){if(this.hasSeed)return this._tryNext(pe);this.seed=pe,this.destination.next(pe)}_tryNext(pe){const ke=this.index++;let _e;try{_e=this.accumulator(this.seed,pe,ke)}catch(ue){this.destination.error(ue)}this.seed=_e,this.destination.next(_e)}}},9761:(Rt,ze,G)=>{"use strict";G.d(ze,{O:()=>se});var C=G(8071),I=G(4869);function se(...Ce){const Re=Ce[Ce.length-1];return(0,I.K)(Re)?(Ce.pop(),pe=>(0,C.z)(Ce,pe,Re)):pe=>(0,C.z)(Ce,pe)}},3101:(Rt,ze,G)=>{"use strict";G.d(ze,{R:()=>Fe});var C=G(7574);let I=1;const se=Promise.resolve(),Ce={};function Re(Je){return Je in Ce&&(delete Ce[Je],!0)}const pe={setImmediate(Je){const et=I++;return Ce[et]=!0,se.then(()=>Re(et)&&Je()),et},clearImmediate(Je){Re(Je)}};var _e=G(6465),te=G(6102);const he=new class extends te.v{flush(et){this.active=!0,this.scheduled=void 0;const{actions:ut}=this;let Ke,fe=-1,Ze=ut.length;et=et||ut.shift();do{if(Ke=et.execute(et.state,et.delay))break}while(++fe<Ze&&(et=ut.shift()));if(this.active=!1,Ke){for(;++fe<Ze&&(et=ut.shift());)et.unsubscribe();throw Ke}}}(class extends _e.o{constructor(et,ut){super(et,ut),this.scheduler=et,this.work=ut}requestAsyncId(et,ut,Ke=0){return null!==Ke&&Ke>0?super.requestAsyncId(et,ut,Ke):(et.actions.push(this),et.scheduled||(et.scheduled=pe.setImmediate(et.flush.bind(et,null))))}recycleAsyncId(et,ut,Ke=0){if(null!==Ke&&Ke>0||null===Ke&&this.delay>0)return super.recycleAsyncId(et,ut,Ke);0===et.actions.length&&(pe.clearImmediate(ut),et.scheduled=void 0)}});var Ie=G(9796);class Le extends C.y{constructor(et,ut=0,Ke=he){var Je;super(),this.source=et,this.delayTime=ut,this.scheduler=Ke,(!(!(0,Ie.k)(Je=ut)&&Je-parseFloat(Je)+1>=0)||ut<0)&&(this.delayTime=0),(!Ke||"function"!=typeof Ke.schedule)&&(this.scheduler=he)}static create(et,ut=0,Ke=he){return new Le(et,ut,Ke)}static dispatch(et){const{source:ut,subscriber:Ke}=et;return this.add(ut.subscribe(Ke))}_subscribe(et){return this.scheduler.schedule(Le.dispatch,this.delayTime,{source:this.source,subscriber:et})}}function Fe(Je,et=0){return function(Ke){return Ke.lift(new ve(Je,et))}}class ve{constructor(et,ut){this.scheduler=et,this.delay=ut}call(et,ut){return new Le(ut,this.delay,this.scheduler).subscribe(et)}}},3190:(Rt,ze,G)=>{"use strict";G.d(ze,{w:()=>Ce});var C=G(8002),I=G(4402),se=G(5345);function Ce(ke,_e){return"function"==typeof _e?ue=>ue.pipe(Ce((te,ae)=>(0,I.D)(ke(te,ae)).pipe((0,C.U)((ge,he)=>_e(te,ge,ae,he))))):ue=>ue.lift(new Re(ke))}class Re{constructor(_e){this.project=_e}call(_e,ue){return ue.subscribe(new pe(_e,this.project))}}class pe extends se.Ds{constructor(_e,ue){super(_e),this.project=ue,this.index=0}_next(_e){let ue;const te=this.index++;try{ue=this.project(_e,te)}catch(ae){return void this.destination.error(ae)}this._innerSub(ue)}_innerSub(_e){const ue=this.innerSubscription;ue&&ue.unsubscribe();const te=new se.IY(this),ae=this.destination;ae.add(te),this.innerSubscription=(0,se.ft)(_e,te),this.innerSubscription!==te&&ae.add(this.innerSubscription)}_complete(){const{innerSubscription:_e}=this;(!_e||_e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(_e){this.destination.next(_e)}}},5257:(Rt,ze,G)=>{"use strict";G.d(ze,{q:()=>Ce});var C=G(7393),I=G(7108),se=G(9193);function Ce(ke){return _e=>0===ke?(0,se.c)():_e.lift(new Re(ke))}class Re{constructor(_e){if(this.total=_e,this.total<0)throw new I.W}call(_e,ue){return ue.subscribe(new pe(_e,this.total))}}class pe extends C.L{constructor(_e,ue){super(_e),this.total=ue,this.count=0}_next(_e){const ue=this.total,te=++this.count;te<=ue&&(this.destination.next(_e),te===ue&&(this.destination.complete(),this.unsubscribe()))}}},3342:(Rt,ze,G)=>{"use strict";G.d(ze,{b:()=>Ce});var C=G(7393);function I(){}var se=G(9105);function Ce(ke,_e,ue){return function(ae){return ae.lift(new Re(ke,_e,ue))}}class Re{constructor(_e,ue,te){this.nextOrObserver=_e,this.error=ue,this.complete=te}call(_e,ue){return ue.subscribe(new pe(_e,this.nextOrObserver,this.error,this.complete))}}class pe extends C.L{constructor(_e,ue,te,ae){super(_e),this._tapNext=I,this._tapError=I,this._tapComplete=I,this._tapError=te||I,this._tapComplete=ae||I,(0,se.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||I,this._tapError=ue.error||I,this._tapComplete=ue.complete||I)}_next(_e){try{this._tapNext.call(this._context,_e)}catch(ue){return void this.destination.error(ue)}this.destination.next(_e)}_error(_e){try{this._tapError.call(this._context,_e)}catch(ue){return void this.destination.error(ue)}this.destination.error(_e)}_complete(){try{this._tapComplete.call(this._context)}catch(_e){return void this.destination.error(_e)}return this.destination.complete()}}},4635:(Rt,ze,G)=>{"use strict";G.d(ze,{T:()=>se});var C=G(3410),I=G(7393);function se(ke=pe){return _e=>_e.lift(new Ce(ke))}class Ce{constructor(_e){this.errorFactory=_e}call(_e,ue){return ue.subscribe(new Re(_e,this.errorFactory))}}class Re extends I.L{constructor(_e,ue){super(_e),this.errorFactory=ue,this.hasValue=!1}_next(_e){this.hasValue=!0,this.destination.next(_e)}_complete(){if(this.hasValue)return this.destination.complete();{let _e;try{_e=this.errorFactory()}catch(ue){_e=ue}this.destination.error(_e)}}}function pe(){return new C.K}},4087:(Rt,ze,G)=>{"use strict";G.d(ze,{r:()=>se});var C=G(7574),I=G(5319);function se(Ce,Re){return new C.y(pe=>{const ke=new I.w;let _e=0;return ke.add(Re.schedule(function(){_e!==Ce.length?(pe.next(Ce[_e++]),pe.closed||ke.add(this.schedule())):pe.complete()})),ke})}},6465:(Rt,ze,G)=>{"use strict";G.d(ze,{o:()=>se});var C=G(5319);class I extends C.w{constructor(Re,pe){super()}schedule(Re,pe=0){return this}}class se extends I{constructor(Re,pe){super(Re,pe),this.scheduler=Re,this.work=pe,this.pending=!1}schedule(Re,pe=0){if(this.closed)return this;this.state=Re;const ke=this.id,_e=this.scheduler;return null!=ke&&(this.id=this.recycleAsyncId(_e,ke,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(_e,this.id,pe),this}requestAsyncId(Re,pe,ke=0){return setInterval(Re.flush.bind(Re,this),ke)}recycleAsyncId(Re,pe,ke=0){if(null!==ke&&this.delay===ke&&!1===this.pending)return pe;clearInterval(pe)}execute(Re,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Re,pe);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,pe){let _e,ke=!1;try{this.work(Re)}catch(ue){ke=!0,_e=!!ue&&ue||new Error(ue)}if(ke)return this.unsubscribe(),_e}_unsubscribe(){const Re=this.id,pe=this.scheduler,ke=pe.actions,_e=ke.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==_e&&ke.splice(_e,1),null!=Re&&(this.id=this.recycleAsyncId(pe,Re,null)),this.delay=null}}},6102:(Rt,ze,G)=>{"use strict";G.d(ze,{v:()=>I});let C=(()=>{class se{constructor(Re,pe=se.now){this.SchedulerAction=Re,this.now=pe}schedule(Re,pe=0,ke){return new this.SchedulerAction(this,Re).schedule(ke,pe)}}return se.now=()=>Date.now(),se})();class I extends C{constructor(Ce,Re=C.now){super(Ce,()=>I.delegate&&I.delegate!==this?I.delegate.now():Re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ce,Re=0,pe){return I.delegate&&I.delegate!==this?I.delegate.schedule(Ce,Re,pe):super.schedule(Ce,Re,pe)}flush(Ce){const{actions:Re}=this;if(this.active)return void Re.push(Ce);let pe;this.active=!0;do{if(pe=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Re.shift());if(this.active=!1,pe){for(;Ce=Re.shift();)Ce.unsubscribe();throw pe}}}},3637:(Rt,ze,G)=>{"use strict";G.d(ze,{z:()=>se});var C=G(6465);const se=new(G(6102).v)(C.o)},7771:(Rt,ze,G)=>{"use strict";G.d(ze,{c:()=>pe,N:()=>Re});var C=G(6465),se=G(6102);const Re=new class extends se.v{}(class extends C.o{constructor(_e,ue){super(_e,ue),this.scheduler=_e,this.work=ue}schedule(_e,ue=0){return ue>0?super.schedule(_e,ue):(this.delay=ue,this.state=_e,this.scheduler.flush(this),this)}execute(_e,ue){return ue>0||this.closed?super.execute(_e,ue):this._execute(_e,ue)}requestAsyncId(_e,ue,te=0){return null!==te&&te>0||null===te&&this.delay>0?super.requestAsyncId(_e,ue,te):_e.flush(this)}}),pe=Re},377:(Rt,ze,G)=>{"use strict";G.d(ze,{hZ:()=>I});const I="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Rt,ze,G)=>{"use strict";G.d(ze,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Rt,ze,G)=>{"use strict";G.d(ze,{b:()=>C});const C="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Rt,ze,G)=>{"use strict";G.d(ze,{W:()=>I});const I=(()=>{function se(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return se.prototype=Object.create(Error.prototype),se})()},3410:(Rt,ze,G)=>{"use strict";G.d(ze,{K:()=>I});const I=(()=>{function se(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return se.prototype=Object.create(Error.prototype),se})()},7971:(Rt,ze,G)=>{"use strict";G.d(ze,{N:()=>I});const I=(()=>{function se(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return se.prototype=Object.create(Error.prototype),se})()},4449:(Rt,ze,G)=>{"use strict";function C(I){setTimeout(()=>{throw I},0)}G.d(ze,{z:()=>C})},4487:(Rt,ze,G)=>{"use strict";function C(I){return I}G.d(ze,{y:()=>C})},9796:(Rt,ze,G)=>{"use strict";G.d(ze,{k:()=>C});const C=Array.isArray||(I=>I&&"number"==typeof I.length)},9489:(Rt,ze,G)=>{"use strict";G.d(ze,{z:()=>C});const C=I=>I&&"number"==typeof I.length&&"function"!=typeof I},9105:(Rt,ze,G)=>{"use strict";function C(I){return"function"==typeof I}G.d(ze,{m:()=>C})},1555:(Rt,ze,G)=>{"use strict";function C(I){return null!==I&&"object"==typeof I}G.d(ze,{K:()=>C})},4072:(Rt,ze,G)=>{"use strict";function C(I){return!!I&&"function"!=typeof I.subscribe&&"function"==typeof I.then}G.d(ze,{t:()=>C})},4869:(Rt,ze,G)=>{"use strict";function C(I){return I&&"function"==typeof I.schedule}G.d(ze,{K:()=>C})},7444:(Rt,ze,G)=>{"use strict";G.d(ze,{s:()=>ae});var C=G(5015),I=G(4449),Ce=G(377),pe=G(6554),_e=G(9489),ue=G(4072),te=G(1555);const ae=ge=>{if(ge&&"function"==typeof ge[pe.L])return(ge=>he=>{const Ie=ge[pe.L]();if("function"!=typeof Ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ie.subscribe(he)})(ge);if((0,_e.z)(ge))return(0,C.V)(ge);if((0,ue.t)(ge))return(ge=>he=>(ge.then(Ie=>{he.closed||(he.next(Ie),he.complete())},Ie=>he.error(Ie)).then(null,I.z),he))(ge);if(ge&&"function"==typeof ge[Ce.hZ])return(ge=>he=>{const Ie=ge[Ce.hZ]();for(;;){let Ge;try{Ge=Ie.next()}catch(Le){return he.error(Le),he}if(Ge.done){he.complete();break}if(he.next(Ge.value),he.closed)break}return"function"==typeof Ie.return&&he.add(()=>{Ie.return&&Ie.return()}),he})(ge);{const Ie=`You provided ${(0,te.K)(ge)?"an invalid object":`'${ge}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ie)}}},5015:(Rt,ze,G)=>{"use strict";G.d(ze,{V:()=>C});const C=I=>se=>{for(let Ce=0,Re=I.length;Ce<Re&&!se.closed;Ce++)se.next(I[Ce]);se.complete()}},8259:function(Rt){Rt.exports=function(){"use strict";const ze=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),G="SweetAlert2:",I=R=>R.charAt(0).toUpperCase()+R.slice(1),se=R=>Array.prototype.slice.call(R),Ce=R=>{console.warn("".concat(G," ").concat("object"==typeof R?R.join(" "):R))},Re=R=>{console.error("".concat(G," ").concat(R))},pe=[],_e=(R,N)=>{(R=>{pe.includes(R)||(pe.push(R),Ce(R))})('"'.concat(R,'" is deprecated and will be removed in the next major release. Please use "').concat(N,'" instead.'))},ue=R=>"function"==typeof R?R():R,te=R=>R&&"function"==typeof R.toPromise,ae=R=>te(R)?R.toPromise():Promise.resolve(R),ge=R=>R&&Promise.resolve(R)===R,Ie=R=>R instanceof Element||(R=>"object"==typeof R&&R.jquery)(R),Fe=R=>{const N={};for(const z in R)N[R[z]]="swal2-"+R[z];return N},ve=Fe(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Je=Fe(["success","warning","info","question","error"]),et=()=>document.body.querySelector(".".concat(ve.container)),ut=R=>{const N=et();return N?N.querySelector(R):null},Ke=R=>ut(".".concat(R)),fe=()=>Ke(ve.popup),Ze=()=>Ke(ve.icon),on=()=>Ke(ve.title),It=()=>Ke(ve["html-container"]),Ne=()=>Ke(ve.image),Ue=()=>Ke(ve["progress-steps"]),We=()=>Ke(ve["validation-message"]),$e=()=>ut(".".concat(ve.actions," .").concat(ve.confirm)),je=()=>ut(".".concat(ve.actions," .").concat(ve.deny)),ot=()=>ut(".".concat(ve.loader)),rt=()=>ut(".".concat(ve.actions," .").concat(ve.cancel)),Zt=()=>Ke(ve.actions),gt=()=>Ke(ve.footer),_t=()=>Ke(ve["timer-progress-bar"]),Lt=()=>Ke(ve.close),yn=()=>{const R=se(fe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((z,Ee)=>(z=parseInt(z.getAttribute("tabindex")))>(Ee=parseInt(Ee.getAttribute("tabindex")))?1:z<Ee?-1:0),N=se(fe().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(z=>"-1"!==z.getAttribute("tabindex"));return(R=>{const N=[];for(let z=0;z<R.length;z++)-1===N.indexOf(R[z])&&N.push(R[z]);return N})(R.concat(N)).filter(z=>me(z))},zt=()=>!Tt()&&!document.body.classList.contains(ve["no-backdrop"]),Tt=()=>document.body.classList.contains(ve["toast-shown"]),Xt={previousBodyPadding:null},Yt=(R,N)=>{if(R.textContent="",N){const Ee=(new DOMParser).parseFromString(N,"text/html");se(Ee.querySelector("head").childNodes).forEach(ht=>{R.appendChild(ht)}),se(Ee.querySelector("body").childNodes).forEach(ht=>{R.appendChild(ht)})}},_n=(R,N)=>{if(!N)return!1;const z=N.split(/\s+/);for(let Ee=0;Ee<z.length;Ee++)if(!R.classList.contains(z[Ee]))return!1;return!0},kn=(R,N,z)=>{if(((R,N)=>{se(R.classList).forEach(z=>{!Object.values(ve).includes(z)&&!Object.values(Je).includes(z)&&!Object.values(N.showClass).includes(z)&&R.classList.remove(z)})})(R,N),N.customClass&&N.customClass[z]){if("string"!=typeof N.customClass[z]&&!N.customClass[z].forEach)return Ce("Invalid type of customClass.".concat(z,'! Expected string or iterable object, got "').concat(typeof N.customClass[z],'"'));Vt(R,N.customClass[z])}},Yn=(R,N)=>{if(!N)return null;switch(N){case"select":case"textarea":case"file":return Dn(R,ve[N]);case"checkbox":return R.querySelector(".".concat(ve.checkbox," input"));case"radio":return R.querySelector(".".concat(ve.radio," input:checked"))||R.querySelector(".".concat(ve.radio," input:first-child"));case"range":return R.querySelector(".".concat(ve.range," input"));default:return Dn(R,ve.input)}},un=R=>{if(R.focus(),"file"!==R.type){const N=R.value;R.value="",R.value=N}},Fn=(R,N,z)=>{!R||!N||("string"==typeof N&&(N=N.split(/\s+/).filter(Boolean)),N.forEach(Ee=>{R.forEach?R.forEach(ht=>{z?ht.classList.add(Ee):ht.classList.remove(Ee)}):z?R.classList.add(Ee):R.classList.remove(Ee)}))},Vt=(R,N)=>{Fn(R,N,!0)},Rn=(R,N)=>{Fn(R,N,!1)},Dn=(R,N)=>{for(let z=0;z<R.childNodes.length;z++)if(_n(R.childNodes[z],N))return R.childNodes[z]},en=(R,N,z)=>{z==="".concat(parseInt(z))&&(z=parseInt(z)),z||0===parseInt(z)?R.style[N]="number"==typeof z?"".concat(z,"px"):z:R.style.removeProperty(N)},Bt=(R,N="flex")=>{R.style.display=N},gn=R=>{R.style.display="none"},Ve=(R,N,z,Ee)=>{const ht=R.querySelector(N);ht&&(ht.style[z]=Ee)},re=(R,N,z)=>{N?Bt(R,z):gn(R)},me=R=>!(!R||!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)),tt=R=>R.scrollHeight>R.clientHeight,At=R=>{const N=window.getComputedStyle(R),z=parseFloat(N.getPropertyValue("animation-duration")||"0"),Ee=parseFloat(N.getPropertyValue("transition-duration")||"0");return z>0||Ee>0},mt=(R,N=!1)=>{const z=_t();me(z)&&(N&&(z.style.transition="none",z.style.width="100%"),setTimeout(()=>{z.style.transition="width ".concat(R/1e3,"s linear"),z.style.width="0%"},10))},Qt=()=>"undefined"==typeof window||"undefined"==typeof document,lr='\n <div aria-labelledby="'.concat(ve.title,'" aria-describedby="').concat(ve["html-container"],'" class="').concat(ve.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ve.close,'"></button>\n   <ul class="').concat(ve["progress-steps"],'"></ul>\n   <div class="').concat(ve.icon,'"></div>\n   <img class="').concat(ve.image,'" />\n   <h2 class="').concat(ve.title,'" id="').concat(ve.title,'"></h2>\n   <div class="').concat(ve["html-container"],'" id="').concat(ve["html-container"],'"></div>\n   <input class="').concat(ve.input,'" />\n   <input type="file" class="').concat(ve.file,'" />\n   <div class="').concat(ve.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ve.select,'"></select>\n   <div class="').concat(ve.radio,'"></div>\n   <label for="').concat(ve.checkbox,'" class="').concat(ve.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ve.label,'"></span>\n   </label>\n   <textarea class="').concat(ve.textarea,'"></textarea>\n   <div class="').concat(ve["validation-message"],'" id="').concat(ve["validation-message"],'"></div>\n   <div class="').concat(ve.actions,'">\n     <div class="').concat(ve.loader,'"></div>\n     <button type="button" class="').concat(ve.confirm,'"></button>\n     <button type="button" class="').concat(ve.deny,'"></button>\n     <button type="button" class="').concat(ve.cancel,'"></button>\n   </div>\n   <div class="').concat(ve.footer,'"></div>\n   <div class="').concat(ve["timer-progress-bar-container"],'">\n     <div class="').concat(ve["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),En=()=>{ss.isVisible()&&ss.resetValidationMessage()},oe=R=>{const N=(()=>{const R=et();return!!R&&(R.remove(),Rn([document.documentElement,document.body],[ve["no-backdrop"],ve["toast-shown"],ve["has-column"]]),!0)})();if(Qt())return void Re("SweetAlert2 requires document to initialize");const z=document.createElement("div");z.className=ve.container,N&&Vt(z,ve["no-transition"]),Yt(z,lr);const Ee=(R=>"string"==typeof R?document.querySelector(R):R)(R.target);Ee.appendChild(z),(R=>{const N=fe();N.setAttribute("role",R.toast?"alert":"dialog"),N.setAttribute("aria-live",R.toast?"polite":"assertive"),R.toast||N.setAttribute("aria-modal","true")})(R),(R=>{"rtl"===window.getComputedStyle(R).direction&&Vt(et(),ve.rtl)})(Ee),(()=>{const R=fe(),N=Dn(R,ve.input),z=Dn(R,ve.file),Ee=R.querySelector(".".concat(ve.range," input")),ht=R.querySelector(".".concat(ve.range," output")),tn=Dn(R,ve.select),Un=R.querySelector(".".concat(ve.checkbox," input")),Ur=Dn(R,ve.textarea);N.oninput=En,z.onchange=En,tn.onchange=En,Un.onchange=En,Ur.oninput=En,Ee.oninput=()=>{En(),ht.value=Ee.value},Ee.onchange=()=>{En(),Ee.nextSibling.value=Ee.value}})()},xe=(R,N)=>{R instanceof HTMLElement?N.appendChild(R):"object"==typeof R?qe(R,N):R&&Yt(N,R)},qe=(R,N)=>{R.jquery?Me(N,R):Yt(N,R.toString())},Me=(R,N)=>{if(R.textContent="",0 in N)for(let z=0;z in N;z++)R.appendChild(N[z].cloneNode(!0));else R.appendChild(N.cloneNode(!0))},nt=(()=>{if(Qt())return!1;const R=document.createElement("div"),N={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const z in N)if(Object.prototype.hasOwnProperty.call(N,z)&&void 0!==R.style[z])return N[z];return!1})(),bn=(R,N)=>{const z=Zt(),Ee=ot(),ht=$e(),tn=je(),Un=rt();N.showConfirmButton||N.showDenyButton||N.showCancelButton?Bt(z):gn(z),kn(z,N,"actions"),dn(ht,"confirm",N),dn(tn,"deny",N),dn(Un,"cancel",N),function(R,N,z,Ee){if(!Ee.buttonsStyling)return Rn([R,N,z],ve.styled);Vt([R,N,z],ve.styled),Ee.confirmButtonColor&&(R.style.backgroundColor=Ee.confirmButtonColor,Vt(R,ve["default-outline"])),Ee.denyButtonColor&&(N.style.backgroundColor=Ee.denyButtonColor,Vt(N,ve["default-outline"])),Ee.cancelButtonColor&&(z.style.backgroundColor=Ee.cancelButtonColor,Vt(z,ve["default-outline"]))}(ht,tn,Un,N),N.reverseButtons&&(z.insertBefore(Un,Ee),z.insertBefore(tn,Ee),z.insertBefore(ht,Ee)),Yt(Ee,N.loaderHtml),kn(Ee,N,"loader")};function dn(R,N,z){re(R,z["show".concat(I(N),"Button")],"inline-block"),Yt(R,z["".concat(N,"ButtonText")]),R.setAttribute("aria-label",z["".concat(N,"ButtonAriaLabel")]),R.className=ve[N],kn(R,z,"".concat(N,"Button")),Vt(R,z["".concat(N,"ButtonClass")])}const gi=(R,N)=>{const z=et();!z||(function(R,N){"string"==typeof N?R.style.background=N:N||Vt([document.documentElement,document.body],ve["no-backdrop"])}(z,N.backdrop),function(R,N){N in ve?Vt(R,ve[N]):(Ce('The "position" parameter is not valid, defaulting to "center"'),Vt(R,ve.center))}(z,N.position),function(R,N){if(N&&"string"==typeof N){const z="grow-".concat(N);z in ve&&Vt(R,ve[z])}}(z,N.grow),kn(z,N,"container"))};var hn={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const $s=["input","file","range","select","radio","checkbox","textarea"],bi=R=>{if(!Mt[R.input])return Re('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(R.input,'"'));const N=jr(R.input),z=Mt[R.input](N,R);Bt(z),setTimeout(()=>{un(z)})},Nr=(R,N)=>{const z=Yn(fe(),R);if(z){(R=>{for(let N=0;N<R.attributes.length;N++){const z=R.attributes[N].name;["type","value","style"].includes(z)||R.removeAttribute(z)}})(z);for(const Ee in N)z.setAttribute(Ee,N[Ee])}},pr=R=>{const N=jr(R.input);R.customClass&&Vt(N,R.customClass.input)},Dr=(R,N)=>{(!R.placeholder||N.inputPlaceholder)&&(R.placeholder=N.inputPlaceholder)},Mr=(R,N,z)=>{if(z.inputLabel){R.id=ve.input;const Ee=document.createElement("label"),ht=ve["input-label"];Ee.setAttribute("for",R.id),Ee.className=ht,Vt(Ee,z.customClass.inputLabel),Ee.innerText=z.inputLabel,N.insertAdjacentElement("beforebegin",Ee)}},jr=R=>{const N=ve[R]?ve[R]:ve.input;return Dn(fe(),N)},Mt={};Mt.text=Mt.email=Mt.password=Mt.number=Mt.tel=Mt.url=(R,N)=>("string"==typeof N.inputValue||"number"==typeof N.inputValue?R.value=N.inputValue:ge(N.inputValue)||Ce('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof N.inputValue,'"')),Mr(R,R,N),Dr(R,N),R.type=N.input,R),Mt.file=(R,N)=>(Mr(R,R,N),Dr(R,N),R),Mt.range=(R,N)=>{const z=R.querySelector("input"),Ee=R.querySelector("output");return z.value=N.inputValue,z.type=N.input,Ee.value=N.inputValue,Mr(z,R,N),R},Mt.select=(R,N)=>{if(R.textContent="",N.inputPlaceholder){const z=document.createElement("option");Yt(z,N.inputPlaceholder),z.value="",z.disabled=!0,z.selected=!0,R.appendChild(z)}return Mr(R,R,N),R},Mt.radio=R=>(R.textContent="",R),Mt.checkbox=(R,N)=>{const z=Yn(fe(),"checkbox");z.value=1,z.id=ve.checkbox,z.checked=Boolean(N.inputValue);const Ee=R.querySelector("span");return Yt(Ee,N.inputPlaceholder),R},Mt.textarea=(R,N)=>{R.value=N.inputValue,Dr(R,N),Mr(R,R,N);return setTimeout(()=>{if("MutationObserver"in window){const Ee=parseInt(window.getComputedStyle(fe()).width);new MutationObserver(()=>{const tn=R.offsetWidth+(Ee=>parseInt(window.getComputedStyle(Ee).marginLeft)+parseInt(window.getComputedStyle(Ee).marginRight))(R);fe().style.width=tn>Ee?"".concat(tn,"px"):null}).observe(R,{attributes:!0,attributeFilter:["style"]})}}),R};const Fr=(R,N)=>{const z=It();kn(z,N,"htmlContainer"),N.html?(xe(N.html,z),Bt(z,"block")):N.text?(z.textContent=N.text,Bt(z,"block")):gn(z),((R,N)=>{const z=fe(),Ee=hn.innerParams.get(R),ht=!Ee||N.input!==Ee.input;$s.forEach(tn=>{const Un=ve[tn],Ur=Dn(z,Un);Nr(tn,N.inputAttributes),Ur.className=Un,ht&&gn(Ur)}),N.input&&(ht&&bi(N),pr(N))})(R,N)},br=(R,N)=>{for(const z in Je)N.icon!==z&&Rn(R,Je[z]);Vt(R,Je[N.icon]),Ln(R,N),Dt(),kn(R,N,"icon")},Dt=()=>{const R=fe(),N=window.getComputedStyle(R).getPropertyValue("background-color"),z=R.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ee=0;Ee<z.length;Ee++)z[Ee].style.backgroundColor=N},rn=(R,N)=>{R.textContent="",Yt(R,N.iconHtml?dr(N.iconHtml):"success"===N.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===N.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':dr({question:"?",warning:"!",info:"i"}[N.icon]))},Ln=(R,N)=>{if(N.iconColor){R.style.color=N.iconColor,R.style.borderColor=N.iconColor;for(const z of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ve(R,z,"backgroundColor",N.iconColor);Ve(R,".swal2-success-ring","borderColor",N.iconColor)}},dr=R=>'<div class="'.concat(ve["icon-content"],'">').concat(R,"</div>"),Bn=(R,N)=>{const z=Ue();if(!N.progressSteps||0===N.progressSteps.length)return gn(z);Bt(z),z.textContent="",N.currentProgressStep>=N.progressSteps.length&&Ce("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.progressSteps.forEach((Ee,ht)=>{const tn=(R=>{const N=document.createElement("li");return Vt(N,ve["progress-step"]),Yt(N,R),N})(Ee);if(z.appendChild(tn),ht===N.currentProgressStep&&Vt(tn,ve["active-progress-step"]),ht!==N.progressSteps.length-1){const Un=(R=>{const N=document.createElement("li");return Vt(N,ve["progress-step-line"]),R.progressStepsDistance&&(N.style.width=R.progressStepsDistance),N})(N);z.appendChild(Un)}})},cn=(R,N)=>{R.className="".concat(ve.popup," ").concat(me(R)?N.showClass.popup:""),N.toast?(Vt([document.documentElement,document.body],ve["toast-shown"]),Vt(R,ve.toast)):Vt(R,ve.modal),kn(R,N,"popup"),"string"==typeof N.customClass&&Vt(R,N.customClass),N.icon&&Vt(R,ve["icon-".concat(N.icon)])},xs=(R,N)=>{((R,N)=>{const z=et(),Ee=fe();N.toast?(en(z,"width",N.width),Ee.style.width="100%",Ee.insertBefore(ot(),Ze())):en(Ee,"width",N.width),en(Ee,"padding",N.padding),N.background&&(Ee.style.background=N.background),gn(We()),cn(Ee,N)})(0,N),gi(0,N),Bn(0,N),((R,N)=>{const z=hn.innerParams.get(R),Ee=Ze();z&&N.icon===z.icon?(rn(Ee,N),br(Ee,N)):N.icon||N.iconHtml?N.icon&&-1===Object.keys(Je).indexOf(N.icon)?(Re('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(N.icon,'"')),gn(Ee)):(Bt(Ee),rn(Ee,N),br(Ee,N),Vt(Ee,N.showClass.icon)):gn(Ee)})(R,N),((R,N)=>{const z=Ne();if(!N.imageUrl)return gn(z);Bt(z,""),z.setAttribute("src",N.imageUrl),z.setAttribute("alt",N.imageAlt),en(z,"width",N.imageWidth),en(z,"height",N.imageHeight),z.className=ve.image,kn(z,N,"image")})(0,N),((R,N)=>{const z=on();re(z,N.title||N.titleText,"block"),N.title&&xe(N.title,z),N.titleText&&(z.innerText=N.titleText),kn(z,N,"title")})(0,N),((R,N)=>{const z=Lt();Yt(z,N.closeButtonHtml),kn(z,N,"closeButton"),re(z,N.showCloseButton),z.setAttribute("aria-label",N.closeButtonAriaLabel)})(0,N),Fr(R,N),bn(0,N),((R,N)=>{const z=gt();re(z,N.footer),N.footer&&xe(N.footer,z),kn(z,N,"footer")})(0,N),"function"==typeof N.didRender&&N.didRender(fe())},ti=()=>$e()&&$e().click();const gr=R=>{let N=fe();N||ss.fire(),N=fe();const z=ot();Tt()?gn(Ze()):On(N,R),Bt(z),N.setAttribute("data-loading",!0),N.setAttribute("aria-busy",!0),N.focus()},On=(R,N)=>{const z=Zt(),Ee=ot();!N&&me($e())&&(N=$e()),Bt(z),N&&(gn(N),Ee.setAttribute("data-button-to-replace",N.className)),Ee.parentNode.insertBefore(Ee,N),Vt([R,z],ve.loading)},Jt={},ni=R=>new Promise(N=>{if(!R)return N();const z=window.scrollX,Ee=window.scrollY;Jt.restoreFocusTimeout=setTimeout(()=>{Jt.previousActiveElement&&Jt.previousActiveElement.focus?(Jt.previousActiveElement.focus(),Jt.previousActiveElement=null):document.body&&document.body.focus(),N()},100),window.scrollTo(z,Ee)}),yi=()=>{if(Jt.timeout)return(()=>{const R=_t(),N=parseInt(window.getComputedStyle(R).width);R.style.removeProperty("transition"),R.style.width="100%";const z=parseInt(window.getComputedStyle(R).width),Ee=parseInt(N/z*100);R.style.removeProperty("transition"),R.style.width="".concat(Ee,"%")})(),Jt.timeout.stop()},ri=()=>{if(Jt.timeout){const R=Jt.timeout.start();return mt(R),R}};let Zn=!1;const tr={};const Li=R=>{for(let N=R.target;N&&N!==document;N=N.parentNode)for(const z in tr){const Ee=N.getAttribute(z);if(Ee)return void tr[z].fire({template:Ee})}},zn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ji={},vs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ii=R=>Object.prototype.hasOwnProperty.call(zn,R),_r=R=>Ji[R],Vi=R=>{Ii(R)||Ce('Unknown parameter "'.concat(R,'"'))},Ns=R=>{vs.includes(R)&&Ce('The parameter "'.concat(R,'" is incompatible with toasts'))},Xi=R=>{_r(R)&&_e(R,_r(R))};var cs=Object.freeze({isValidParameter:Ii,isUpdatableParameter:R=>-1!==Qi.indexOf(R),isDeprecatedParameter:_r,argsToParams:R=>{const N={};return"object"!=typeof R[0]||Ie(R[0])?["title","html","icon"].forEach((z,Ee)=>{const ht=R[Ee];"string"==typeof ht||Ie(ht)?N[z]=ht:void 0!==ht&&Re("Unexpected type of ".concat(z,'! Expected "string" or "Element", got ').concat(typeof ht))}):Object.assign(N,R[0]),N},isVisible:()=>me(fe()),clickConfirm:ti,clickDeny:()=>je()&&je().click(),clickCancel:()=>rt()&&rt().click(),getContainer:et,getPopup:fe,getTitle:on,getHtmlContainer:It,getImage:Ne,getIcon:Ze,getInputLabel:()=>Ke(ve["input-label"]),getCloseButton:Lt,getActions:Zt,getConfirmButton:$e,getDenyButton:je,getCancelButton:rt,getLoader:ot,getFooter:gt,getTimerProgressBar:_t,getFocusableElements:yn,getValidationMessage:We,isLoading:()=>fe().hasAttribute("data-loading"),fire:function(...R){return new this(...R)},mixin:function(R){return class extends(this){_main(Ee,ht){return super._main(Ee,Object.assign({},R,ht))}}},showLoading:gr,enableLoading:gr,getTimerLeft:()=>Jt.timeout&&Jt.timeout.getTimerLeft(),stopTimer:yi,resumeTimer:ri,toggleTimer:()=>{const R=Jt.timeout;return R&&(R.running?yi():ri())},increaseTimer:R=>{if(Jt.timeout){const N=Jt.timeout.increase(R);return mt(N,!0),N}},isTimerRunning:()=>Jt.timeout&&Jt.timeout.isRunning(),bindClickHandler:function(R="data-swal-template"){tr[R]=this,Zn||(document.body.addEventListener("click",Li),Zn=!0)}});function Bi(){const R=hn.innerParams.get(this);if(!R)return;const N=hn.domCache.get(this);gn(N.loader),Tt()?R.icon&&Bt(Ze()):Lr(N),Rn([N.popup,N.actions],ve.loading),N.popup.removeAttribute("aria-busy"),N.popup.removeAttribute("data-loading"),N.confirmButton.disabled=!1,N.denyButton.disabled=!1,N.cancelButton.disabled=!1}const Lr=R=>{const N=R.popup.getElementsByClassName(R.loader.getAttribute("data-button-to-replace"));N.length?Bt(N[0],"inline-block"):!me($e())&&!me(je())&&!me(rt())&&gn(R.actions)};const ii=()=>{null===Xt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Xt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Xt.previousBodyPadding+(()=>{const R=document.createElement("div");R.className=ve["scrollbar-measure"],document.body.appendChild(R);const N=R.getBoundingClientRect().width-R.clientWidth;return document.body.removeChild(R),N})(),"px"))},ts=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const N=44;fe().scrollHeight>window.innerHeight-N&&(et().style.paddingBottom="".concat(N,"px"))}},Hi=()=>{const R=et();let N;R.ontouchstart=z=>{N=Kr(z)},R.ontouchmove=z=>{N&&(z.preventDefault(),z.stopPropagation())}},Kr=R=>{const N=R.target,z=et();return!(ko(R)||Di(R)||N!==z&&(tt(z)||"INPUT"===N.tagName||"TEXTAREA"===N.tagName||tt(It())&&It().contains(N)))},ko=R=>R.touches&&R.touches.length&&"stylus"===R.touches[0].touchType,Di=R=>R.touches&&R.touches.length>1,oi=()=>{se(document.body.children).forEach(N=>{N.hasAttribute("data-previous-aria-hidden")?(N.setAttribute("aria-hidden",N.getAttribute("data-previous-aria-hidden")),N.removeAttribute("data-previous-aria-hidden")):N.removeAttribute("aria-hidden")})};var Tr={swalPromiseResolve:new WeakMap};function ws(R,N,z,Ee){Tt()?wr(R,Ee):(ni(z).then(()=>wr(R,Ee)),Jt.keydownTarget.removeEventListener("keydown",Jt.keydownHandler,{capture:Jt.keydownListenerCapture}),Jt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(N.setAttribute("style","display:none !important"),N.removeAttribute("class"),N.innerHTML=""):N.remove(),zt()&&(null!==Xt.previousBodyPadding&&(document.body.style.paddingRight="".concat(Xt.previousBodyPadding,"px"),Xt.previousBodyPadding=null),(()=>{if(_n(document.body,ve.iosfix)){const R=parseInt(document.body.style.top,10);Rn(document.body,ve.iosfix),document.body.style.top="",document.body.scrollTop=-1*R}})(),oi()),Rn([document.documentElement,document.body],[ve.shown,ve["height-auto"],ve["no-backdrop"],ve["toast-shown"]])}function $i(R){const N=fe();if(!N)return;R=Ti(R);const z=hn.innerParams.get(this);if(!z||_n(N,z.hideClass.popup))return;const Ee=Tr.swalPromiseResolve.get(this);Rn(N,z.showClass.popup),Vt(N,z.hideClass.popup);const ht=et();Rn(ht,z.showClass.backdrop),Vt(ht,z.hideClass.backdrop),vr(this,N,z),Ee(R)}const Ti=R=>void 0===R?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},R),vr=(R,N,z)=>{const Ee=et(),ht=nt&&At(N);"function"==typeof z.willClose&&z.willClose(N),ht?ai(R,N,Ee,z.returnFocus,z.didClose):ws(R,Ee,z.returnFocus,z.didClose)},ai=(R,N,z,Ee,ht)=>{Jt.swalCloseEventFinishedCallback=ws.bind(null,R,z,Ee,ht),N.addEventListener(nt,function(tn){tn.target===N&&(Jt.swalCloseEventFinishedCallback(),delete Jt.swalCloseEventFinishedCallback)})},wr=(R,N)=>{setTimeout(()=>{"function"==typeof N&&N.bind(R.params)(),R._destroy()})};function ns(R,N,z){const Ee=hn.domCache.get(R);N.forEach(ht=>{Ee[ht].disabled=z})}function Vr(R,N){if(!R)return!1;if("radio"===R.type){const Ee=R.parentNode.parentNode.querySelectorAll("input");for(let ht=0;ht<Ee.length;ht++)Ee[ht].disabled=N}else R.disabled=N}class lt{constructor(N,z){this.callback=N,this.remaining=z,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(N){const z=this.running;return z&&this.stop(),this.remaining+=N,z&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var k={email:(R,N)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(R)?Promise.resolve():Promise.resolve(N||"Invalid email address"),url:(R,N)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(R)?Promise.resolve():Promise.resolve(N||"Invalid URL")};function K(R){(function(R){R.inputValidator||Object.keys(k).forEach(N=>{R.input===N&&(R.inputValidator=k[N])})})(R),R.showLoaderOnConfirm&&!R.preConfirm&&Ce("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(R){(!R.target||"string"==typeof R.target&&!document.querySelector(R.target)||"string"!=typeof R.target&&!R.target.appendChild)&&(Ce('Target parameter is not valid, defaulting to "body"'),R.target="body")}(R),"string"==typeof R.title&&(R.title=R.title.split("\n").join("<br />")),oe(R)}const Ae=["swal-title","swal-html","swal-footer"],Ht=R=>{const N={};return se(R.querySelectorAll("swal-param")).forEach(z=>{zr(z,["name","value"]);const Ee=z.getAttribute("name");let ht=z.getAttribute("value");"boolean"==typeof zn[Ee]&&"false"===ht&&(ht=!1),"object"==typeof zn[Ee]&&(ht=JSON.parse(ht)),N[Ee]=ht}),N},Kn=R=>{const N={};return se(R.querySelectorAll("swal-button")).forEach(z=>{zr(z,["type","color","aria-label"]);const Ee=z.getAttribute("type");N["".concat(Ee,"ButtonText")]=z.innerHTML,N["show".concat(I(Ee),"Button")]=!0,z.hasAttribute("color")&&(N["".concat(Ee,"ButtonColor")]=z.getAttribute("color")),z.hasAttribute("aria-label")&&(N["".concat(Ee,"ButtonAriaLabel")]=z.getAttribute("aria-label"))}),N},Ir=R=>{const N={},z=R.querySelector("swal-image");return z&&(zr(z,["src","width","height","alt"]),z.hasAttribute("src")&&(N.imageUrl=z.getAttribute("src")),z.hasAttribute("width")&&(N.imageWidth=z.getAttribute("width")),z.hasAttribute("height")&&(N.imageHeight=z.getAttribute("height")),z.hasAttribute("alt")&&(N.imageAlt=z.getAttribute("alt"))),N},sr=R=>{const N={},z=R.querySelector("swal-icon");return z&&(zr(z,["type","color"]),z.hasAttribute("type")&&(N.icon=z.getAttribute("type")),z.hasAttribute("color")&&(N.iconColor=z.getAttribute("color")),N.iconHtml=z.innerHTML),N},$n=R=>{const N={},z=R.querySelector("swal-input");z&&(zr(z,["type","label","placeholder","value"]),N.input=z.getAttribute("type")||"text",z.hasAttribute("label")&&(N.inputLabel=z.getAttribute("label")),z.hasAttribute("placeholder")&&(N.inputPlaceholder=z.getAttribute("placeholder")),z.hasAttribute("value")&&(N.inputValue=z.getAttribute("value")));const Ee=R.querySelectorAll("swal-input-option");return Ee.length&&(N.inputOptions={},se(Ee).forEach(ht=>{zr(ht,["value"]);const tn=ht.getAttribute("value");N.inputOptions[tn]=ht.innerHTML})),N},Yr=(R,N)=>{const z={};for(const Ee in N){const ht=N[Ee],tn=R.querySelector(ht);tn&&(zr(tn,[]),z[ht.replace(/^swal-/,"")]=tn.innerHTML.trim())}return z},Es=R=>{const N=Ae.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);se(R.children).forEach(z=>{const Ee=z.tagName.toLowerCase();-1===N.indexOf(Ee)&&Ce("Unrecognized element <".concat(Ee,">"))})},zr=(R,N)=>{se(R.attributes).forEach(z=>{-1===N.indexOf(z.name)&&Ce(['Unrecognized attribute "'.concat(z.name,'" on <').concat(R.tagName.toLowerCase(),">."),"".concat(N.length?"Allowed attributes are: ".concat(N.join(", ")):"To set the value, use HTML within the element.")])})},zs=R=>{const N=et(),z=fe();"function"==typeof R.willOpen&&R.willOpen(z);const ht=window.getComputedStyle(document.body).overflowY;J(N,z,R),setTimeout(()=>{$(N,z)},10),zt()&&(U(N,R.scrollbarPadding,ht),se(document.body.children).forEach(N=>{N===et()||N.contains(et())||(N.hasAttribute("aria-hidden")&&N.setAttribute("data-previous-aria-hidden",N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))})),!Tt()&&!Jt.previousActiveElement&&(Jt.previousActiveElement=document.activeElement),"function"==typeof R.didOpen&&setTimeout(()=>R.didOpen(z)),Rn(N,ve["no-transition"])},q=R=>{const N=fe();if(R.target!==N)return;const z=et();N.removeEventListener(nt,q),z.style.overflowY="auto"},$=(R,N)=>{nt&&At(N)?(R.style.overflowY="hidden",N.addEventListener(nt,q)):R.style.overflowY="auto"},U=(R,N,z)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!_n(document.body,ve.iosfix)){const N=document.body.scrollTop;document.body.style.top="".concat(-1*N,"px"),Vt(document.body,ve.iosfix),Hi(),ts()}})(),N&&"hidden"!==z&&ii(),setTimeout(()=>{R.scrollTop=0})},J=(R,N,z)=>{Vt(R,z.showClass.backdrop),N.style.setProperty("opacity","0","important"),Bt(N,"grid"),setTimeout(()=>{Vt(N,z.showClass.popup),N.style.removeProperty("opacity")},10),Vt([document.documentElement,document.body],ve.shown),z.heightAuto&&z.backdrop&&!z.toast&&Vt([document.documentElement,document.body],ve["height-auto"])},Wt=R=>R.checked?1:0,Hn=R=>R.checked?R.value:null,Or=R=>R.files.length?null!==R.getAttribute("multiple")?R.files:R.files[0]:null,ct=(R,N)=>{const z=fe(),Ee=ht=>bo[N.input](z,nr(ht),N);te(N.inputOptions)||ge(N.inputOptions)?(gr($e()),ae(N.inputOptions).then(ht=>{R.hideLoading(),Ee(ht)})):"object"==typeof N.inputOptions?Ee(N.inputOptions):Re("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof N.inputOptions))},In=(R,N)=>{const z=R.getInput();gn(z),ae(N.inputValue).then(Ee=>{z.value="number"===N.input?parseFloat(Ee)||0:"".concat(Ee),Bt(z),z.focus(),R.hideLoading()}).catch(Ee=>{Re("Error in inputValue promise: ".concat(Ee)),z.value="",Bt(z),z.focus(),R.hideLoading()})},bo={select:(R,N,z)=>{const Ee=Dn(R,ve.select),ht=(tn,Un,Ur)=>{const Wn=document.createElement("option");Wn.value=Ur,Yt(Wn,Un),Wn.selected=Ws(Ur,z.inputValue),tn.appendChild(Wn)};N.forEach(tn=>{const Un=tn[0],Ur=tn[1];if(Array.isArray(Ur)){const Wn=document.createElement("optgroup");Wn.label=Un,Wn.disabled=!1,Ee.appendChild(Wn),Ur.forEach(co=>ht(Wn,co[1],co[0]))}else ht(Ee,Ur,Un)}),Ee.focus()},radio:(R,N,z)=>{const Ee=Dn(R,ve.radio);N.forEach(tn=>{const Un=tn[0],Ur=tn[1],Wn=document.createElement("input"),co=document.createElement("label");Wn.type="radio",Wn.name=ve.radio,Wn.value=Un,Ws(Un,z.inputValue)&&(Wn.checked=!0);const zi=document.createElement("span");Yt(zi,Ur),zi.className=ve.label,co.appendChild(Wn),co.appendChild(zi),Ee.appendChild(co)});const ht=Ee.querySelectorAll("input");ht.length&&ht[0].focus()}},nr=R=>{const N=[];return"undefined"!=typeof Map&&R instanceof Map?R.forEach((z,Ee)=>{let ht=z;"object"==typeof ht&&(ht=nr(ht)),N.push([Ee,ht])}):Object.keys(R).forEach(z=>{let Ee=R[z];"object"==typeof Ee&&(Ee=nr(Ee)),N.push([z,Ee])}),N},Ws=(R,N)=>N&&N.toString()===R.toString(),Os=(R,N)=>{const z=hn.innerParams.get(R),Ee=((R,N)=>{const z=R.getInput();if(!z)return null;switch(N.input){case"checkbox":return Wt(z);case"radio":return Hn(z);case"file":return Or(z);default:return N.inputAutoTrim?z.value.trim():z.value}})(R,z);z.inputValidator?Jl(R,Ee,N):R.getInput().checkValidity()?"deny"===N?ra(R,Ee):ds(R,Ee):(R.enableButtons(),R.showValidationMessage(z.validationMessage))},Jl=(R,N,z)=>{const Ee=hn.innerParams.get(R);R.disableInput(),Promise.resolve().then(()=>ae(Ee.inputValidator(N,Ee.validationMessage))).then(tn=>{R.enableButtons(),R.enableInput(),tn?R.showValidationMessage(tn):"deny"===z?ra(R,N):ds(R,N)})},ra=(R,N)=>{const z=hn.innerParams.get(R||void 0);z.showLoaderOnDeny&&gr(je()),z.preDeny?Promise.resolve().then(()=>ae(z.preDeny(N,z.validationMessage))).then(ht=>{!1===ht?R.hideLoading():R.closePopup({isDenied:!0,value:void 0===ht?N:ht})}):R.closePopup({isDenied:!0,value:N})},ao=(R,N)=>{R.closePopup({isConfirmed:!0,value:N})},ds=(R,N)=>{const z=hn.innerParams.get(R||void 0);z.showLoaderOnConfirm&&gr(),z.preConfirm?(R.resetValidationMessage(),Promise.resolve().then(()=>ae(z.preConfirm(N,z.validationMessage))).then(ht=>{me(We())||!1===ht?R.hideLoading():ao(R,void 0===ht?N:ht)})):ao(R,N)},_i=(R,N,z)=>{const Ee=yn();if(Ee.length)return(N+=z)===Ee.length?N=0:-1===N&&(N=Ee.length-1),Ee[N].focus();fe().focus()},ma=["ArrowRight","ArrowDown"],hs=["ArrowLeft","ArrowUp"],is=(R,N,z)=>{const Ee=hn.innerParams.get(R);!Ee||(Ee.stopKeydownPropagation&&N.stopPropagation(),"Enter"===N.key?wu(R,N,Ee):"Tab"===N.key?Ar(N,Ee):[...ma,...hs].includes(N.key)?ya(N.key):"Escape"===N.key&&dl(N,Ee,z))},wu=(R,N,z)=>{if(!N.isComposing&&N.target&&R.getInput()&&N.target.outerHTML===R.getInput().outerHTML){if(["textarea","file"].includes(z.input))return;ti(),N.preventDefault()}},Ar=(R,N)=>{const z=R.target,Ee=yn();let ht=-1;for(let tn=0;tn<Ee.length;tn++)if(z===Ee[tn]){ht=tn;break}_i(0,ht,R.shiftKey?-1:1),R.stopPropagation(),R.preventDefault()},ya=R=>{if(![$e(),je(),rt()].includes(document.activeElement))return;const ht=ma.includes(R)?"nextElementSibling":"previousElementSibling",tn=document.activeElement[ht];tn&&tn.focus()},dl=(R,N,z)=>{ue(N.allowEscapeKey)&&(R.preventDefault(),z(ze.esc))},_a=(R,N,z)=>{N.popup.onclick=()=>{const Ee=hn.innerParams.get(R);Ee.showConfirmButton||Ee.showDenyButton||Ee.showCancelButton||Ee.showCloseButton||Ee.timer||Ee.input||z(ze.close)}};let Fo=!1;const $a=R=>{R.popup.onmousedown=()=>{R.container.onmouseup=function(N){R.container.onmouseup=void 0,N.target===R.container&&(Fo=!0)}}},Ga=R=>{R.container.onmousedown=()=>{R.popup.onmouseup=function(N){R.popup.onmouseup=void 0,(N.target===R.popup||R.popup.contains(N.target))&&(Fo=!0)}}},va=(R,N,z)=>{N.container.onclick=Ee=>{const ht=hn.innerParams.get(R);Fo?Fo=!1:Ee.target===N.container&&ue(ht.allowOutsideClick)&&z(ze.backdrop)}};const za=(R,N)=>{const z=(R=>{const N="string"==typeof R.template?document.querySelector(R.template):R.template;if(!N)return{};const z=N.content;return Es(z),Object.assign(Ht(z),Kn(z),Ir(z),sr(z),$n(z),Yr(z,Ae))})(R),Ee=Object.assign({},zn,N,z,R);return Ee.showClass=Object.assign({},zn.showClass,Ee.showClass),Ee.hideClass=Object.assign({},zn.hideClass,Ee.hideClass),Ee},qs=(R,N,z)=>new Promise(Ee=>{const ht=tn=>{R.closePopup({isDismissed:!0,dismiss:tn})};Tr.swalPromiseResolve.set(R,Ee),N.confirmButton.onclick=()=>(R=>{const N=hn.innerParams.get(R);R.disableButtons(),N.input?Os(R,"confirm"):ds(R,!0)})(R),N.denyButton.onclick=()=>(R=>{const N=hn.innerParams.get(R);R.disableButtons(),N.returnInputValueOnDeny?Os(R,"deny"):ra(R,!1)})(R),N.cancelButton.onclick=()=>((R,N)=>{R.disableButtons(),N(ze.cancel)})(R,ht),N.closeButton.onclick=()=>ht(ze.close),((R,N,z)=>{hn.innerParams.get(R).toast?_a(R,N,z):($a(N),Ga(N),va(R,N,z))})(R,N,ht),((R,N,z,Ee)=>{N.keydownTarget&&N.keydownHandlerAdded&&(N.keydownTarget.removeEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!1),z.toast||(N.keydownHandler=ht=>is(R,ht,Ee),N.keydownTarget=z.keydownListenerCapture?window:fe(),N.keydownListenerCapture=z.keydownListenerCapture,N.keydownTarget.addEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!0)})(R,Jt,z,ht),((R,N)=>{"select"===N.input||"radio"===N.input?ct(R,N):["text","email","number","tel","textarea"].includes(N.input)&&(te(N.inputValue)||ge(N.inputValue))&&(gr($e()),In(R,N))})(R,z),zs(z),hl(Jt,z,ht),ia(N,z),setTimeout(()=>{N.container.scrollTop=0})}),Eu=R=>{const N={popup:fe(),container:et(),actions:Zt(),confirmButton:$e(),denyButton:je(),cancelButton:rt(),loader:ot(),closeButton:Lt(),validationMessage:We(),progressSteps:Ue()};return hn.domCache.set(R,N),N},hl=(R,N,z)=>{const Ee=_t();gn(Ee),N.timer&&(R.timeout=new lt(()=>{z("timer"),delete R.timeout},N.timer),N.timerProgressBar&&(Bt(Ee),setTimeout(()=>{R.timeout&&R.timeout.running&&mt(N.timer)})))},ia=(R,N)=>{if(!N.toast){if(!ue(N.allowEnterKey))return Wa();wa(R,N)||_i(0,-1,1)}},wa=(R,N)=>N.focusDeny&&me(R.denyButton)?(R.denyButton.focus(),!0):N.focusCancel&&me(R.cancelButton)?(R.cancelButton.focus(),!0):!(!N.focusConfirm||!me(R.confirmButton)||(R.confirmButton.focus(),0)),Wa=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const hr=R=>{delete R.params,delete Jt.keydownHandler,delete Jt.keydownTarget,Lo(hn),Lo(Tr),delete Jt.currentInstance},Lo=R=>{for(const N in R)R[N]=new WeakMap};var Vo=Object.freeze({hideLoading:Bi,disableLoading:Bi,getInput:function(R){const N=hn.innerParams.get(R||this),z=hn.domCache.get(R||this);return z?Yn(z.popup,N.input):null},close:$i,closePopup:$i,closeModal:$i,closeToast:$i,enableButtons:function(){ns(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ns(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Vr(this.getInput(),!1)},disableInput:function(){return Vr(this.getInput(),!0)},showValidationMessage:function(R){const N=hn.domCache.get(this),z=hn.innerParams.get(this);Yt(N.validationMessage,R),N.validationMessage.className=ve["validation-message"],z.customClass&&z.customClass.validationMessage&&Vt(N.validationMessage,z.customClass.validationMessage),Bt(N.validationMessage);const Ee=this.getInput();Ee&&(Ee.setAttribute("aria-invalid",!0),Ee.setAttribute("aria-describedby",ve["validation-message"]),un(Ee),Vt(Ee,ve.inputerror))},resetValidationMessage:function(){const R=hn.domCache.get(this);R.validationMessage&&gn(R.validationMessage);const N=this.getInput();N&&(N.removeAttribute("aria-invalid"),N.removeAttribute("aria-describedby"),Rn(N,ve.inputerror))},getProgressSteps:function(){return hn.domCache.get(this).progressSteps},_main:function(R,N={}){(R=>{!R.backdrop&&R.allowOutsideClick&&Ce('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const N in R)Vi(N),R.toast&&Ns(N),Xi(N)})(Object.assign({},N,R)),Jt.currentInstance&&(Jt.currentInstance._destroy(),zt()&&oi()),Jt.currentInstance=this;const z=za(R,N);K(z),Object.freeze(z),Jt.timeout&&(Jt.timeout.stop(),delete Jt.timeout),clearTimeout(Jt.restoreFocusTimeout);const Ee=Eu(this);return xs(this,z),hn.innerParams.set(this,z),qs(this,Ee,z)},update:function(R){const N=fe(),z=hn.innerParams.get(this);if(!N||_n(N,z.hideClass.popup))return Ce("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ee={};Object.keys(R).forEach(tn=>{ss.isUpdatableParameter(tn)?Ee[tn]=R[tn]:Ce('Invalid parameter to update: "'.concat(tn,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const ht=Object.assign({},z,Ee);xs(this,ht),hn.innerParams.set(this,ht),Object.defineProperties(this,{params:{value:Object.assign({},this.params,R),writable:!1,enumerable:!0}})},_destroy:function(){const R=hn.domCache.get(this),N=hn.innerParams.get(this);!N||(R.popup&&Jt.swalCloseEventFinishedCallback&&(Jt.swalCloseEventFinishedCallback(),delete Jt.swalCloseEventFinishedCallback),Jt.deferDisposalTimer&&(clearTimeout(Jt.deferDisposalTimer),delete Jt.deferDisposalTimer),"function"==typeof N.didDestroy&&N.didDestroy(),hr(this))}});let qa;class fs{constructor(...N){if("undefined"==typeof window)return;qa=this;const z=Object.freeze(this.constructor.argsToParams(N));Object.defineProperties(this,{params:{value:z,writable:!1,enumerable:!0,configurable:!0}});const Ee=this._main(this.params);hn.promise.set(this,Ee)}then(N){return hn.promise.get(this).then(N)}finally(N){return hn.promise.get(this).finally(N)}}Object.assign(fs.prototype,Vo),Object.assign(fs,cs),Object.keys(Vo).forEach(R=>{fs[R]=function(...N){if(qa)return qa[R](...N)}}),fs.DismissReason=ze,fs.version="11.1.5";const ss=fs;return ss.default=ss,ss}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(ze,G){var C=ze.createElement("style");if(ze.getElementsByTagName("head")[0].appendChild(C),C.styleSheet)C.styleSheet.disabled||(C.styleSheet.cssText=G);else try{C.innerHTML=G}catch(I){C.innerText=G}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8063:(Rt,ze,G)=>{"use strict";G.d(ze,{a:()=>ke});var C=G(8239),I=G(8259),se=G.n(I),Ce=G(3018),Re=G(4363),pe=G(7556);let ke=(()=>{class _e{constructor(te,ae){this.router=te,this.authService=ae}canActivate(te,ae){return this.checkUser()}checkUser(){var te=this;return(0,C.Z)(function*(){return!!(yield te.authService.getCurentUser())||(se().fire("Por favor, inici\xe1 sesion!!","Ten\xe9s que iniciar sesi\xf3n para poder acceder a la pagina","error"),te.router.navigateByUrl("/auth/login"),!1)})()}}return _e.\u0275fac=function(te){return new(te||_e)(Ce.LFG(Re.F0),Ce.LFG(pe.e))},_e.\u0275prov=Ce.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},7556:(Rt,ze,G)=>{"use strict";G.d(ze,{e:()=>Re});var C=G(8239),I=G(8049),se=G(3018),Ce=G(8006);let Re=(()=>{class pe{constructor(_e){this.afAuth=_e}login(_e,ue){var te=this;return(0,C.Z)(function*(){try{return yield te.afAuth.signInWithEmailAndPassword(_e,ue)}catch(ae){return console.log(ae.code),te.manejarErroresFirebase(ae.code)}})()}logout(){var _e=this;return(0,C.Z)(function*(){try{return yield _e.afAuth.signOut(),!0}catch(ue){return console.log(ue.code),_e.manejarErroresFirebase(ue.code)}})()}register(_e,ue){var te=this;return(0,C.Z)(function*(){try{return yield te.afAuth.createUserWithEmailAndPassword(_e,ue)}catch(ae){return console.log(ae.code),te.manejarErroresFirebase(ae.code)}})()}getCurentUser(){return this.afAuth.authState.pipe((0,I.P)()).toPromise()}manejarErroresFirebase(_e){let ue="";switch(_e){case"auth/email-already-exists":case"auth/email-already-in-use":ue="El mail ingresado ya pertenece a una cuenta!";break;case"auth/internal-error":ue="Ocurri\xf3 un error inesperado!";break;case"auth/invalid-email":ue="El formato del mail no es v\xe1lido!";break;case"auth/invalid-password":case"auth/weak-password":ue="La contrase\xf1a debe terner al menos 6 caracteres!";break;case"auth/user-not-found":case"auth/wrong-password":ue="Email y/o contrase\xf1a inv\xe1lidos!"}return ue}}return pe.\u0275fac=function(_e){return new(_e||pe)(se.LFG(Ce.zQ))},pe.\u0275prov=se.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},1343:(Rt,ze,G)=>{"use strict";G.d(ze,{C:()=>se});var C=G(3018),I=G(5391);let se=(()=>{class Ce{constructor(pe){this.firestore=pe,this.coleccionMensaje=pe.collection("mensajes")}guardarMensajeFirestore(pe){this.coleccionMensaje.add(pe)}crear(pe,ke){return this.firestore.collection(pe).add(ke)}obtenerById(pe,ke){return this.firestore.collection(pe).doc(ke).snapshotChanges()}obtenerTodos(pe){return this.firestore.collection(pe).snapshotChanges()}actualizar(pe,ke,_e){return this.firestore.collection(pe).doc(ke).set(_e)}}return Ce.\u0275fac=function(pe){return new(pe||Ce)(C.LFG(I.ST))},Ce.\u0275prov=C.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},434:(Rt,ze,G)=>{"use strict";var C=G(8583),I=G(3018);class se extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends se{static makeCurrent(){(0,C.HT)(new Ce)}onAndCancel($,U,J){return $.addEventListener(U,J,!1),()=>{$.removeEventListener(U,J,!1)}}dispatchEvent($,U){$.dispatchEvent(U)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,U){return(U=U||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,U){return"window"===U?window:"document"===U?$:"body"===U?$.body:null}getBaseHref($){const U=(Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null);return null==U?null:function(q){ke=ke||document.createElement("a"),ke.setAttribute("href",q);const $=ke.pathname;return"/"===$.charAt(0)?$:`/${$}`}(U)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,C.Mx)(document.cookie,$)}}let ke,Re=null;const ue=new I.OlP("TRANSITION_ID"),ae=[{provide:I.ip1,useFactory:function(q,$,U){return()=>{U.get(I.CZH).donePromise.then(()=>{const J=(0,C.q)(),Oe=$.querySelectorAll(`style[ng-transition="${q}"]`);for(let yt=0;yt<Oe.length;yt++)J.remove(Oe[yt])})}},deps:[ue,C.K0,I.zs3],multi:!0}];class ge{static init(){(0,I.VLi)(new ge)}addToWindow($){I.dqk.getAngularTestability=(J,Oe=!0)=>{const yt=$.findTestabilityInTree(J,Oe);if(null==yt)throw new Error("Could not find testability for element.");return yt},I.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),I.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),I.dqk.frameworkStabilizers||(I.dqk.frameworkStabilizers=[]),I.dqk.frameworkStabilizers.push(J=>{const Oe=I.dqk.getAllAngularTestabilities();let yt=Oe.length,Wt=!1;const Hn=function(Or){Wt=Wt||Or,yt--,0==yt&&J(Wt)};Oe.forEach(function(Or){Or.whenStable(Hn)})})}findTestabilityInTree($,U,J){if(null==U)return null;const Oe=$.getTestability(U);return null!=Oe?Oe:J?(0,C.q)().isShadowRoot(U)?this.findTestabilityInTree($,U.host,!0):this.findTestabilityInTree($,U.parentElement,!0):null}}let he=(()=>{class q{build(){return new XMLHttpRequest}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac}),q})();const We=new I.OlP("EventManagerPlugins");let $e=(()=>{class q{constructor(U,J){this._zone=J,this._eventNameToPlugin=new Map,U.forEach(Oe=>Oe.manager=this),this._plugins=U.slice().reverse()}addEventListener(U,J,Oe){return this._findPluginFor(J).addEventListener(U,J,Oe)}addGlobalEventListener(U,J,Oe){return this._findPluginFor(J).addGlobalEventListener(U,J,Oe)}getZone(){return this._zone}_findPluginFor(U){const J=this._eventNameToPlugin.get(U);if(J)return J;const Oe=this._plugins;for(let yt=0;yt<Oe.length;yt++){const Wt=Oe[yt];if(Wt.supports(U))return this._eventNameToPlugin.set(U,Wt),Wt}throw new Error(`No event manager plugin found for event ${U}`)}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(We),I.LFG(I.R0b))},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac}),q})();class je{constructor($){this._doc=$}addGlobalEventListener($,U,J){const Oe=(0,C.q)().getGlobalEventTarget(this._doc,$);if(!Oe)throw new Error(`Unsupported event target ${Oe} for event ${U}`);return this.addEventListener(Oe,U,J)}}let le=(()=>{class q{constructor(){this._stylesSet=new Set}addStyles(U){const J=new Set;U.forEach(Oe=>{this._stylesSet.has(Oe)||(this._stylesSet.add(Oe),J.add(Oe))}),this.onStylesAdded(J)}onStylesAdded(U){}getAllStyles(){return Array.from(this._stylesSet)}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac}),q})(),ot=(()=>{class q extends le{constructor(U){super(),this._doc=U,this._hostNodes=new Map,this._hostNodes.set(U.head,[])}_addStylesToHost(U,J,Oe){U.forEach(yt=>{const Wt=this._doc.createElement("style");Wt.textContent=yt,Oe.push(J.appendChild(Wt))})}addHost(U){const J=[];this._addStylesToHost(this._stylesSet,U,J),this._hostNodes.set(U,J)}removeHost(U){const J=this._hostNodes.get(U);J&&J.forEach(rt),this._hostNodes.delete(U)}onStylesAdded(U){this._hostNodes.forEach((J,Oe)=>{this._addStylesToHost(U,Oe,J)})}ngOnDestroy(){this._hostNodes.forEach(U=>U.forEach(rt))}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(C.K0))},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac}),q})();function rt(q){(0,C.q)().remove(q)}const Zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gt=/%COMP%/g;function pt(q,$,U){for(let J=0;J<$.length;J++){let Oe=$[J];Array.isArray(Oe)?pt(q,Oe,U):(Oe=Oe.replace(gt,q),U.push(Oe))}return U}function Xt(q){return $=>{if("__ngUnwrap__"===$)return q;!1===q($)&&($.preventDefault(),$.returnValue=!1)}}let _n=(()=>{class q{constructor(U,J,Oe){this.eventManager=U,this.sharedStylesHost=J,this.appId=Oe,this.rendererByCompId=new Map,this.defaultRenderer=new mn(U)}createRenderer(U,J){if(!U||!J)return this.defaultRenderer;switch(J.encapsulation){case I.ifc.Emulated:{let Oe=this.rendererByCompId.get(J.id);return Oe||(Oe=new Fn(this.eventManager,this.sharedStylesHost,J,this.appId),this.rendererByCompId.set(J.id,Oe)),Oe.applyToHost(U),Oe}case 1:case I.ifc.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,U,J);default:if(!this.rendererByCompId.has(J.id)){const Oe=pt(J.id,J.styles,[]);this.sharedStylesHost.addStyles(Oe),this.rendererByCompId.set(J.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return q.\u0275fac=function(U){return new(U||q)(I.LFG($e),I.LFG(ot),I.LFG(I.AFp))},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac}),q})();class mn{constructor($){this.eventManager=$,this.data=Object.create(null)}destroy(){}createElement($,U){return U?document.createElementNS(Zt[U]||U,$):document.createElement($)}createComment($){return document.createComment($)}createText($){return document.createTextNode($)}appendChild($,U){$.appendChild(U)}insertBefore($,U,J){$&&$.insertBefore(U,J)}removeChild($,U){$&&$.removeChild(U)}selectRootElement($,U){let J="string"==typeof $?document.querySelector($):$;if(!J)throw new Error(`The selector "${$}" did not match any elements`);return U||(J.textContent=""),J}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,U,J,Oe){if(Oe){U=Oe+":"+U;const yt=Zt[Oe];yt?$.setAttributeNS(yt,U,J):$.setAttribute(U,J)}else $.setAttribute(U,J)}removeAttribute($,U,J){if(J){const Oe=Zt[J];Oe?$.removeAttributeNS(Oe,U):$.removeAttribute(`${J}:${U}`)}else $.removeAttribute(U)}addClass($,U){$.classList.add(U)}removeClass($,U){$.classList.remove(U)}setStyle($,U,J,Oe){Oe&(I.JOm.DashCase|I.JOm.Important)?$.style.setProperty(U,J,Oe&I.JOm.Important?"important":""):$.style[U]=J}removeStyle($,U,J){J&I.JOm.DashCase?$.style.removeProperty(U):$.style[U]=""}setProperty($,U,J){$[U]=J}setValue($,U){$.nodeValue=U}listen($,U,J){return"string"==typeof $?this.eventManager.addGlobalEventListener($,U,Xt(J)):this.eventManager.addEventListener($,U,Xt(J))}}class Fn extends mn{constructor($,U,J,Oe){super($),this.component=J;const yt=pt(Oe+"-"+J.id,J.styles,[]);U.addStyles(yt),this.contentAttr="_ngcontent-%COMP%".replace(gt,Oe+"-"+J.id),this.hostAttr="_nghost-%COMP%".replace(gt,Oe+"-"+J.id)}applyToHost($){super.setAttribute($,this.hostAttr,"")}createElement($,U){const J=super.createElement($,U);return super.setAttribute(J,this.contentAttr,""),J}}class Vt extends mn{constructor($,U,J,Oe){super($),this.sharedStylesHost=U,this.hostEl=J,this.shadowRoot=J.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const yt=pt(Oe.id,Oe.styles,[]);for(let Wt=0;Wt<yt.length;Wt++){const Hn=document.createElement("style");Hn.textContent=yt[Wt],this.shadowRoot.appendChild(Hn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild($,U){return super.appendChild(this.nodeOrShadowRoot($),U)}insertBefore($,U,J){return super.insertBefore(this.nodeOrShadowRoot($),U,J)}removeChild($,U){return super.removeChild(this.nodeOrShadowRoot($),U)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}}let Rn=(()=>{class q extends je{constructor(U){super(U)}supports(U){return!0}addEventListener(U,J,Oe){return U.addEventListener(J,Oe,!1),()=>this.removeEventListener(U,J,Oe)}removeEventListener(U,J,Oe){return U.removeEventListener(J,Oe)}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(C.K0))},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac}),q})();const At=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},St={alt:q=>q.altKey,control:q=>q.ctrlKey,meta:q=>q.metaKey,shift:q=>q.shiftKey};let Kt=(()=>{class q extends je{constructor(U){super(U)}supports(U){return null!=q.parseEventName(U)}addEventListener(U,J,Oe){const yt=q.parseEventName(J),Wt=q.eventCallback(yt.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(U,yt.domEventName,Wt))}static parseEventName(U){const J=U.toLowerCase().split("."),Oe=J.shift();if(0===J.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const yt=q._normalizeKey(J.pop());let Wt="";if(At.forEach(Or=>{const ct=J.indexOf(Or);ct>-1&&(J.splice(ct,1),Wt+=Or+".")}),Wt+=yt,0!=J.length||0===yt.length)return null;const Hn={};return Hn.domEventName=Oe,Hn.fullKey=Wt,Hn}static getEventFullKey(U){let J="",Oe=function(q){let $=q.key;if(null==$){if($=q.keyIdentifier,null==$)return"Unidentified";$.startsWith("U+")&&($=String.fromCharCode(parseInt($.substring(2),16)),3===q.location&&Qt.hasOwnProperty($)&&($=Qt[$]))}return Et[$]||$}(U);return Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),At.forEach(yt=>{yt!=Oe&&St[yt](U)&&(J+=yt+".")}),J+=Oe,J}static eventCallback(U,J,Oe){return yt=>{q.getEventFullKey(yt)===U&&Oe.runGuarded(()=>J(yt))}}static _normalizeKey(U){switch(U){case"esc":return"escape";default:return U}}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(C.K0))},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac}),q})(),oe=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275prov=(0,I.Yz7)({factory:function(){return(0,I.LFG)(qe)},token:q,providedIn:"root"}),q})(),qe=(()=>{class q extends oe{constructor(U){super(),this._doc=U}sanitize(U,J){if(null==J)return null;switch(U){case I.q3G.NONE:return J;case I.q3G.HTML:return(0,I.qzn)(J,"HTML")?(0,I.z3N)(J):(0,I.EiD)(this._doc,String(J)).toString();case I.q3G.STYLE:return(0,I.qzn)(J,"Style")?(0,I.z3N)(J):J;case I.q3G.SCRIPT:if((0,I.qzn)(J,"Script"))return(0,I.z3N)(J);throw new Error("unsafe value used in a script context");case I.q3G.URL:return(0,I.yhl)(J),(0,I.qzn)(J,"URL")?(0,I.z3N)(J):(0,I.mCW)(String(J));case I.q3G.RESOURCE_URL:if((0,I.qzn)(J,"ResourceURL"))return(0,I.z3N)(J);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${U} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(U){return(0,I.JVY)(U)}bypassSecurityTrustStyle(U){return(0,I.L6k)(U)}bypassSecurityTrustScript(U){return(0,I.eBb)(U)}bypassSecurityTrustUrl(U){return(0,I.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,I.pB0)(U)}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(C.K0))},q.\u0275prov=(0,I.Yz7)({factory:function(){return function(q){return new qe(q.get(C.K0))}((0,I.LFG)(I.gxx))},token:q,providedIn:"root"}),q})();const Mn=(0,I.eFA)(I._c5,"browser",[{provide:I.Lbi,useValue:C.bD},{provide:I.g9A,useValue:function(){Ce.makeCurrent(),ge.init()},multi:!0},{provide:C.K0,useFactory:function(){return(0,I.RDi)(document),document},deps:[]}]),gi=[[],{provide:I.zSh,useValue:"root"},{provide:I.qLn,useFactory:function(){return new I.qLn},deps:[]},{provide:We,useClass:Rn,multi:!0,deps:[C.K0,I.R0b,I.Lbi]},{provide:We,useClass:Kt,multi:!0,deps:[C.K0]},[],{provide:_n,useClass:_n,deps:[$e,ot,I.AFp]},{provide:I.FYo,useExisting:_n},{provide:le,useExisting:ot},{provide:ot,useClass:ot,deps:[C.K0]},{provide:I.dDg,useClass:I.dDg,deps:[I.R0b]},{provide:$e,useClass:$e,deps:[We,I.R0b]},{provide:C.JF,useClass:he,deps:[]},[]];let hn=(()=>{class q{constructor(U){if(U)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(U){return{ngModule:q,providers:[{provide:I.AFp,useValue:U.appId},{provide:ue,useExisting:I.AFp},ae]}}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(q,12))},q.\u0275mod=I.oAB({type:q}),q.\u0275inj=I.cJS({providers:gi,imports:[C.ez,I.hGG]}),q})();"undefined"!=typeof window&&window;var Cr=G(8939),Bn=G(8006),mi=G(5391);function Pi(q,$){return{type:7,name:q,definitions:$,options:{}}}function ti(q,$=null){return{type:4,styles:$,timings:q}}function qr(q){return{type:6,styles:q,offset:null}}function Zr(q,$,U){return{type:0,name:q,styles:$,options:U}}function On(q,$,U=null){return{type:1,expr:q,animation:$,options:U}}var yr=G(9765);const Zn=["toast-component",""];function tr(q,$){if(1&q){const U=I.EpF();I.TgZ(0,"button",5),I.NdJ("click",function(){return I.CHM(U),I.oxw().remove()}),I.TgZ(1,"span",6),I._uU(2,"\xd7"),I.qZA(),I.qZA()}}function Fi(q,$){if(1&q&&(I.ynx(0),I._uU(1),I.BQk()),2&q){const U=I.oxw(2);I.xp6(1),I.hij("[",U.duplicatesCount+1,"]")}}function Li(q,$){if(1&q&&(I.TgZ(0,"div"),I._uU(1),I.YNc(2,Fi,2,1,"ng-container",4),I.qZA()),2&q){const U=I.oxw();I.Tol(U.options.titleClass),I.uIk("aria-label",U.title),I.xp6(1),I.hij(" ",U.title," "),I.xp6(1),I.Q6J("ngIf",U.duplicatesCount)}}function zn(q,$){if(1&q&&I._UZ(0,"div",7),2&q){const U=I.oxw();I.Tol(U.options.messageClass),I.Q6J("innerHTML",U.message,I.oJD)}}function Qi(q,$){if(1&q&&(I.TgZ(0,"div",8),I._uU(1),I.qZA()),2&q){const U=I.oxw();I.Tol(U.options.messageClass),I.uIk("aria-label",U.message),I.xp6(1),I.hij(" ",U.message," ")}}function Ji(q,$){if(1&q&&(I.TgZ(0,"div"),I._UZ(1,"div",9),I.qZA()),2&q){const U=I.oxw();I.xp6(1),I.Udp("width",U.width+"%")}}function vs(q,$){if(1&q){const U=I.EpF();I.TgZ(0,"button",5),I.NdJ("click",function(){return I.CHM(U),I.oxw().remove()}),I.TgZ(1,"span",6),I._uU(2,"\xd7"),I.qZA(),I.qZA()}}function Ii(q,$){if(1&q&&(I.ynx(0),I._uU(1),I.BQk()),2&q){const U=I.oxw(2);I.xp6(1),I.hij("[",U.duplicatesCount+1,"]")}}function Rs(q,$){if(1&q&&(I.TgZ(0,"div"),I._uU(1),I.YNc(2,Ii,2,1,"ng-container",4),I.qZA()),2&q){const U=I.oxw();I.Tol(U.options.titleClass),I.uIk("aria-label",U.title),I.xp6(1),I.hij(" ",U.title," "),I.xp6(1),I.Q6J("ngIf",U.duplicatesCount)}}function _r(q,$){if(1&q&&I._UZ(0,"div",7),2&q){const U=I.oxw();I.Tol(U.options.messageClass),I.Q6J("innerHTML",U.message,I.oJD)}}function Vi(q,$){if(1&q&&(I.TgZ(0,"div",8),I._uU(1),I.qZA()),2&q){const U=I.oxw();I.Tol(U.options.messageClass),I.uIk("aria-label",U.message),I.xp6(1),I.hij(" ",U.message," ")}}function Ns(q,$){if(1&q&&(I.TgZ(0,"div"),I._UZ(1,"div",9),I.qZA()),2&q){const U=I.oxw();I.xp6(1),I.Udp("width",U.width+"%")}}class cs{constructor($,U,J,Oe,yt,Wt){this.toastId=$,this.config=U,this.message=J,this.title=Oe,this.toastType=yt,this.toastRef=Wt,this._onTap=new yr.xQ,this._onAction=new yr.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction($){this._onAction.next($)}onAction(){return this._onAction.asObservable()}}const Bi={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Lr=new I.OlP("ToastConfig");class ji{constructor($,U){this.component=$,this.injector=U}attach($,U){return this._attachedHost=$,$.attach(this,U)}detach(){const $=this._attachedHost;if($)return this._attachedHost=void 0,$.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost($){this._attachedHost=$}}class Gs extends class{attach($,U){return this._attachedPortal=$,this.attachComponentPortal($,U)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn($){this._disposeFn=$}}{constructor($,U,J){super(),this._hostDomElement=$,this._componentFactoryResolver=U,this._appRef=J}attachComponentPortal($,U){const J=this._componentFactoryResolver.resolveComponentFactory($.component);let Oe;return Oe=J.create($.injector),this._appRef.attachView(Oe.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Oe.hostView),Oe.destroy()}),U?this._hostDomElement.insertBefore(this._getComponentRootNode(Oe),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Oe)),Oe}_getComponentRootNode($){return $.hostView.rootNodes[0]}}let es=(()=>{class q{constructor(U){this._document=U}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const U=this._document.createElement("div");U.classList.add("overlay-container"),this._document.body.appendChild(U),this._containerElement=U}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(C.K0))},q.\u0275prov=I.Yz7({factory:function(){return new q(I.LFG(C.K0))},token:q,providedIn:"root"}),q})();class ts{constructor($){this._portalHost=$}attach($,U=!0){return this._portalHost.attach($,U)}detach(){return this._portalHost.detach()}}let Hi=(()=>{class q{constructor(U,J,Oe,yt){this._overlayContainer=U,this._componentFactoryResolver=J,this._appRef=Oe,this._document=yt,this._paneElements=new Map}create(U,J){return this._createOverlayRef(this.getPaneElement(U,J))}getPaneElement(U="",J){return this._paneElements.get(J)||this._paneElements.set(J,{}),this._paneElements.get(J)[U]||(this._paneElements.get(J)[U]=this._createPaneElement(U,J)),this._paneElements.get(J)[U]}_createPaneElement(U,J){const Oe=this._document.createElement("div");return Oe.id="toast-container",Oe.classList.add(U),Oe.classList.add("toast-container"),J?J.getContainerElement().appendChild(Oe):this._overlayContainer.getContainerElement().appendChild(Oe),Oe}_createPortalHost(U){return new Gs(U,this._componentFactoryResolver,this._appRef)}_createOverlayRef(U){return new ts(this._createPortalHost(U))}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(es),I.LFG(I._Vd),I.LFG(I.z2F),I.LFG(C.K0))},q.\u0275prov=I.Yz7({factory:function(){return new q(I.LFG(es),I.LFG(I._Vd),I.LFG(I.z2F),I.LFG(C.K0))},token:q,providedIn:"root"}),q})();class Kr{constructor($){this._overlayRef=$,this.duplicatesCount=0,this._afterClosed=new yr.xQ,this._activate=new yr.xQ,this._manualClose=new yr.xQ,this._resetTimeout=new yr.xQ,this._countDuplicate=new yr.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate($,U){$&&this._resetTimeout.next(),U&&this._countDuplicate.next(++this.duplicatesCount)}}class ko{constructor($,U){this._toastPackage=$,this._parentInjector=U}get($,U,J){return $===cs?this._toastPackage:this._parentInjector.get($,U,J)}}let Di=(()=>{class q{constructor(U,J,Oe,yt,Wt){this.overlay=J,this._injector=Oe,this.sanitizer=yt,this.ngZone=Wt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},U.default),U.config),U.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},U.default.iconClasses),U.config.iconClasses))}show(U,J,Oe={},yt=""){return this._preBuildNotification(yt,U,J,this.applyConfig(Oe))}success(U,J,Oe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",U,J,this.applyConfig(Oe))}error(U,J,Oe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",U,J,this.applyConfig(Oe))}info(U,J,Oe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",U,J,this.applyConfig(Oe))}warning(U,J,Oe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",U,J,this.applyConfig(Oe))}clear(U){for(const J of this.toasts)if(void 0!==U){if(J.toastId===U)return void J.toastRef.manualClose()}else J.toastRef.manualClose()}remove(U){const J=this._findToast(U);if(!J||(J.activeToast.toastRef.close(),this.toasts.splice(J.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Oe=this.toasts[this.currentlyActive].toastRef;Oe.isInactive()||(this.currentlyActive=this.currentlyActive+1,Oe.activate())}return!0}findDuplicate(U="",J="",Oe,yt){const{includeTitleDuplicates:Wt}=this.toastrConfig;for(const Hn of this.toasts){const Or=Wt&&Hn.title===U;if((!Wt||Or)&&Hn.message===J)return Hn.toastRef.onDuplicate(Oe,yt),Hn}return null}applyConfig(U={}){return Object.assign(Object.assign({},this.toastrConfig),U)}_findToast(U){for(let J=0;J<this.toasts.length;J++)if(this.toasts[J].toastId===U)return{index:J,activeToast:this.toasts[J]};return null}_preBuildNotification(U,J,Oe,yt){return yt.onActivateTick?this.ngZone.run(()=>this._buildNotification(U,J,Oe,yt)):this._buildNotification(U,J,Oe,yt)}_buildNotification(U,J,Oe,yt){if(!yt.toastComponent)throw new Error("toastComponent required");const Wt=this.findDuplicate(Oe,J,this.toastrConfig.resetTimeoutOnDuplicate&&yt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Oe||J)&&this.toastrConfig.preventDuplicates&&null!==Wt)return Wt;this.previousToastMessage=J;let Hn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Hn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Or=this.overlay.create(yt.positionClass,this.overlayContainer);this.index=this.index+1;let ct=J;J&&yt.enableHtml&&(ct=this.sanitizer.sanitize(I.q3G.HTML,J));const In=new Kr(Or),bo=new cs(this.index,yt,ct,Oe,U,In),nr=new ko(bo,this._injector),Ws=new ji(yt.toastComponent,nr),rs=Or.attach(Ws,this.toastrConfig.newestOnTop);In.componentInstance=rs.instance;const ui={toastId:this.index,title:Oe||"",message:J||"",toastRef:In,onShown:In.afterActivate(),onHidden:In.afterClosed(),onTap:bo.onTap(),onAction:bo.onAction(),portal:rs};return Hn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ui.toastRef.activate()})),this.toasts.push(ui),ui}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(Lr),I.LFG(Hi),I.LFG(I.zs3),I.LFG(oe),I.LFG(I.R0b))},q.\u0275prov=I.Yz7({factory:function(){return new q(I.LFG(Lr),I.LFG(Hi),I.LFG(I.gxx),I.LFG(oe),I.LFG(I.R0b))},token:q,providedIn:"root"}),q})(),Ms=(()=>{class q{constructor(U,J,Oe){this.toastrService=U,this.toastPackage=J,this.ngZone=Oe,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=J.message,this.title=J.title,this.options=J.config,this.originalTimeout=J.config.timeOut,this.toastClasses=`${J.toastType} ${J.config.toastClass}`,this.sub=J.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=J.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=J.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=J.toastRef.countDuplicate().subscribe(yt=>{this.duplicatesCount=yt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const U=(new Date).getTime();this.width=(this.hideTime-U)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(U,J){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(U),J)):this.timeout=setTimeout(()=>U(),J)}outsideInterval(U,J){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(U),J)):this.intervalId=setInterval(()=>U(),J)}runInsideAngular(U){this.ngZone?this.ngZone.run(()=>U()):U()}}return q.\u0275fac=function(U){return new(U||q)(I.Y36(Di),I.Y36(cs),I.Y36(I.R0b))},q.\u0275cmp=I.Xpm({type:q,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(U,J){1&U&&I.NdJ("click",function(){return J.tapToast()})("mouseenter",function(){return J.stickAround()})("mouseleave",function(){return J.delayedHideToast()}),2&U&&(I.d8E("@flyInOut",J.state),I.Tol(J.toastClasses),I.Udp("display",J.displayStyle))},attrs:Zn,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(U,J){1&U&&(I.YNc(0,tr,3,0,"button",0),I.YNc(1,Li,3,5,"div",1),I.YNc(2,zn,1,3,"div",2),I.YNc(3,Qi,2,4,"div",3),I.YNc(4,Ji,2,2,"div",4)),2&U&&(I.Q6J("ngIf",J.options.closeButton),I.xp6(1),I.Q6J("ngIf",J.title),I.xp6(1),I.Q6J("ngIf",J.message&&J.options.enableHtml),I.xp6(1),I.Q6J("ngIf",J.message&&!J.options.enableHtml),I.xp6(1),I.Q6J("ngIf",J.options.progressBar))},directives:[C.O5],encapsulation:2,data:{animation:[Pi("flyInOut",[Zr("inactive",qr({opacity:0})),Zr("active",qr({opacity:1})),Zr("removed",qr({opacity:0})),On("inactive => active",ti("{{ easeTime }}ms {{ easing }}")),On("active => removed",ti("{{ easeTime }}ms {{ easing }}"))])]}}),q})();const si=Object.assign(Object.assign({},Bi),{toastComponent:Ms});let oi=(()=>{class q{static forRoot(U={}){return{ngModule:q,providers:[{provide:Lr,useValue:{default:si,config:U}}]}}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=I.oAB({type:q}),q.\u0275inj=I.cJS({imports:[[C.ez]]}),q})(),ws=(()=>{class q{constructor(U,J,Oe){this.toastrService=U,this.toastPackage=J,this.appRef=Oe,this.width=-1,this.toastClasses="",this.state="inactive",this.message=J.message,this.title=J.title,this.options=J.config,this.originalTimeout=J.config.timeOut,this.toastClasses=`${J.toastType} ${J.config.toastClass}`,this.sub=J.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=J.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=J.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=J.toastRef.countDuplicate().subscribe(yt=>{this.duplicatesCount=yt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const U=(new Date).getTime();this.width=(this.hideTime-U)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return q.\u0275fac=function(U){return new(U||q)(I.Y36(Di),I.Y36(cs),I.Y36(I.z2F))},q.\u0275cmp=I.Xpm({type:q,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(U,J){1&U&&I.NdJ("click",function(){return J.tapToast()})("mouseenter",function(){return J.stickAround()})("mouseleave",function(){return J.delayedHideToast()}),2&U&&(I.Tol(J.toastClasses),I.Udp("display",J.displayStyle))},attrs:Zn,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(U,J){1&U&&(I.YNc(0,vs,3,0,"button",0),I.YNc(1,Rs,3,5,"div",1),I.YNc(2,_r,1,3,"div",2),I.YNc(3,Vi,2,4,"div",3),I.YNc(4,Ns,2,2,"div",4)),2&U&&(I.Q6J("ngIf",J.options.closeButton),I.xp6(1),I.Q6J("ngIf",J.title),I.xp6(1),I.Q6J("ngIf",J.message&&J.options.enableHtml),I.xp6(1),I.Q6J("ngIf",J.message&&!J.options.enableHtml),I.xp6(1),I.Q6J("ngIf",J.options.progressBar))},directives:[C.O5],encapsulation:2}),q})();Object.assign(Object.assign({},Bi),{toastComponent:ws});const Ti_firebaseConfig={apiKey:"AIzaSyD8ORYXVaB1sXIJr9I785EK84h2vaJbQqU",authDomain:"ppsclase1login.firebaseapp.com",databaseURL:"https://ppsclase1login-default-rtdb.firebaseio.com",projectId:"ppsclase1login",storageBucket:"ppsclase1login.appspot.com",messagingSenderId:"778576259381",appId:"1:778576259381:web:7ed8e4ee8e3c3bcadf847c"};var vr=G(4363),ai=G(8239),wr=G(1343);let ns=(()=>{class q{constructor(U,J){this.firestore=U,this.afs=J}createOne(U,J){var Oe=this;return(0,ai.Z)(function*(){try{return yield Oe.firestore.crear(J,{fecha:U.fecha,hora:U.hora,usuario:U.usuario,mensaje:U.mensaje})}catch(yt){}})()}getAll(U){return this.afs.collection("chat",Oe=>Oe.orderBy("fecha","asc").orderBy("hora","asc")).snapshotChanges()}}return q.\u0275fac=function(U){return new(U||q)(I.LFG(wr.C),I.LFG(mi.ST))},q.\u0275prov=I.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();var Vr=G(7556),Gi=G(665);const L=["scrollMe"];function Z(q,$){if(1&q&&(I.TgZ(0,"div"),I.TgZ(1,"div",9),I.TgZ(2,"div",10),I.TgZ(3,"span",11),I._uU(4),I.qZA(),I._UZ(5,"br"),I._uU(6),I._UZ(7,"br"),I.TgZ(8,"span",12),I._uU(9),I.qZA(),I.qZA(),I.qZA(),I.qZA()),2&q){const U=I.oxw().$implicit;I.xp6(4),I.Oqu(U.data.usuario),I.xp6(2),I.hij(" ",U.data.mensaje," "),I.xp6(3),I.AsE(" ",U.data.fecha," ",U.data.hora,"")}}function V(q,$){if(1&q&&(I.TgZ(0,"div"),I.TgZ(1,"div",13),I.TgZ(2,"div",14),I.TgZ(3,"span",15),I._uU(4),I.qZA(),I._UZ(5,"br"),I._uU(6),I._UZ(7,"br"),I.TgZ(8,"span",12),I._uU(9),I.qZA(),I.qZA(),I.qZA(),I.qZA()),2&q){const U=I.oxw().$implicit;I.xp6(4),I.Oqu(U.data.usuario),I.xp6(2),I.hij(" ",U.data.mensaje," "),I.xp6(3),I.AsE("",U.data.fecha," ",U.data.hora,"")}}function Q(q,$){if(1&q&&(I.TgZ(0,"div",7),I.YNc(1,Z,10,4,"div",8),I.YNc(2,V,10,4,"div",8),I._UZ(3,"hr"),I.qZA()),2&q){const U=$.$implicit,J=I.oxw();I.xp6(1),I.Q6J("ngIf",U.data.usuario==J.user.email),I.xp6(1),I.Q6J("ngIf",U.data.usuario!=J.user.email)}}let be=(()=>{class q{constructor(U,J,Oe){this.chatService=U,this.authSvc=J,this.firestore=Oe,this.mensaje={mensaje:"",usuario:"",fecha:"",hora:""},this.chat=[],this.gaurdarUsuario()}gaurdarUsuario(){var U=this;return(0,ai.Z)(function*(){U.user=yield U.authSvc.getCurentUser()})()}ngOnInit(){this.chatService.getAll("chat").subscribe(U=>{this.chat=[],U.forEach(J=>{this.chat.push({id:J.payload.doc.id,data:J.payload.doc.data()})})})}ngAfterViewChecked(){this.scrollear()}scrollear(){this.listadoMensajes.nativeElement.scrollTop=this.listadoMensajes.nativeElement.scrollHeight}send(){var U=this;return(0,ai.Z)(function*(){let J=new Date;U.mensaje.usuario=U.user.email,U.mensaje.fecha=J.getFullYear()+"-"+(J.getMonth()+1)+"-"+J.getDate(),U.mensaje.hora=J.getHours()+":"+J.getMinutes()+":"+J.getSeconds(),U.firestore.crear("chat",{fecha:U.mensaje.fecha,hora:U.mensaje.hora,usuario:U.mensaje.usuario,mensaje:U.mensaje.mensaje}),U.mensaje.mensaje=""})()}}return q.\u0275fac=function(U){return new(U||q)(I.Y36(ns),I.Y36(Vr.e),I.Y36(wr.C))},q.\u0275cmp=I.Xpm({type:q,selectors:[["app-chat"]],viewQuery:function(U,J){if(1&U&&I.Gf(L,5),2&U){let Oe;I.iGM(Oe=I.CRH())&&(J.listadoMensajes=Oe.first)}},decls:8,vars:3,consts:[[1,"scroll"],["scrollMe",""],[1,"",2,"margin-top","30px"],["class","container",4,"ngFor","ngForOf"],[1,"text-area","input-group","mb-3"],["type","text","placeholder","Escribir mensaje...",1,"form-control",3,"ngModel","keydown.enter","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],[1,"container"],[4,"ngIf"],[1,"d-flex","justify-content-end","mb-4"],[1,"",2,"text-align","right","font-size","20px","width","700px"],[1,"msg_container_from"],[2,"font-size","15px"],[1,"d-flex","justify-content-start","mb-4"],[1,"",2,"text-align","left","font-size","20px"],[1,"msg_container_otro"]],template:function(U,J){1&U&&(I.TgZ(0,"div",0,1),I.TgZ(2,"div",2),I.YNc(3,Q,4,2,"div",3),I.qZA(),I.qZA(),I.TgZ(4,"div",4),I.TgZ(5,"input",5),I.NdJ("keydown.enter",function(){return J.send()})("ngModelChange",function(yt){return J.mensaje.mensaje=yt}),I.qZA(),I.TgZ(6,"button",6),I.NdJ("click",function(){return J.send()}),I._uU(7,"Enviar"),I.qZA(),I.qZA()),2&U&&(I.xp6(3),I.Q6J("ngForOf",J.chat),I.xp6(2),I.Q6J("ngModel",J.mensaje.mensaje),I.xp6(1),I.Q6J("disabled",!J.mensaje))},directives:[C.sg,Gi.Fj,Gi.JJ,Gi.On,C.O5],styles:[".msg_card_body[_ngcontent-%COMP%]{overflow-y:auto}.msg_card_body[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;background:#000}.msg_card_body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff}.chat[_ngcontent-%COMP%]{position:relative;width:500px;height:200%;color:#000;margin-top:auto;margin-bottom:auto}.card[_ngcontent-%COMP%]{height:500px;border-radius:15px!important;background-color:transparent}.msg_container[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-left:10px;border-radius:25px;background-color:#82ccdd;padding:10px;position:relative;color:#000}.msg_container_send[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;margin-right:10px;border-radius:25px;background-color:#78e08f;padding:10px;position:relative}.msg_time[_ngcontent-%COMP%]{position:absolute;left:30px;bottom:-15px;color:#00000080;font-size:10px}.msg_user[_ngcontent-%COMP%]{position:absolute;left:30px;bottom:-15px;color:#ffffff80;font-size:10px}.msg_time_send[_ngcontent-%COMP%]{position:absolute;right:0px;bottom:-15px;color:#00000080;font-size:10px;width:100px;display:block}.msg_user_send[_ngcontent-%COMP%]{position:absolute;right:0;bottom:-15px;color:#00000080;font-size:10px}.msg_container_from[_ngcontent-%COMP%]{right:0;bottom:-15px;color:#157722;font-size:15px}.msg_container_otro[_ngcontent-%COMP%]{right:0;bottom:-15px;color:#4682b4;font-size:15px}.input-group-append[_ngcontent-%COMP%]{background-color:#daeedf}.scroll[_ngcontent-%COMP%]{height:83vh;overflow-x:hidden;overflow-y:auto}.mensaje-mio[_ngcontent-%COMP%]{color:#4169e1}.right[_ngcontent-%COMP%]{display:inline;float:right}.left[_ngcontent-%COMP%]{align-items:flex-start}.text-area[_ngcontent-%COMP%]{position:absolute;bottom:0;padding-left:5%;padding-right:5%}p[_ngcontent-%COMP%]{width:200px;border:1px solid;padding:2px 5px;white-space:nowrap;overflow:hidden}.overflow-visible[_ngcontent-%COMP%]{white-space:initial}"]}),q})();const He=function(){return["/"]},lt=function(){return["/juegos/colores"]};let k=(()=>{class q{constructor(){}ngOnInit(){this.setSeccion("descripcion")}setSeccion(U){this.seccion=U}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275cmp=I.Xpm({type:q,selectors:[["app-quien-soy"]],decls:40,vars:4,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[1,"row"],[1,"col"],[1,"display-3"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],["href","https://github.com/FrancoSagnella","target","_blank",1,"btn","btn-light"],["href","https://github.com/FrancoSagnella/TPSalaDeJuegos-Sagnella-Franco","target","_blank",1,"btn","btn-light"],["role","button",1,"btn","btn-secondary",3,"routerLink"],["src","../../assets/franco.jpg","alt","",1,"foto"],[1,"col",2,"text-align","center"],[1,"display-5"],[2,"font-size","large"],[2,"margin-top","30px","margin-bottom","30px","text-align","center"]],template:function(U,J){1&U&&(I.TgZ(0,"body"),I.TgZ(1,"main",0),I.TgZ(2,"div",1),I.TgZ(3,"div",2),I.TgZ(4,"div",3),I.TgZ(5,"div",4),I.TgZ(6,"h1",5),I._uU(7,"Sobre m\xed"),I.qZA(),I.TgZ(8,"p"),I._uU(9,'Hola! Soy Franco Sagnella, tengo 19 a\xf1os y soy estudiante de la carrera "Tecnicatura Universitaria en Programacion", en la Universidad Tecnologica Nacional. Esta misma aplicacion forma parte de una ejercitacion pr\xe1ctica para la materia Laboratorio 4, en donde se presentan una serie de juegos para desafiar a los usuarios y evaluar sus capacidades. Que lo disfruten! '),I.qZA(),I._UZ(10,"hr"),I.TgZ(11,"div",6),I.TgZ(12,"a",7),I._uU(13," GitHub personal"),I.qZA(),I.TgZ(14,"a",8),I._uU(15," Repositorio de la aplicacion"),I.qZA(),I.qZA(),I._UZ(16,"br"),I._UZ(17,"hr"),I.TgZ(18,"p"),I.TgZ(19,"a",9),I._uU(20,"Ir a jugar! \xbb"),I.qZA(),I.qZA(),I.qZA(),I.TgZ(21,"div",4),I._UZ(22,"img",10),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I.TgZ(23,"div",2),I.TgZ(24,"div",3),I.TgZ(25,"div",4),I.TgZ(26,"h1",5),I._uU(27,"Detalles del juego propio"),I.qZA(),I.qZA(),I.qZA(),I._UZ(28,"hr"),I.TgZ(29,"div",3),I.TgZ(30,"div",11),I.TgZ(31,"h1",12),I._uU(32,"\xbfQue color es?"),I.qZA(),I._UZ(33,"br"),I.TgZ(34,"p",13),I._uU(35,"El juego se titula \xbfQue color es?, sus reglas son sencillas y su dise\xf1o interesante. La idea de este juego surgi\xf3 de elegir colores para estilos en CSS. Al usar los codigos RGB de los colores se me ocurri\xf3 la idea de generar un color aleatorio (generando un valor para el rojo, otro para el azul y otro para el verde). Con esto, el juego consiste en generar un codigo RGB aleatorio, que ser\xe1 mostrado al jugador en dicho formato, debajo se mostrar\xe1n una serie de recuadros de diferentes colores, uno de estos estando compuesto por el codigo RGB mostrado anteriormente. El jugador deber\xe1 elegir entre los distintos colores procurando adivinar el correcto, o descartando las opciones err\xf3neas a medida que se van pulsando. El objetivo del juego es conseguir un maximo de 10 puntos, pero hay que tener cuidado con tantear y generar errores! ya que si se acumulan un m\xe1ximo de 10 errores se dar\xe1 por terminado el juego. Espero que se diviertan... \xa1Mucha suerte!. "),I.qZA(),I.qZA(),I.qZA(),I.TgZ(36,"p",14),I.TgZ(37,"a",9),I._uU(38,"\xa1Prob\xe1 mi juego! \xbb"),I.qZA(),I.qZA(),I._UZ(39,"hr"),I.qZA(),I.qZA(),I.qZA()),2&U&&(I.xp6(19),I.Q6J("routerLink",I.DdM(2,He)),I.xp6(18),I.Q6J("routerLink",I.DdM(3,lt)))},directives:[vr.yS],styles:[".foto[_ngcontent-%COMP%]{width:500px;height:500px;border-radius:50%}"]}),q})();const x=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>G.e(886).then(G.bind(G,9886)).then(q=>q.HomeModule)},{path:"auth",loadChildren:()=>G.e(119).then(G.bind(G,7119)).then(q=>q.AuthModule)},{path:"juegos",loadChildren:()=>G.e(734).then(G.bind(G,3734)).then(q=>q.JuegosModule)},{path:"chat",component:be,canActivate:[G(8063).a]},{path:"quien-soy",component:k}];let K=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=I.oAB({type:q}),q.\u0275inj=I.cJS({imports:[[vr.Bz.forRoot(x)],vr.Bz]}),q})();const Ae=function(){return["/auth/login"]};function bt(q,$){if(1&q){const U=I.EpF();I.TgZ(0,"li",11),I.TgZ(1,"a",13),I.NdJ("click",function(){return I.CHM(U),I.oxw(2).onLogout()}),I._uU(2,"LogOut"),I.qZA(),I.qZA()}2&q&&(I.xp6(1),I.Q6J("routerLink",I.DdM(1,Ae)))}const Ht=function(){return["/"]};function Kn(q,$){if(1&q&&(I.TgZ(0,"ul",9),I.YNc(1,bt,3,2,"li",10),I.TgZ(2,"li",11),I.TgZ(3,"a",12),I._uU(4),I.qZA(),I.qZA(),I.qZA()),2&q){const U=$.ngIf;I.xp6(1),I.Q6J("ngIf",U),I.xp6(2),I.Q6J("routerLink",I.DdM(3,Ht)),I.xp6(1),I.Oqu(null==U?null:U.email)}}const Ir=function(){return["/auth/register"]};function sr(q,$){1&q&&(I.TgZ(0,"ul",9),I.TgZ(1,"li",11),I.TgZ(2,"a",12),I._uU(3,"Login"),I.qZA(),I.qZA(),I.TgZ(4,"li",11),I.TgZ(5,"a",12),I._uU(6,"Register"),I.qZA(),I.qZA(),I.qZA()),2&q&&(I.xp6(2),I.Q6J("routerLink",I.DdM(2,Ae)),I.xp6(3),I.Q6J("routerLink",I.DdM(3,Ir)))}const $n=function(){return["/home"]},Yr=function(){return["/chat"]};let Es=(()=>{class q{constructor(U,J){this.authSvc=U,this.router=J,this.user$=this.authSvc.afAuth.user}ngOnInit(){return(0,ai.Z)(function*(){})()}onLogout(){var U=this;return(0,ai.Z)(function*(){try{yield U.authSvc.logout(),U.router.navigateByUrl("/auth/login")}catch(J){console.log(J)}})()}}return q.\u0275fac=function(U){return new(U||q)(I.Y36(Vr.e),I.Y36(vr.F0))},q.\u0275cmp=I.Xpm({type:q,selectors:[["app-navbar"]],decls:14,vars:8,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"navbar-brand",3,"routerLink"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"float-right"],["class","navbar-nav mx-auto",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mx-auto"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","click"]],template:function(U,J){if(1&U&&(I.TgZ(0,"nav",0),I.TgZ(1,"a",1),I._uU(2,"Sala de Juegos"),I.qZA(),I.TgZ(3,"a",1),I._uU(4," Chat"),I.qZA(),I.TgZ(5,"button",2),I._UZ(6,"span",3),I.qZA(),I.TgZ(7,"div",4),I._UZ(8,"ul",5),I.TgZ(9,"div",6),I.YNc(10,Kn,5,4,"ul",7),I.ALo(11,"async"),I.qZA(),I.YNc(12,sr,7,4,"ng-template",null,8,I.W1O),I.qZA(),I.qZA()),2&U){const Oe=I.MAs(13);I.xp6(1),I.Q6J("routerLink",I.DdM(6,$n)),I.xp6(2),I.Q6J("routerLink",I.DdM(7,Yr)),I.xp6(7),I.Q6J("ngIf",I.lcZ(11,4,J.user$))("ngIfElse",Oe)}},directives:[vr.yS,C.O5],pipes:[C.Ov],styles:[""]}),q})(),zr=(()=>{class q{constructor(){this.title="Sala de Juegos Sagnella Franco"}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275cmp=I.Xpm({type:q,selectors:[["app-root"]],decls:3,vars:0,consts:[[2,"margin-top","3.4rem"]],template:function(U,J){1&U&&(I._UZ(0,"app-navbar"),I._UZ(1,"div",0),I._UZ(2,"router-outlet"))},directives:[Es,vr.lC],styles:[""]}),q})();var Ai=G(1841);let zs=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=I.oAB({type:q,bootstrap:[zr]}),q.\u0275inj=I.cJS({providers:[],imports:[[hn,Gi.u5,K,Cr.hO.initializeApp(Ti_firebaseConfig),Bn.ww,mi.yb,oi.forRoot(),Ai.JF]]}),q})();(0,I.G48)(),Mn().bootstrapModule(zs).catch(q=>console.error(q))},4762:(Rt,ze,G)=>{"use strict";G.d(ze,{ZT:()=>I,pi:()=>se,_T:()=>Ce,mG:()=>_e,Jh:()=>ue,XA:()=>ge,CR:()=>he,ev:()=>Le});var C=function(Ne,Ue){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(We,$e){We.__proto__=$e}||function(We,$e){for(var je in $e)Object.prototype.hasOwnProperty.call($e,je)&&(We[je]=$e[je])})(Ne,Ue)};function I(Ne,Ue){if("function"!=typeof Ue&&null!==Ue)throw new TypeError("Class extends value "+String(Ue)+" is not a constructor or null");function We(){this.constructor=Ne}C(Ne,Ue),Ne.prototype=null===Ue?Object.create(Ue):(We.prototype=Ue.prototype,new We)}var se=function(){return(se=Object.assign||function(Ue){for(var We,$e=1,je=arguments.length;$e<je;$e++)for(var le in We=arguments[$e])Object.prototype.hasOwnProperty.call(We,le)&&(Ue[le]=We[le]);return Ue}).apply(this,arguments)};function Ce(Ne,Ue){var We={};for(var $e in Ne)Object.prototype.hasOwnProperty.call(Ne,$e)&&Ue.indexOf($e)<0&&(We[$e]=Ne[$e]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for($e=Object.getOwnPropertySymbols(Ne);je<$e.length;je++)Ue.indexOf($e[je])<0&&Object.prototype.propertyIsEnumerable.call(Ne,$e[je])&&(We[$e[je]]=Ne[$e[je]])}return We}function _e(Ne,Ue,We,$e){return new(We||(We=Promise))(function(le,ot){function rt(_t){try{gt($e.next(_t))}catch(Lt){ot(Lt)}}function Zt(_t){try{gt($e.throw(_t))}catch(Lt){ot(Lt)}}function gt(_t){_t.done?le(_t.value):function(le){return le instanceof We?le:new We(function(ot){ot(le)})}(_t.value).then(rt,Zt)}gt(($e=$e.apply(Ne,Ue||[])).next())})}function ue(Ne,Ue){var $e,je,le,ot,We={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return ot={next:rt(0),throw:rt(1),return:rt(2)},"function"==typeof Symbol&&(ot[Symbol.iterator]=function(){return this}),ot;function rt(gt){return function(_t){return function(gt){if($e)throw new TypeError("Generator is already executing.");for(;We;)try{if($e=1,je&&(le=2&gt[0]?je.return:gt[0]?je.throw||((le=je.return)&&le.call(je),0):je.next)&&!(le=le.call(je,gt[1])).done)return le;switch(je=0,le&&(gt=[2&gt[0],le.value]),gt[0]){case 0:case 1:le=gt;break;case 4:return We.label++,{value:gt[1],done:!1};case 5:We.label++,je=gt[1],gt=[0];continue;case 7:gt=We.ops.pop(),We.trys.pop();continue;default:if(!(le=(le=We.trys).length>0&&le[le.length-1])&&(6===gt[0]||2===gt[0])){We=0;continue}if(3===gt[0]&&(!le||gt[1]>le[0]&&gt[1]<le[3])){We.label=gt[1];break}if(6===gt[0]&&We.label<le[1]){We.label=le[1],le=gt;break}if(le&&We.label<le[2]){We.label=le[2],We.ops.push(gt);break}le[2]&&We.ops.pop(),We.trys.pop();continue}gt=Ue.call(Ne,We)}catch(_t){gt=[6,_t],je=0}finally{$e=le=0}if(5&gt[0])throw gt[1];return{value:gt[0]?gt[1]:void 0,done:!0}}([gt,_t])}}}function ge(Ne){var Ue="function"==typeof Symbol&&Symbol.iterator,We=Ue&&Ne[Ue],$e=0;if(We)return We.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&$e>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[$e++],done:!Ne}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(Ne,Ue){var We="function"==typeof Symbol&&Ne[Symbol.iterator];if(!We)return Ne;var je,ot,$e=We.call(Ne),le=[];try{for(;(void 0===Ue||Ue-- >0)&&!(je=$e.next()).done;)le.push(je.value)}catch(rt){ot={error:rt}}finally{try{je&&!je.done&&(We=$e.return)&&We.call($e)}finally{if(ot)throw ot.error}}return le}function Le(Ne,Ue,We){if(We||2===arguments.length)for(var le,$e=0,je=Ue.length;$e<je;$e++)(le||!($e in Ue))&&(le||(le=Array.prototype.slice.call(Ue,0,$e)),le[$e]=Ue[$e]);return Ne.concat(le||Array.prototype.slice.call(Ue))}},8239:(Rt,ze,G)=>{"use strict";function C(se,Ce,Re,pe,ke,_e,ue){try{var te=se[_e](ue),ae=te.value}catch(ge){return void Re(ge)}te.done?Ce(ae):Promise.resolve(ae).then(pe,ke)}function I(se){return function(){var Ce=this,Re=arguments;return new Promise(function(pe,ke){var _e=se.apply(Ce,Re);function ue(ae){C(_e,pe,ke,ue,te,"next",ae)}function te(ae){C(_e,pe,ke,ue,te,"throw",ae)}ue(void 0)})}}G.d(ze,{Z:()=>I})}},Rt=>{Rt(Rt.s=434)}]);